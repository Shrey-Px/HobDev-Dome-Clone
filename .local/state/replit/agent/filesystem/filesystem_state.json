{"file_contents":{"Player/Platforms/Android/MainActivity.cs":{"content":"﻿using Android.App;\nusing Android.Content;\nusing Android.Content.PM;\nusing Android.OS;\n\nnamespace Player;\n\n[Activity(\n    Theme = \"@style/Maui.SplashTheme\",\n    MainLauncher = true,\n    LaunchMode = LaunchMode.SingleTop,\n    ConfigurationChanges = ConfigChanges.ScreenSize\n        | ConfigChanges.Orientation\n        | ConfigChanges.UiMode\n        | ConfigChanges.ScreenLayout\n        | ConfigChanges.SmallestScreenSize\n        | ConfigChanges.Density\n)]\n[IntentFilter(\n    new string[] { Intent.ActionView },\n    AutoVerify = true,\n    Categories = new[] { Intent.CategoryDefault, Intent.CategoryBrowsable },\n    DataScheme = \"https\",\n    DataHost = \"dafloinnovations.com\",\n    DataPath = \"/\"\n)]\npublic class MainActivity : MauiAppCompatActivity\n{\n    protected override void OnCreate(Bundle? savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        RequestedOrientation = ScreenOrientation.Portrait;\n    }\n}\n","path":null,"size_bytes":932,"size_tokens":null},"Admin/CustomControls/Labels/CustomLightLabel.cs":{"content":"﻿namespace Admin.CustomControls.Labels\n{\n    public class CutomLightLabel : Label\n    {\n        public CutomLightLabel()\n        {\n            FontFamily = \"InterLight\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Light12Label : CutomLightLabel\n    {\n        public Light12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Light14Label : CutomLightLabel\n    {\n        public Light14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Light16Label : CutomLightLabel\n    {\n        public Light16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Light18Label : CutomLightLabel\n    {\n        public Light18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Light20Label : CutomLightLabel\n    {\n        public Light20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Light22Label : CutomLightLabel\n    {\n        public Light22Label()\n        {\n            FontSize = 22;\n        }\n    }\n\n    public class Light24Label : CutomLightLabel\n    {\n        public Light24Label()\n        {\n            FontSize = 24;\n        }\n    }\n\n    public class Light32Label : CutomLightLabel\n    {\n        public Light32Label()\n        {\n            FontSize = 32;\n        }\n    }\n\n    public class Light40Label : CutomLightLabel\n    {\n        public Light40Label()\n        {\n            FontSize = 40;\n        }\n    }\n}\n","path":null,"size_bytes":1571,"size_tokens":null},"Player/CustomControls/Labels/CustomRegularLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CustomRegularLabel : Label\n    {\n        public CustomRegularLabel()\n        {\n            FontFamily = \"InterRegular\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Regular8Label : CustomRegularLabel\n    {\n        public Regular8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class Regular9Label : CustomRegularLabel\n    {\n        public Regular9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class Regular10Label : CustomRegularLabel\n    {\n        public Regular10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class Regular12Label : CustomRegularLabel\n    {\n        public Regular12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Regular14Label : CustomRegularLabel\n    {\n        public Regular14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Regular16Label : CustomRegularLabel\n    {\n        public Regular16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Regular18Label : CustomRegularLabel\n    {\n        public Regular18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Regular20Label : CustomRegularLabel\n    {\n        public Regular20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Regular26Label : CustomRegularLabel\n    {\n        public Regular26Label()\n        {\n            FontSize = 26;\n        }\n    }\n\n    public class Regular28Label : CustomRegularLabel\n    {\n        public Regular28Label()\n        {\n            FontSize = 28;\n        }\n    }\n}\n","path":null,"size_bytes":1782,"size_tokens":null},"Dome.Shared/Helper/AlertHelper.cs":{"content":"using CommunityToolkit.Maui.Alerts;\nusing Color = Microsoft.Maui.Graphics.Color;\n\nnamespace Dome.Shared.Helper\n{\n    public static class AlertHelper\n    {\n        public static async Task ShowSnackBar(string messsage)\n        {\n            try\n            {\n                CancellationTokenSource cancellationTokenSource = new CancellationTokenSource();\n                SnackbarOptions snackbarOptions = new SnackbarOptions\n                {\n                    BackgroundColor = Colors.LightGray,\n                    TextColor = Colors.Black,\n                    ActionButtonTextColor = Color.FromArgb(\"#EF2F50\"),\n                    CornerRadius = 10,\n                    CharacterSpacing = .5,\n                };\n\n                string text = messsage;\n                string actionButtonText = \"Dismiss\";\n                TimeSpan duration = TimeSpan.FromSeconds(5);\n                ISnackbar snackBar = Snackbar.Make(\n                    text,\n                    null,\n                    actionButtonText,\n                    duration,\n                    snackbarOptions\n                );\n                await snackBar.Show(cancellationTokenSource.Token);\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1337,"size_tokens":null},"Admin/Platforms/iOS/AppDelegate.cs":{"content":"﻿using Foundation;\n\nnamespace Admin;\n\n[Register(\"AppDelegate\")]\npublic class AppDelegate : MauiUIApplicationDelegate\n{\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":202,"size_tokens":null},"Admin/ViewModels/AppShellViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class AppShellViewModel : ObservableObject\n    {\n       \n\n        [RelayCommand]\n        async Task Logout()\n        {\n            try\n            {\n                IConnectivity? connectivity =\n                    Shell.Current.Handler?.MauiContext?.Services.GetRequiredService<IConnectivity>();\n                INavigationService? navigationService =\n                    Shell.Current.Handler?.MauiContext?.Services.GetRequiredService<INavigationService>();\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                var result = await Shell.Current.DisplayAlert(\n                    \"Logout\",\n                    \"Are you sure you want to logout?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    User? realmUser = App.RealmApp?.CurrentUser;\n                    if (realmUser != null)\n                    {\n                        await realmUser.LogOutAsync();\n                    }\n                    await navigationService.NavigateToAsync(\"///Login\");\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1478,"size_tokens":null},"Player/Views/MyBookingsView.cs":{"content":"using Syncfusion.Maui.Toolkit.BottomSheet;\n\nnamespace Player.Views;\n\npublic class MyBookingsView : BaseView\n{\n    public MyBookingsView(MyBookingsViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Resources.Add(\n                new Style<UnderlinedTabItem>(\n                    (UnderlinedTabItem.FontFamilyProperty, \"InterExtraBold\"),\n                    (UnderlinedTabItem.UnderlineHeightProperty, 6),\n                    (UnderlinedTabItem.LabelSizeProperty, 12),\n                    (UnderlinedTabItem.SelectedTabColorProperty, Color.FromArgb(\"#EF2F50\"))\n                ).AddAppThemeBinding(\n                    UnderlinedTabItem.UnselectedLabelColorProperty,\n                    Color.FromArgb(\"7D7D7D\"),\n                    Color.FromArgb(\"#E0E0E0\")\n                )\n            );\n\n            CollectionView plannedBookingControl = new PlannedBookingsTemplate();\n            Grid upComingBookingsControl = new UpcomingBookingsTemplate();\n            CollectionView pastBookingsControl = new PastBookingsTemplate();\n            CollectionView cancelledBookingsControl = new CancelledBookingsTemplate();\n\n            ViewSwitcher switcher = new ViewSwitcher\n            {\n                new DelayedView { View = plannedBookingControl },\n                new DelayedView { View = upComingBookingsControl },\n                new DelayedView { View = pastBookingsControl },\n                new DelayedView { View = cancelledBookingsControl },\n            };\n\n            TabHostView tabHostView = new TabHostView\n            {\n                HeightRequest = 50,\n                Tabs =\n                {\n                    new UnderlinedTabItem { Label = \"CONNECT\" },\n                    new UnderlinedTabItem { Label = \"UPCOMING\" },\n                    new UnderlinedTabItem { Label = \"PAST\" },\n                    new UnderlinedTabItem { Label = \"CANCELLED\" },\n                },\n            }.Bind(\n                TabHostView.SelectedIndexProperty,\n                path: \"SelectedIndex\",\n                BindingMode.TwoWay,\n                source: switcher\n            );\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n                    Padding = new Thickness(16, 0, 16, 0),\n                    RowSpacing = 21,\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new VerticalStackLayout\n                            {\n                                Padding = new Thickness(18, 14, 18, 0),\n                                Spacing = 0,\n                                Children =\n                                {\n                                    new ExtraBold28Label\n                                    {\n                                        TextColor = Color.FromArgb(\"#AEAEAE\"),\n                                    }.Bind(\n                                        Bold28Label.TextProperty,\n                                        nameof(viewModel.UserName),\n                                        stringFormat: \"Hey {0}\"\n                                    ),\n                                    new Regular28Label { Text = \"View Your Bookings!\" },\n                                    tabHostView.Margins(0, 14, 0, 0),\n                                },\n                            },\n                        }.AppThemeBinding(\n                            Border.BackgroundProperty,\n                            Colors.White,\n                            Color.FromArgb(\"#23262A\")\n                        ),\n                        switcher.Row(BodyRow.second),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            switcher.SelectedIndex = 0;\n\n            Loaded += async (s, e) =>\n            {\n                await viewModel.LoadData();\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":4651,"size_tokens":null},"Admin/View/CoachView.cs":{"content":"namespace Admin.View;\n\npublic class CoachView : BaseView\n{\n    CoachViewModel viewModel;\n    int count = 0;\n\n    public CoachView(CoachViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Title = \"Coach\";\n            this.viewModel = viewModel;\n            Padding = new Thickness(20, 40);\n            Content = new ScrollView\n            {\n                WidthRequest = 750,\n                HorizontalOptions = LayoutOptions.Start,\n                Orientation = ScrollOrientation.Both,\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Content = new CustomBorder\n                {\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, 20),\n                            (BodyRow.second, 45),\n                            (BodyRow.third, 50),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, 40),\n                            (BodyRow.sixth, 50),\n                            (BodyRow.seventh, Auto),\n                            (BodyRow.eighth, 35),\n                            (BodyRow.ninth, 50),\n                            (BodyRow.tenth, Auto),\n                            (BodyRow.eleventh, 35),\n                            (BodyRow.twelfth, 80),\n                            (BodyRow.thirteenth, Auto),\n                            (BodyRow.fourteenth, 40),\n                            (BodyRow.fifteenth, 50),\n                            (BodyRow.sixteenth, Auto),\n                            (BodyRow.seventeenth, 70)\n                        ),\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, 310),\n                            (BodyColumn.second, 310)\n                        ),\n                        Padding = 20,\n\n                        ColumnSpacing = 10,\n                        Children =\n                        {\n                            new Bold20Label { Text = \"COACH DETAILS\" }\n                                .Row(BodyRow.first)\n                                .Column(BodyColumn.first),\n                            new Bold20Label { Text = \"Coach Name\" }\n                                .Row(BodyRow.second)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 20, 0, 0),\n                            new BorderedEntryRectangle\n                            {\n                                PlaceholderText = \"Type here\",\n                                WidthRequest = 610,\n                            }\n                                .Row(BodyRow.third)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(2)\n                                .Bind(\n                                    BorderedEntryRectangle.EntryTextProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.CoachName)}\",\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Coach name is required\",\n                            }\n                                .Row(BodyRow.fourth)\n                                .Column(BodyColumn.first)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.CoachName)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new Bold20Label { Text = \"Sport Type\" }\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 10, 0, 0),\n                            new Picker { WidthRequest = 305 }\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.first)\n                                .Bind(Picker.ItemsSourceProperty, static (CoachViewModel vm) => vm.AllGames, source: viewModel)\n                                .Bind(\n                                    Picker.SelectedItemProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.GameCategory)}\",\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Sport Type is required\",\n                            }\n                                .Row(BodyRow.seventh)\n                                .Column(BodyColumn.first)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.GameCategory)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new Bold20Label { Text = \"Competancy\" }\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.second)\n                                .Margins(0, 15, 0, 0),\n                            new Picker { WidthRequest = 305 }\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.second)\n                                .Bind(Picker.ItemsSourceProperty, static (CoachViewModel vm) => vm.CompetancyTypes, source: viewModel)\n                                .Bind(\n                                    Picker.SelectedItemProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.Competancy)}\",\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Competancy is required\",\n                            }\n                                .Row(BodyRow.seventh)\n                                .Column(BodyColumn.second)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.Competancy)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new Bold20Label { Text = \"Venue Name\" }\n                                .Row(BodyRow.eighth)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 10, 0, 0),\n                            new Picker \n                            { \n                                WidthRequest = 610,\n                                ItemDisplayBinding = new Binding(nameof(Venue.FullName))\n                            }\n                                .Row(BodyRow.ninth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(2)\n                                .Bind(Picker.ItemsSourceProperty, static (CoachViewModel vm) => vm.AllVenues, source: viewModel)\n                                .Bind(\n                                    Picker.SelectedItemProperty,\n                                    nameof(viewModel.SelectedVenue),\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Venue name is required\",\n                            }\n                                .Row(BodyRow.tenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(2)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    nameof(viewModel.SelectedVenue),\n                                    converter: new IsNullConverter()\n                                ),\n                            new Bold20Label { Text = \"Description\" }\n                                .Row(BodyRow.eleventh)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 10, 0, 0),\n                            new CustomBorder\n                            {\n                                Padding = 0,\n                                Content = new Editor\n                                {\n                                    Placeholder = \"Type here\",\n                                    AutoSize = EditorAutoSizeOption.TextChanges,\n                                    MaxLength = 300,\n                                    FontSize = 16,\n                                    FontFamily = \"InterRegular\",\n                                }.Bind(\n                                    Editor.TextProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.CoachDescription)}\",\n                                    mode: BindingMode.TwoWay\n                                ),\n                            }\n                                .Row(BodyRow.twelfth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(2)\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Description is required\",\n                            }\n                                .Row(BodyRow.thirteenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(2)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.CoachDescription)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new Bold20Label { Text = \"Contact Number\" }\n                                .Row(BodyRow.fourteenth)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 10, 0, 0),\n                            new BorderedEntryRectangle\n                            {\n                                PlaceholderText = \"Type here\",\n                                WidthRequest = 305,\n                            }\n                                .Row(BodyRow.fifteenth)\n                                .Column(BodyColumn.first)\n                                .Bind(\n                                    BorderedEntryRectangle.EntryTextProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.ContactNumber)}\",\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Contact number is required\",\n                            }\n                                .Row(BodyRow.sixteenth)\n                                .Column(BodyColumn.first)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.ContactNumber)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new Bold20Label { Text = \"Email ID\" }\n                                .Row(BodyRow.fourteenth)\n                                .Column(BodyColumn.second)\n                                .Margins(0, 10, 0, 0),\n                            new BorderedEntryRectangle\n                            {\n                                PlaceholderText = \"Type here\",\n                                WidthRequest = 305,\n                            }\n                                .Row(BodyRow.fifteenth)\n                                .Column(BodyColumn.second)\n                                .Bind(\n                                    BorderedEntryRectangle.EntryTextProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.Email)}\",\n                                    mode: BindingMode.TwoWay\n                                )\n                                .Margins(0, 10, 0, 0),\n                            new Regular16Label\n                            {\n                                TextColor = Colors.Red,\n                                Text = \"Email is required\",\n                            }\n                                .Row(BodyRow.sixteenth)\n                                .Column(BodyColumn.second)\n                                .Bind(\n                                    Regular16Label.IsVisibleProperty,\n                                    $\"{nameof(viewModel.CoachData)}.{nameof(viewModel.CoachData.Email)}\",\n                                    converter: new IsStringNullOrWhiteSpaceConverter()\n                                ),\n                            new RegularButton\n                            {\n                                Text = \"CANCEL\",\n                                FontFamily = \"InterBold\",\n                                Background = Colors.Black,\n                                Command = viewModel.CancelCommand,\n                            }\n                                .Row(BodyRow.seventeenth)\n                                .Column(BodyColumn.first)\n                                .Margins(20, 20),\n                            new RegularButton\n                            {\n                                Text = \"UPLOAD\",\n                                FontFamily = \"InterBold\",\n                                Command = viewModel.UploadCoachCommand,\n                            }\n                                .Row(BodyRow.seventeenth)\n                                .Column(BodyColumn.second)\n                                .Margins(20, 20),\n                        },\n                    },\n                },\n            };\n\n            Loaded += LearnView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void LearnView_Loaded(object? sender, EventArgs e)\n    {\n        if (count == 0)\n        {\n            await viewModel.OnLoaded();\n            count++;\n        }\n    }\n}\n","path":null,"size_bytes":15615,"size_tokens":null},"Admin/ViewModels/Account/VerifyEmailForPasswordResetViewModel.cs":{"content":"﻿namespace Admin.ViewModels.Account\n{\n    public partial class VerifyEmailForPasswordResetViewModel : ObservableObject, IQueryAttributable\n    {\n        [ObservableProperty]\n        string oneTimePasscode = string.Empty;\n\n        [ObservableProperty]\n        string userEmail = string.Empty;\n\n        [ObservableProperty]\n        string newPassword = string.Empty;\n\n        [ObservableProperty]\n        bool timerStarted;\n\n        [ObservableProperty]\n        int timeLeft;\n\n        [ObservableProperty]\n        Color sendButtonColor;\n\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n        private readonly ISettingsService settingsService;\n        private readonly ITwilioService twilioService;\n        private readonly IConnectivity connectivity;\n        private readonly IPopupNavigation popupNavigation;\n\n        public VerifyEmailForPasswordResetViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            ISettingsService settingsService,\n            ITwilioService twilioService,\n            IConnectivity connectivity,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.settingsService = settingsService;\n                this.twilioService = twilioService;\n                this.connectivity = connectivity;\n                this.popupNavigation = popupNavigation;\n\n                SendButtonColor = Color.FromArgb(\"#EF2F50\");\n            }\n            catch (Exception)\n            {\n                Shell.Current.DisplayAlert(\"Error\", \"An error occurred\", \"OK\");\n            }\n        }\n\n        public void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                if (query.TryGetValue(nameof(UserEmail), out object? emailValue))\n                {\n                    string? email = emailValue.ToString();\n                    if (email != null)\n                    {\n                        UserEmail = email;\n                    }\n                }\n\n                if (query.TryGetValue(nameof(NewPassword), out object? passwordValue))\n                {\n                    string? password = passwordValue.ToString();\n                    if (password != null)\n                    {\n                        NewPassword = password;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                AppShell.Current.DisplayAlert(\"error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task SendEmailOTP()\n        {\n            try\n            {\n                await twilioService.SendEmailOTP(UserEmail);\n                await Shell.Current.DisplayAlert(\n                    \"OTP sent\",\n                    \"OTP successfully sent to registered e-mail\",\n                    \"OK\"\n                );\n\n                TimeLeft = 60;\n                TimerStarted = true;\n                SendButtonColor = Color.FromArgb(\"#D3D3D3\");\n\n                PeriodicTimer timer = new PeriodicTimer(TimeSpan.FromSeconds(1));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    TimeLeft--;\n                    if (TimeLeft == 0)\n                    {\n                        SendButtonColor = Color.FromArgb(\"#EF2F50\");\n                        TimerStarted = false;\n                        timer.Dispose();\n                    }\n                }\n                ;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifyEmailOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    string status = await twilioService.VerifyEmailOTP(UserEmail, OneTimePasscode);\n\n                    if (status == \"approved\")\n                    {\n                        await AlertHelper.ShowSnackBar(\"OTP Verified\");\n                        await App.RealmApp.EmailPasswordAuth.CallResetPasswordFunctionAsync(\n                            UserEmail,\n                            NewPassword\n                        );\n                        User? realmUser = App.RealmApp.CurrentUser;\n                        if (realmUser != null)\n                        {\n                            await realmUser.LogOutAsync();\n                        }\n                        await AlertHelper.ShowSnackBar(\"The new password has been reset\");\n                        await navigationService.NavigateToAsync($\"///Login\");\n                        await popupNavigation.PopAsync();\n                    }\n                    else if (status == \"pending\")\n                    {\n                        await popupNavigation.PopAsync();\n                        await Shell.Current.DisplayAlert(\n                            \"Invalid\",\n                            \"Invalid OTP. Please try again\",\n                            \"OK\"\n                        );\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5795,"size_tokens":null},"Dome.Shared/Synced/Coach.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    public partial class Coach : IRealmObject\n    {\n        private Coach() { }\n\n        public Coach(\n            ObjectId id,\n            string coachName,\n            string gameCategory,\n            string coachDescription,\n            Venue venue,\n            string competancy,\n            string phoneCode,\n            string contactNumber,\n            string email\n        )\n        {\n            Id = id;\n            CoachName = coachName;\n            GameCategory = gameCategory;\n            CoachDescription = coachDescription;\n            Venue = venue;\n            Competancy = competancy;\n            PhoneCode = phoneCode;\n            ContactNumber = contactNumber;\n            Email = email;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"coachName\")]\n        public string CoachName { get; set; }\n\n        [Indexed]\n        [MapTo(\"gameCategory\")]\n        public string GameCategory { get; set; }\n\n        [MapTo(\"coachDescription\")]\n        public string CoachDescription { get; set; }\n\n        [MapTo(\"venue\")]\n        public Venue? Venue { get; set; }\n\n        [MapTo(\"competancy\")]\n        public string Competancy { get; set; }\n\n        [MapTo(\"phoneCode\")]\n        public string PhoneCode { get; set; }\n\n        [MapTo(\"contactNumber\")]\n        public string ContactNumber { get; set; }\n\n        [MapTo(\"email\")]\n        public string Email { get; set; }\n    }\n}\n","path":null,"size_bytes":1486,"size_tokens":null},"Player/CustomControls/Labels/CustomSemiBoldLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CustomSemiBoldLabel : Label\n    {\n        public CustomSemiBoldLabel()\n        {\n            FontFamily = \"InterSemiBold\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class SemiBold8Label : CustomSemiBoldLabel\n    {\n        public SemiBold8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class SemiBold9Label : CustomSemiBoldLabel\n    {\n        public SemiBold9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class SemiBold10Label : CustomSemiBoldLabel\n    {\n        public SemiBold10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class SemiBold12Label : CustomSemiBoldLabel\n    {\n        public SemiBold12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class SemiBold13Label : CustomSemiBoldLabel\n    {\n        public SemiBold13Label()\n        {\n            FontSize = 13;\n        }\n    }\n\n    public class SemiBold14Label : CustomSemiBoldLabel\n    {\n        public SemiBold14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class SemiBold16Label : CustomSemiBoldLabel\n    {\n        public SemiBold16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class SemiBold18Label : CustomSemiBoldLabel\n    {\n        public SemiBold18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class SemiBold24Label : CustomSemiBoldLabel\n    {\n        public SemiBold24Label()\n        {\n            FontSize = 24;\n        }\n    }\n}\n","path":null,"size_bytes":1667,"size_tokens":null},"Admin/View/Account/VerifyEmailForPasswordResetView.cs":{"content":"namespace Admin.View.Account;\n\npublic class VerifyEmailForPasswordResetView : ContentPage\n{\n    private readonly VerifyEmailForPasswordResetViewModel viewModel;\n\n    public VerifyEmailForPasswordResetView(VerifyEmailForPasswordResetViewModel viewModel)\n    {\n        try\n        {\n            Title = \"Verify Email\";\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            this.viewModel = viewModel;\n            Shell.SetFlyoutBehavior(this, FlyoutBehavior.Disabled);\n\n            Content = new VerticalStackLayout\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                Margin = new Thickness(20, 10, 20, 10),\n                Children =\n                {\n                    new BorderedEntry\n                    {\n                        PlaceholderText = \"Enter OTP here\",\n                        WidthRequest = 500,\n                        HeightRequest = 70,\n                    }\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                    new Regular16Label { }\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span { Text = \"You can resend the OTP after \" },\n                                new Span { TextColor = Colors.Red }.Bind(\n                                    Span.TextProperty,\n                                    static (VerifyEmailForPasswordResetViewModel vm) => vm.TimeLeft,\n                                    source: viewModel\n                                ),\n                                new Span { Text = \" seconds\" },\n                            }\n                        )\n                        .Bind(IsVisibleProperty, static (VerifyEmailForPasswordResetViewModel vm) => vm.TimerStarted, source: viewModel),\n                    new RegularButton\n                    {\n                        Text = \"Send OTP\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                    }\n                        .Bind(\n                            RegularButton.BackgroundProperty,\n                            static (VerifyEmailForPasswordResetViewModel vm) => vm.SendButtonColor,\n                            source: viewModel\n                        )\n                        .BindCommand(static (VerifyEmailForPasswordResetViewModel vm) => vm.SendEmailOTPCommand, source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                    new RegularButton\n                    {\n                        Text = \"Verify Email\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                    }\n                        .BindCommand(nameof(viewModel.VerifyEmailOTPCommand), source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                },\n            };\n\n            BindingContext = viewModel;\n            Loaded += VerifyEmailForPasswordResetView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    private async void VerifyEmailForPasswordResetView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.SendEmailOTPCommand.ExecuteAsync(null);\n    }\n}\n","path":null,"size_bytes":3572,"size_tokens":null},"Player/Models/Chat/AddRemoveUserResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class AddRemoveUserResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"convo_sid\")]\n    public string? ConversationId { get; set; }\n\n    [JsonPropertyName(\"username\")]\n    public string? UserName { get; set; }\n}\n","path":null,"size_bytes":319,"size_tokens":null},"Player/Models/APIServer/CustomerCreateResponse.cs":{"content":"﻿using System.Text.Json.Serialization;\n\nnamespace Player.Models.APIServer\n{\n    public class CustomerCreateResponse\n    {\n        [JsonPropertyName(\"error\")]\n        public string? Error { get; set; }\n\n        [JsonPropertyName(\"clientId\")]\n        public string? ClientId { get; set; }\n    }\n}\n","path":null,"size_bytes":297,"size_tokens":null},"Dome.Shared/Services/Implementations/MauiNavigationService.cs":{"content":"﻿namespace Dome.Shared.Services.Implementations\n{\n    public class MauiNavigationService : INavigationService\n    {\n        public Task InitializeAsync()\n        {\n            //return NavigateToAsync(string.IsNullOrEmpty(_settingsService.AuthAccessToken))\n            //     ? \"//Login\"\n            //     : \"//Main/Catalog\";\n            return null;\n        }\n\n        public Task NavigateToAsync(\n            string route,\n            ShellNavigationQueryParameters? routeParameters = null\n        )\n        {\n            return routeParameters != null\n                ? Shell.Current.GoToAsync(route, routeParameters)\n                : Shell.Current.GoToAsync(route);\n        }\n\n        public Task PopAsync()\n        {\n            return Shell.Current.GoToAsync(\"..\");\n        }\n    }\n}\n","path":null,"size_bytes":794,"size_tokens":null},"Player/Services/Implementations/SettingsService.cs":{"content":"﻿namespace Player.Services.Implementations\n{\n    public class SettingsService : ISettingsService\n    {\n        // keys\n        private const string IsLoginAuthenticationPendingKey = \"isLoginAuthenticationPending\";\n        private const string IsDarkThemeWantedByUserKey = \"isDarkThemeWantedByUser\";\n\n        //Dafault Values\n        private readonly bool IsLoginAuthenticationPendingDefault = false;\n        private readonly bool IsDarkThemeWantedByUserDefault = true;\n\n        //Properties\n        public bool IsLoginAuthenticationPending\n        {\n            get =>\n                Preferences.Get(\n                    IsLoginAuthenticationPendingKey,\n                    IsLoginAuthenticationPendingDefault\n                );\n            set => Preferences.Set(IsLoginAuthenticationPendingKey, value);\n        }\n\n        public bool IsDarkThemeWantedByUser\n        {\n            get => Preferences.Get(IsDarkThemeWantedByUserKey, IsDarkThemeWantedByUserDefault);\n            set => Preferences.Set(IsDarkThemeWantedByUserKey, value);\n        }\n    }\n}\n","path":null,"size_bytes":1058,"size_tokens":null},"Admin/CustomControls/CollectionViews/AmenitiesControl.cs":{"content":"namespace Admin.CustomControls.CollectionViews;\n\npublic class AmenitiesControl : CollectionView\n{\n    public AmenitiesControl()\n    {\n        DataTemplate amenitiesTemplate = new DataTemplate(() =>\n        {\n            return new Border\n            {\n                HeightRequest = 30,\n                StrokeThickness = 0,\n                StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                Padding = new Thickness(10, 0),\n                Content = new Bold10Label\n                {\n                    VerticalOptions = LayoutOptions.Center,\n                    HorizontalOptions = LayoutOptions.Center,\n                }\n                    .Bind(Bold10Label.TextProperty, nameof(Amenity.AmenityName))\n                    .Bind(\n                        Bold10Label.TextColorProperty,\n                        nameof(Amenity.IsSelected),\n                        convert: (bool state) => state == false ? Colors.Black : Colors.White\n                    ),\n            }.Bind(\n                Border.BackgroundProperty,\n                nameof(Amenity.IsSelected),\n                convert: (bool state) =>\n                    state == false ? Colors.LightGray : Color.FromArgb(\"#EF2F50\")\n            );\n        });\n\n        SelectionMode = SelectionMode.Multiple;\n        ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Horizontal) { ItemSpacing = 5 };\n        this.SetBinding(ItemsView.ItemsSourceProperty, \"AllAmenities\", BindingMode.OneWay);\n        this.SetBinding(\n            SelectableItemsView.SelectedItemsProperty,\n            \"SelectedAmenities\",\n            BindingMode.TwoWay\n        );\n\n        ItemTemplate = amenitiesTemplate;\n\n        this.SetBinding(SelectionChangedCommandProperty, \"AmenitySelectionChangedCommand\");\n    }\n}\n","path":null,"size_bytes":1773,"size_tokens":null},"Dome.Shared/Synced/Field.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// field of a sport.e.g a court for a badminton. the booking is done on a field.\n    /// Embedded inside AvailableGame.\n    /// </summary>\n    public partial class Field : IEmbeddedObject\n    {\n        private Field() { }\n\n        public Field(int fieldNumber, string fieldType)\n        {\n            FieldNumber = fieldNumber;\n            FieldType = fieldType;\n        }\n\n        [MapTo(\"fieldNumber\")]\n        public int FieldNumber { get; set; }\n\n        [MapTo(\"fieldType\")]\n        public string FieldType { get; set; }\n\n        //Local\n        [Ignored]\n        public string FieldName => $\"{FieldType} {FieldNumber.ToString()}\";\n\n        private bool isSelected;\n\n        // used to highlight the selected field while booking in the vendor app\n        [Ignored]\n        public bool IsSelected\n        {\n            get => isSelected;\n            set\n            {\n                if (value != isSelected)\n                {\n                    isSelected = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1122,"size_tokens":null},"Player/CustomControls/Labels/CutomBoldLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CutomBoldLabel : Label\n    {\n        public CutomBoldLabel()\n        {\n            FontFamily = \"InterBold\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Bold7Label : CutomBoldLabel\n    {\n        public Bold7Label()\n        {\n            FontSize = 7;\n        }\n    }\n\n    public class Bold8Label : CutomBoldLabel\n    {\n        public Bold8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class Bold9Label : CutomBoldLabel\n    {\n        public Bold9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class Bold10Label : CutomBoldLabel\n    {\n        public Bold10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class Bold12Label : CutomBoldLabel\n    {\n        public Bold12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Bold14Label : CutomBoldLabel\n    {\n        public Bold14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Bold15Label : CutomBoldLabel\n    {\n        public Bold15Label()\n        {\n            FontSize = 15;\n        }\n    }\n\n    public class Bold16Label : CutomBoldLabel\n    {\n        public Bold16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Bold18Label : CutomBoldLabel\n    {\n        public Bold18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Bold20Label : CutomBoldLabel\n    {\n        public Bold20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Bold24Label : CutomBoldLabel\n    {\n        public Bold24Label()\n        {\n            FontSize = 24;\n        }\n    }\n\n    public class Bold26Label : CutomBoldLabel\n    {\n        public Bold26Label()\n        {\n            FontSize = 26;\n        }\n    }\n\n    public class Bold28Label : CutomBoldLabel\n    {\n        public Bold28Label()\n        {\n            FontSize = 28;\n        }\n    }\n\n    public class Bold30Label : CutomBoldLabel\n    {\n        public Bold30Label()\n        {\n            FontSize = 30;\n        }\n    }\n\n    public class Bold32Label : CutomBoldLabel\n    {\n        public Bold32Label()\n        {\n            FontSize = 32;\n        }\n    }\n}\n","path":null,"size_bytes":2343,"size_tokens":null},"Dome.Shared/Constants/AppConstants.cs":{"content":"﻿namespace Dome.Shared.Constants\n{\n    /// <summary>\n    ///   all the constants used in the app\n    /// </summary>\n    public class AppConstants\n    {\n        public static readonly int[] MultiSportCourtNumbers = { 19, 20, 21, 22 };\n\n        public static readonly string[] MultiSportOptions = { \"Badminton\", \"Pickleball\" };\n\n        // the booking is selected from the Booking timing view. This is the initial status of the booking. The server will change the status to Reserved if the slot is free and then will create a payment Intent for the booking.\n        public const string Created = \"Created\";\n\n        //the payment process of the booking is started but not paid\n        public const string Reserved = \"Reserved\";\n\n        //the booking is paid and confirmed\n        public const string Booked = \"Booked\";\n\n        //the paid booking time has elapsed. This needs to be implemented on backend\n        public const string Completed = \"Completed\";\n\n        //the booking is cancelled by the user or cancelled from the backend if not paid within a certain time\n        public const string Cancelled = \"Cancelled\";\n\n        // the dome app will set it's environment from the environment variable\n        public const string Environment = \"development\";\n\n       // public const string Environment = \"production\";\n\n        public const string BaseUrl = \"https://kind-kapitsa-rmqphy91zf.projects.oryapis.com\";\n    }\n}\n","path":null,"size_bytes":1424,"size_tokens":null},"Admin/View/Account/LoginView.cs":{"content":"namespace Admin.View.Account;\n\npublic class LoginView : ContentPage\n{\n    public LoginView(LoginViewModel viewModel)\n    {\n        try\n        {\n            Shell.SetFlyoutBehavior(this, FlyoutBehavior.Disabled);\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            Title = \"Login\";\n            Content = new ScrollView\n            {\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Orientation = ScrollOrientation.Both,\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, 350),\n                        (BodyColumn.second, Star)\n                    ),\n                    Children =\n                    {\n                        new Image\n                        {\n                            Source = \"dx_component.png\",\n                            HorizontalOptions = LayoutOptions.Fill,\n                            Aspect = Aspect.AspectFill,\n                        }\n                            .Row(BodyRow.first)\n                            .Column(BodyColumn.first)\n                            .RowSpan(2),\n                        new VerticalStackLayout\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            Margin = new Thickness(20, 10, 20, 10),\n                            Children =\n                            {\n                                new Regular20Label { Text = \"Email Address\" }.Margins(10, 20, 0, 0),\n                                new SingleImageBorderedEntry { WidthRequest = 600 }\n                                    .Bind(\n                                        SingleImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.Email),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    )\n                                    .AppThemeBinding(\n                                        SingleImageBorderedEntry.ImgSourceProperty,\n                                        \"email_black_24dp.png\",\n                                        \"email_white_24dp.png\"\n                                    ),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Regular16Label.TextProperty,\n                                        static (LoginViewModel vm) => vm.EmailError,\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.EmailError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    )\n                                    .Margins(10, 0, 0, 0),\n                                new Regular20Label { Text = \"Password\" }.Margins(10, 20, 0, 0),\n                                new DualImageBorderedEntry { WidthRequest = 600 }.Bind(\n                                    DualImageBorderedEntry.EntryTextProperty,\n                                    nameof(viewModel.Password),\n                                    BindingMode.TwoWay,\n                                    source: viewModel\n                                ),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Regular16Label.TextProperty,\n                                        static (LoginViewModel vm) => vm.PasswordError,\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.PasswordError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    )\n                                    .Margins(10, 0, 0, 0),\n                                new Button\n                                {\n                                    Text = \"Forgot Password?\",\n                                    FontSize = 20,\n                                    FontFamily = \"InterRegular\",\n                                    Background = Colors.Transparent,\n                                    BorderColor = Colors.Transparent,\n                                    TextColor = Color.FromArgb(\"#EF2F50\"),\n                                    HorizontalOptions = LayoutOptions.End,\n                                    VerticalOptions = LayoutOptions.Start,\n                                }.BindCommand(\n                                    nameof(viewModel.ForgotPasswordCommand),\n                                    source: viewModel\n                                ),\n                                new RegularButton\n                                {\n                                    Text = \"LOG IN\",\n                                    WidthRequest = 500,\n                                    FontSize = 32,\n                                    FontFamily = \"InterBold\",\n                                    HeightRequest = 70,\n                                }\n                                    .BindCommand(nameof(viewModel.LoginCommand), source: viewModel)\n                                    .Margins(0, 20, 0, 0),\n                            },\n                        }\n                            .Row(BodyRow.first)\n                            .Column(BodyColumn.second),\n                        new Label\n                        {\n                            Text = \"Daflo Innovations @ 2024\",\n                            VerticalOptions = LayoutOptions.End,\n                            HorizontalOptions = LayoutOptions.End,\n                        }\n                            .Row(BodyRow.second)\n                            .Column(BodyColumn.second)\n                            .Margins(0, 0, 10, 10),\n                    },\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":6847,"size_tokens":null},"Admin/ViewModels/BaseViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class BaseViewModel : ObservableValidator\n    {\n        public readonly IRealmService? realmService;\n        public readonly INavigationService? navigationService;\n        public readonly IConnectivity? connectivity;\n\n        public BaseViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":802,"size_tokens":null},"Admin/ViewModels/Account/AuthenticateEmailForLoginViewModel.cs":{"content":"﻿namespace Admin.ViewModels.Account\n{\n    public partial class AuthenticateEmailForLoginViewModel : ObservableObject\n    {\n        [ObservableProperty]\n        string oneTimePasscode = string.Empty;\n\n        [ObservableProperty]\n        string? userEmail;\n\n        [ObservableProperty]\n        bool timerStarted;\n\n        [ObservableProperty]\n        int timeLeft;\n\n        [ObservableProperty]\n        Color sendButtonColor;\n\n        private readonly INavigationService navigationService;\n        private readonly ISettingsService settingsService;\n        private readonly ITwilioService twilioService;\n        private readonly IPopupNavigation popupNavigation;\n\n        public AuthenticateEmailForLoginViewModel(\n            INavigationService navigationService,\n            ISettingsService settingsService,\n            ITwilioService twilioService,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                this.settingsService = settingsService;\n                this.twilioService = twilioService;\n                this.popupNavigation = popupNavigation;\n\n                SendButtonColor = Color.FromArgb(\"#EF2F50\");\n\n                UserEmail = App.RealmApp?.CurrentUser?.Profile.Email;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        public async Task SendEmailOTP()\n        {\n            try\n            {\n                if (UserEmail == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"User email is Empty\", \"OK\");\n                    return;\n                }\n                await twilioService.SendEmailOTP(UserEmail);\n\n                await Shell.Current.DisplayAlert(\n                    \"OTP sent\",\n                    \"OTP successfully sent to registered e-mail\",\n                    \"OK\"\n                );\n\n                TimeLeft = 60;\n                TimerStarted = true;\n                SendButtonColor = Color.FromArgb(\"#D3D3D3\");\n\n                PeriodicTimer timer = new(TimeSpan.FromSeconds(1));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    TimeLeft--;\n                    if (TimeLeft == 0)\n                    {\n                        SendButtonColor = Color.FromArgb(\"#EF2F50\");\n                        TimerStarted = false;\n                        timer.Dispose();\n                    }\n                }\n                ;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifyEmailOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                else if (string.IsNullOrWhiteSpace(UserEmail))\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"User email is Empty\", \"OK\");\n                    return;\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    string status = await twilioService.VerifyEmailOTP(UserEmail, OneTimePasscode);\n                    if (status != null)\n                    {\n                        if (status == \"approved\")\n                        {\n                            await AlertHelper.ShowSnackBar(\"OTP Verified\");\n                            await navigationService.NavigateToAsync(\"///VendorYard\");\n                            settingsService.IsEmailVerificationPending = false;\n                        }\n                    }\n                    else if (status == \"pending\")\n                    {\n                        await AlertHelper.ShowSnackBar(\"OTP Verification Failed\");\n                    }\n                }\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4439,"size_tokens":null},"Admin/CustomControls/Pickers/VenueTimingControl.cs":{"content":"namespace Admin.CustomControls.Pickers\n{\n    public class VenueTimingControl : Grid\n    {\n        public static BindableProperty TimeProperty = BindableProperty.Create(\n            nameof(Time),\n            typeof(DateTimeOffset),\n            typeof(VenueTimingControl),\n            new DateTimeOffset(),\n            BindingMode.TwoWay\n        );\n\n        public DateTimeOffset Time\n        {\n            get => (DateTimeOffset)GetValue(TimeProperty);\n            set => SetValue(TimeProperty, value);\n        }\n\n        protected override void OnPropertyChanged([CallerMemberName] string? propertyName = null)\n        {\n            base.OnPropertyChanged(propertyName);\n            if (propertyName == nameof(Time))\n            {\n                this.timeLabel.Text = Time.ToString(\"HH:mm\");\n            }\n        }\n\n        ImageButton timeButton;\n\n        Regular18Label timeLabel;\n\n        public VenueTimingControl()\n        {\n            timeLabel = new Regular18Label { Background = Colors.Transparent }\n                .Bind(Regular18Label.TextProperty, nameof(this.Time))\n                .AppThemeBinding(Regular18Label.TextColorProperty, Colors.Black, Colors.White)\n                .Column(BodyColumn.first);\n            timeButton = new ImageButton\n            {\n                Source = \"dropdown.png\",\n                HeightRequest = 20,\n                WidthRequest = 20,\n            }.Column(BodyColumn.second);\n            timeButton.Clicked -= TimeButton_Clicked;\n            timeButton.Clicked += TimeButton_Clicked;\n\n            Children.Add(\n                new Border\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    WidthRequest = 105,\n                    StrokeThickness = .5,\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) },\n                    Padding = new Thickness(0),\n                    Content = new Grid\n                    {\n                        VerticalOptions = LayoutOptions.Center,\n                        Padding = new Thickness(7),\n                        RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, 60),\n                            (BodyColumn.second, 22)\n                        ),\n                        ColumnSpacing = 7,\n                        Children = { timeLabel, timeButton },\n                    },\n                }\n                    .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                    .AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black)\n            );\n        }\n\n        private async void TimeButton_Clicked(object? sender, EventArgs e)\n        {\n            TimePopup timePopup = new TimePopup();\n            IPopupResult<DateTimeOffset> result =\n                await Shell.Current.ShowPopupAsync<DateTimeOffset>(\n                    timePopup,\n                    PopupOptions.Empty,\n                    CancellationToken.None\n                );\n            if (result.WasDismissedByTappingOutsideOfPopup)\n            {\n                return;\n            }\n            else if (result != null)\n            {\n                DateTimeOffset timeSelection = result.Result;\n\n                Time = timeSelection;\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3371,"size_tokens":null},"Player/CustomControls/CompanyNameControl.cs":{"content":"namespace Player.CustomControls;\n\npublic class CompanyNameControl : VerticalStackLayout\n{\n    public CompanyNameControl()\n    {\n        this.Children.Add(new ExtraBold28Label { Text = \"Dome Sports\" });\n        this.Children.Add(\n            new Image { HorizontalOptions = LayoutOptions.Start }.AppThemeBinding(\n                Image.SourceProperty,\n                \"arrow_light_theme.png\",\n                \"arrow_dark_theme.png\"\n            )\n        );\n        this.Children.Add(\n            new Bold12Label\n            {\n                Text = \"PLAY YOUR SPORT EVERYDAY\",\n                TextColor = Color.FromArgb(\"#EF2F50\"),\n            }\n        );\n    }\n}\n","path":null,"size_bytes":663,"size_tokens":null},"Admin/Platforms/Windows/App.xaml.cs":{"content":"﻿using Microsoft.UI.Xaml;\n\n// To learn more about WinUI, the WinUI project structure,\n// and more about our project templates, see: http://aka.ms/winui-project-info.\n\nnamespace Admin.WinUI;\n\n/// <summary>\n/// Provides application-specific behavior to supplement the default Application class.\n/// </summary>\npublic partial class App : MauiWinUIApplication\n{\n    /// <summary>\n    /// Initializes the singleton application object.  This is the first line of authored code\n    /// executed, and as such is the logical equivalent of main() or WinMain().\n    /// </summary>\n    public App()\n    {\n        this.InitializeComponent();\n    }\n\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":719,"size_tokens":null},"Player/Views/LearnView.cs":{"content":"namespace Player.Views;\n\npublic class LearnView : BaseView\n{\n    public LearnView(LearnViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Resources.Add(\n                new Style<UnderlinedTabItem>(\n                    (UnderlinedTabItem.FontFamilyProperty, \"InterExtraBold\"),\n                    (UnderlinedTabItem.UnderlineHeightProperty, 6),\n                    (UnderlinedTabItem.MarginProperty, new Thickness(10, 0, 10, 0)),\n                    (UnderlinedTabItem.LabelSizeProperty, 12),\n                    (UnderlinedTabItem.WidthProperty, 100),\n                    (UnderlinedTabItem.SelectedTabColorProperty, Color.FromArgb(\"#EF2F50\"))\n                ).AddAppThemeBinding(\n                    UnderlinedTabItem.UnselectedLabelColorProperty,\n                    Color.FromArgb(\"7D7D7D\"),\n                    Color.FromArgb(\"#E0E0E0\")\n                )\n            );\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(\n                        static (LearnViewModel vm) => vm.NavigateBackCommand,\n                        source: viewModel\n                    )\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n                    Padding = new Thickness(15, 0, 15, 0),\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            Padding = new Thickness(10, 20, 10, 0),\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new Grid\n                            {\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, Auto),\n                                    (BodyRow.second, Auto)\n                                ),\n                                Children =\n                                {\n                                    new Bold28Label { }\n                                        .FormattedText(\n                                            new[]\n                                            {\n                                                new Span\n                                                {\n                                                    FontFamily = \"InterBold\",\n                                                    TextColor = Color.FromArgb(\"AEAEAE\"),\n                                                }.Bind(\n                                                    Span.TextProperty,\n                                                    static (LearnViewModel vm) => vm.UserName,\n                                                    source: viewModel,\n                                                    stringFormat: \"Hey {0}\\n\"\n                                                ),\n                                                new Span\n                                                {\n                                                    FontFamily = \"InterBold\",\n                                                    Text = \"Learning is Growing\",\n                                                },\n                                            }\n                                        )\n                                        .Row(BodyRow.first),\n                                    new TabHostView\n                                    {\n                                        TabType = TabType.Scrollable,\n                                        HeightRequest = 50,\n                                        Tabs =\n                                        {\n                                            new UnderlinedTabItem\n                                            {\n                                                Label = \"Pickleball\",\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Padding = new Thickness(5),\n                                            },\n                                            new UnderlinedTabItem { Label = \"Badminton\" },\n                                            new UnderlinedTabItem { Label = \"Volleyball\" },\n                                            new UnderlinedTabItem { Label = \"Basketball\" },\n                                            new UnderlinedTabItem { Label = \"Archery\" },\n                                            new UnderlinedTabItem { Label = \"Bowling\" },\n                                            new UnderlinedTabItem { Label = \"Golf\" },\n                                            new UnderlinedTabItem { Label = \"Escaperoom\" },\n                                            new UnderlinedTabItem { Label = \"Karting\" },\n                                            new UnderlinedTabItem { Label = \"Snooker\" },\n                                            new UnderlinedTabItem { Label = \"Table tennis\" },\n                                        },\n                                    }\n                                        .Row(BodyRow.second)\n                                        .Bind(\n                                            TabHostView.SelectedIndexProperty,\n                                            static (LearnViewModel vm) => vm.SelectedIndex,\n                                            source: viewModel,\n                                            mode: BindingMode.TwoWay\n                                        )\n                                        .Margins(0, 15, 0, 0),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.first),\n                        new CollectionView\n                        {\n                            Margin = new Thickness(0, 20, 0, 0),\n                            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                            {\n                                ItemSpacing = 10,\n                            },\n                            // ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                            EmptyView = \"No learning content is available\",\n\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new Border\n                                {\n                                    Padding = new Thickness(15, 10, 20, 10),\n                                    StrokeThickness = 0,\n                                    StrokeShape = new RoundRectangle { CornerRadius = 15 },\n                                    Content = new Grid\n                                    {\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 200),\n                                            (BodyColumn.second, Star),\n                                            (BodyColumn.third, Auto)\n                                        ),\n\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 15),\n                                            (BodyRow.second, 25),\n                                            (BodyRow.third, 25),\n                                            (BodyRow.fourth, Auto)\n                                        ),\n\n                                        Children =\n                                        {\n                                            new Regular10Label { Text = \"Created By\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new SemiBold16Label { }\n                                                .Bind(\n                                                    SemiBold16Label.TextProperty,\n                                                    nameof(LearningContent.PublishedBy)\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first),\n                                            new SemiBold12Label { }\n                                                .Bind(\n                                                    SemiBold12Label.TextProperty,\n                                                    nameof(LearningContent.Title)\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .Margins(0, 10, 0, 0),\n                                            new Regular12Label { }\n                                                .Bind(\n                                                    Regular12Label.TextProperty,\n                                                    nameof(LearningContent.Description)\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first),\n                                            new Image { HorizontalOptions = LayoutOptions.Center }\n                                                .Bind(\n                                                    Image.IsVisibleProperty,\n                                                    nameof(LearningContent.Type),\n                                                    convert: (string? type) =>\n                                                        type == \"Video\" ? true : false\n                                                )\n                                                .AppThemeBinding(\n                                                    Image.SourceProperty,\n                                                    \"video_content_lightmode\",\n                                                    \"video_content_darkmode\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.third),\n                                            new Image { HorizontalOptions = LayoutOptions.Center }\n                                                .Bind(\n                                                    Image.IsVisibleProperty,\n                                                    nameof(LearningContent.Type),\n                                                    convert: (string? type) =>\n                                                        type == \"Article\" ? true : false\n                                                )\n                                                .AppThemeBinding(\n                                                    Image.SourceProperty,\n                                                    \"text_content_lightmode\",\n                                                    \"text_content_darkmode\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.third),\n                                            new MediumButton\n                                            {\n                                                Text = \"View\",\n                                                Background = Colors.Black,\n                                                FontFamily = \"InterBold\",\n                                                CornerRadius = 20,\n                                                FontSize = 10,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                VerticalOptions = LayoutOptions.End,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.ShowContentCommand),\n                                                    source: viewModel,\n                                                    parameterPath: \".\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.third),\n                                        },\n                                    },\n                                }.AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                );\n                            }),\n                        }\n                            .Row(BodyRow.second)\n                            .Bind(\n                                ItemsView.ItemsSourceProperty,\n                                static (LearnViewModel vm) => vm.FilteredContentList,\n                                source: viewModel,\n                                mode: BindingMode.OneWay\n                            ),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += async (s, e) =>\n            {\n                await viewModel.LoadData();\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":14516,"size_tokens":null},"Admin/ViewModels/Account/ChangePasswordViewModel.cs":{"content":"﻿namespace Admin.ViewModels.Account\n{\n    public partial class ChangePasswordViewModel : ObservableValidator\n    {\n        [ObservableProperty]\n        public string? email;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmPassword))]\n        string password = string.Empty;\n\n        string confirmPassword = string.Empty;\n\n        [Required]\n        [Compare(nameof(Password), ErrorMessage = \"The confirm password is not equal to password\")]\n        public string ConfirmPassword\n        {\n            get => confirmPassword;\n            set => SetProperty(ref confirmPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string passwordError = string.Empty;\n\n        [ObservableProperty]\n        string confirmPasswordError = string.Empty;\n\n        private readonly IConnectivity connectivity;\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n        private readonly IPopupNavigation popupNavigation;\n\n        public ChangePasswordViewModel(\n            IRealmService realmService,\n            IConnectivity connectivity,\n            INavigationService navigationService,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n                this.popupNavigation = popupNavigation;\n\n                Email = App.RealmApp?.CurrentUser?.Profile.Email;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName.Contains(\"Error\"))\n                {\n                    return;\n                }\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.First().ErrorMessage ?? \"error\";\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(Password):\n                        PasswordError = errorMessage;\n                        break;\n                    case nameof(ConfirmPassword):\n                        ConfirmPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ResetPassword()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult validationResult in propertyErrors)\n                        {\n                            SetErrorValue(\n                                validationResult.MemberNames.ElementAt(0),\n                                validationResult.ErrorMessage\n                            );\n                        }\n                        return;\n                    }\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                // the tester@store.com is login Id for store reviewer. It should by pass the email & sms verification and authentication.\n                if (Email == \"tester@store.com\")\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    await App.RealmApp.EmailPasswordAuth.CallResetPasswordFunctionAsync(\n                        Email,\n                        Password\n                    );\n                    User? realmUser = App.RealmApp.CurrentUser;\n                    if (realmUser != null)\n                    {\n                        await realmUser.LogOutAsync();\n                    }\n                    await popupNavigation.PopAsync();\n                    await AlertHelper.ShowSnackBar(\"The new password has been reset\");\n                    await navigationService.NavigateToAsync($\"///Login\");\n                }\n                else\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VerifyEmailForPasswordResetView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"UserEmail\", Email },\n                            { \"NewPassword\", Password },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            await navigationService.PopAsync();\n        }\n    }\n}\n","path":null,"size_bytes":6307,"size_tokens":null},"Dome.Shared/Synced/Payment/Charge.cs":{"content":"﻿namespace Dome.Shared.Synced.Payment\n{\n    public partial class Charge : IRealmObject\n    {\n        [MapTo(\"_id\")]\n        [PrimaryKey]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"convenienceFeePercent\")]\n        public decimal ConvenienceFeePercent { get; set; }\n\n        [MapTo(\"taxPercent\")]\n        public decimal TaxPercent { get; set; }\n    }\n}\n","path":null,"size_bytes":368,"size_tokens":null},"Player/ViewModels/Account/AuthenticateEmailForLoginViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class AuthenticateEmailForLoginViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        public string oneTimePasscode = string.Empty;\n\n        [ObservableProperty]\n        string? userEmail;\n\n        [ObservableProperty]\n        string timeLeft;\n\n        private readonly INavigationService navigationService;\n        private readonly IConnectivity connectivity;\n        private readonly ISettingsService settingsService;\n        private readonly ITwilioService twilioService;\n        private readonly IPopupNavigation popupNavigation;\n\n        public AuthenticateEmailForLoginViewModel(\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            ITwilioService twilioService,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.connectivity = connectivity;\n            this.settingsService = settingsService;\n            this.twilioService = twilioService;\n            this.popupNavigation = popupNavigation;\n\n            UserEmail = App.RealmApp.CurrentUser?.Profile.Email;\n        }\n\n        [RelayCommand]\n        async Task SendEmailOTP()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No internet connection\", \"OK\");\n                    return;\n                }\n                else if (UserEmail == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No email found\", \"OK\");\n                    return;\n                }\n                await twilioService.SendEmailOTP(UserEmail);\n\n                TimeSpan timeSpan = new TimeSpan(0, 2, 0);\n\n                TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n\n                PeriodicTimer timer = new(TimeSpan.FromSeconds(1));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    TimeSpan oneSecond = new TimeSpan(0, 0, 01);\n                    timeSpan = timeSpan - oneSecond;\n                    TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n                    if (timeSpan == TimeSpan.Zero)\n                    {\n                        timer.Dispose();\n                    }\n                }\n                ;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifyEmailOTP()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No internet connection\", \"OK\");\n                    return;\n                }\n                else if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                else if (UserEmail == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No email found\", \"OK\");\n                    return;\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    string status = await twilioService.VerifyEmailOTP(UserEmail, OneTimePasscode);\n                    if (status != null)\n                    {\n                        if (status == \"approved\")\n                        {\n                            await navigationService.NavigateToAsync($\"///{nameof(LoadDataView)}\");\n                            await popupNavigation.PopAsync();\n                            settingsService.IsLoginAuthenticationPending = false;\n                            OneTimePasscode = string.Empty;\n                        }\n                        else if (status == \"pending\")\n                        {\n                            await popupNavigation.PopAsync();\n                            await AlertHelper.ShowSnackBar(\"OTP Verification Failed\");\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task GoBack()\n        {\n            try\n            {\n                User? realmUser = App.RealmApp.CurrentUser;\n                if (realmUser != null)\n                {\n                    await App.RealmApp.RemoveUserAsync(realmUser);\n                    // closing the app to clean up all the views, viewmodels and services. As the app is not designed to handle multiple users.\n                    System.Environment.Exit(0);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5301,"size_tokens":null},"Player/CustomControls/Entries/DualImageBorderedEntry.cs":{"content":"namespace Player.CustomControls.Entries\n{\n    public class DualImageBorderedEntry : Border\n    {\n        public ICommand ChangeIsPasswordCommand { get; set; }\n\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay\n        );\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n            nameof(PlaceholderText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.OneTime\n        );\n\n        public string PlaceholderText\n        {\n            get => (string)GetValue(PlaceholderTextProperty);\n            set => SetValue(PlaceholderTextProperty, value);\n        }\n\n        protected override void OnPropertyChanged(string? propertyName = null)\n        {\n            base.OnPropertyChanged(propertyName);\n            if (entry != null)\n            {\n                if (propertyName == EntryTextProperty.PropertyName)\n                {\n                    entry.Text = EntryText;\n                }\n                else if (propertyName == PlaceholderTextProperty.PropertyName)\n                {\n                    entry.Placeholder = PlaceholderText;\n                }\n            }\n        }\n\n        CustomEntry entry;\n        Image endImage;\n        Image startImage;\n\n        public DualImageBorderedEntry()\n        {\n            try\n            {\n                ChangeIsPasswordCommand = new Command(async () => await ChangeIsPassword());\n\n                StrokeThickness = .5;\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) };\n#if IOS\n                Padding = new Thickness(10);\n#elif ANDROID\n                Padding = new Thickness(10, 5);\n#endif\n                Stroke = Brush.Black;\n                this.AppThemeBinding(\n                    Border.BackgroundProperty,\n                    Colors.White,\n                    Color.FromArgb(\"#23262A\")\n                );\n\n                entry = new CustomEntry { IsPassword = true }.Bind(\n                    CustomEntry.TextProperty,\n                    nameof(EntryText),\n                    BindingMode.TwoWay,\n                    source: this\n                );\n\n                startImage = new Image { };\n                startImage.SetAppTheme<FileImageSource>(\n                    Image.SourceProperty,\n                    \"password_light_theme.png\",\n                    \"password_dark_theme.png\"\n                );\n\n                endImage = new Image { };\n                endImage.SetAppTheme<FileImageSource>(\n                    Image.SourceProperty,\n                    \"visibility_off_black_24dp.png\",\n                    \"visibility_off_white_24dp.png\"\n                );\n                endImage.GestureRecognizers.Add(\n                    new TapGestureRecognizer { Command = ChangeIsPasswordCommand }\n                );\n\n                Content = new Grid\n                {\n                    Background = Colors.Transparent,\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Star),\n                        (BodyColumn.third, Auto)\n                    ),\n                    ColumnSpacing = 10,\n                    Children =\n                    {\n                        startImage.Column(BodyColumn.first),\n                        entry.Column(BodyColumn.second),\n                        endImage.Column(BodyColumn.third),\n                    },\n                };\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task ChangeIsPassword()\n        {\n            entry.IsPassword = !entry.IsPassword;\n\n            if (\n                Application.Current.RequestedTheme == AppTheme.Light\n                || Application.Current.RequestedTheme == AppTheme.Unspecified\n            )\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_black_24dp.png\"\n                    : \"visibility_black_24dp.png\";\n            }\n            else if (Application.Current.RequestedTheme == AppTheme.Dark)\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_white_24dp.png\"\n                    : \"visibility_white_24dp.png\";\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4842,"size_tokens":null},"Dome.Shared/Synced/Amenity.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// amenities provided by the venues\n    /// </summary>\n    public partial class Amenity : IRealmObject\n    {\n        private Amenity() { }\n\n        public Amenity(ObjectId id, string amenityName)\n        {\n            Id = id;\n            AmenityName = amenityName;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"amenityName\")]\n        public string AmenityName { get; set; }\n\n        [MapTo(\"amenityImage\")]\n        public byte[] AmenityImage { get; set; }\n\n        //local\n\n        private bool isSelected;\n\n        // being used in admin app for highlighting the selected amenities while creating and editing a venue\n        public bool IsSelected\n        {\n            get => isSelected;\n            set\n            {\n                if (value != isSelected)\n                {\n                    isSelected = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1038,"size_tokens":null},"Player/Helpers/AppStaticData.cs":{"content":"﻿namespace Player.Helpers\n{\n    public class AppStaticData : IAppStaticData\n    {\n        public async Task<List<FavouriteGame>> GetGamesForUser()\n        {\n            return new List<FavouriteGame>\n            {\n                new FavouriteGame(gameName: \"Archery\"),\n                new FavouriteGame(gameName: \"Basketball\"),\n                new FavouriteGame(gameName: \"Baseball\"),\n                new FavouriteGame(gameName: \"Bowling\"),\n                new FavouriteGame(gameName: \"Badminton\"),\n                new FavouriteGame(gameName: \"Cricket\"),\n                new FavouriteGame(gameName: \"Volleyball\"),\n                new FavouriteGame(gameName: \"Pickleball\"),\n                new FavouriteGame(gameName: \"Tennis\"),\n                new FavouriteGame(gameName: \"Golf\"),\n                new FavouriteGame(gameName: \"Hockey\"),\n                new FavouriteGame(gameName: \"Others\"),\n            };\n        }\n\n        public async Task<List<AgeGroup>> GetAgeGroupsForUser()\n        {\n            return new List<AgeGroup>\n            {\n                new AgeGroup(ageGroupName: \"15-20\"),\n                new AgeGroup(ageGroupName: \"21-30\"),\n                new AgeGroup(ageGroupName: \"31-40\"),\n                new AgeGroup(ageGroupName: \"41-50\"),\n                new AgeGroup(ageGroupName: \"50+\"),\n            };\n        }\n    }\n}\n","path":null,"size_bytes":1342,"size_tokens":null},"Dome.Shared/Services/Implementations/Authentication/LoginService.cs":{"content":"namespace Dome.Shared.Services.Implementations.Authentication;\n\npublic class LoginService : ILoginService\n{\n    private readonly FrontendApi _frontendApi;\n\n    public LoginService()\n    {\n        var configuration = new Configuration { BasePath = AppConstants.BaseUrl };\n\n        _frontendApi = new FrontendApi(configuration);\n    }\n\n    public async Task<ClientLoginFlow> CreateLoginFlow()\n    {\n        return await _frontendApi.CreateNativeLoginFlowAsync();\n    }\n\n    public async Task<ClientSuccessfulNativeLogin> LoginUser(\n        string email,\n        string loginPassword,\n        string flowId\n    )\n    {\n        ClientSuccessfulNativeLogin? result = null;\n        ClientUpdateLoginFlowBody? clientUpdateLoginFlowBody = new ClientUpdateLoginFlowBody(\n            new ClientUpdateLoginFlowWithPasswordMethod(\n                method: \"password\",\n                identifier: email,\n                password: loginPassword\n            )\n        );\n\n        result = await _frontendApi.UpdateLoginFlowAsync(flowId, clientUpdateLoginFlowBody);\n\n        return result;\n    }\n}\n","path":null,"size_bytes":1081,"size_tokens":null},"Player/Models/LocalModels/AgeGroup.cs":{"content":"﻿namespace Player.Models.LocalModels\n{\n    /// <summary>\n    /// the age group of the user. All the age groups are created in memory from the static data from AppStaticData class and user selects one of them as his age group\n    /// </summary>\n    public partial class AgeGroup : ObservableObject\n    {\n        public AgeGroup(string ageGroupName)\n        {\n            AgeGroupName = ageGroupName;\n        }\n\n        public string AgeGroupName { get; set; }\n\n        //local\n        [ObservableProperty]\n        public bool isSelected;\n    }\n}\n","path":null,"size_bytes":547,"size_tokens":null},"Player/Views/Account/AuthenticateEmailForLoginView.cs":{"content":"namespace Player.Views.Account;\n\npublic class AuthenticateEmailForLoginView : AccountBaseView\n{\n    private readonly AuthenticateEmailForLoginViewModel viewModel;\n\n    public AuthenticateEmailForLoginView(AuthenticateEmailForLoginViewModel viewModel)\n        : base(viewModel)\n    {\n        this.viewModel = viewModel;\n        Content = new ScrollView\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto),\n                    (BodyRow.tenth, Auto)\n                ),\n\n                Children =\n                {\n                    new AccountTopControl(),\n                    new Image { }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"verify_email_light_theme.png\",\n                            \"verify_email_dark_theme.png\"\n                        )\n                        .Row(BodyRow.second),\n                    new ExtraBold28Label\n                    {\n                        Text = \"Authenticate Email\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Row(BodyRow.third)\n                        .Margins(0, 15, 0, 0),\n                    new Regular12Label\n                    {\n                        Text = \"You will get OTP via Email to\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#A2A2A2\")\n                        )\n                        .Row(BodyRow.fourth)\n                        .Margins(0, 5, 0, 0),\n                    new Bold12Label { HorizontalOptions = LayoutOptions.Center }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Colors.Black,\n                            Color.FromArgb(\"#626262\")\n                        )\n                        .Bind(Bold12Label.TextProperty, nameof(viewModel.UserEmail))\n                        .Row(BodyRow.fifth),\n                    new Label { HorizontalOptions = LayoutOptions.Center }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#A2A2A2\")\n                        )\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.sixth)\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span\n                                {\n                                    Text = \"You can resend the OTP in \",\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                },\n                                new Span\n                                {\n                                    TextColor = Colors.Red,\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                }.Bind(Span.TextProperty, nameof(viewModel.TimeLeft)),\n                            }\n                        ),\n                    new BorderedEntry { HorizontalOptions = LayoutOptions.Fill }\n                        .Row(BodyRow.seventh)\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                        .Row(BodyRow.seventh)\n                        .Margins(30, 20, 30, 0),\n                    new MediumButton { Text = \"SUBMIT\", WidthRequest = 257 }\n                        .Row(BodyRow.eighth)\n                        .BindCommand(nameof(viewModel.VerifyEmailOTPCommand), source: viewModel)\n                        .Margins(0, 25, 0, 0),\n                    new MediumButton\n                    {\n                        Text = \"GO BACK\",\n                        WidthRequest = 257,\n                        Background = Color.FromArgb(\"#272727\"),\n                        TextColor = Colors.White,\n                    }\n                        .BindCommand(nameof(viewModel.GoBackCommand), source: viewModel)\n                        .Row(BodyRow.ninth)\n                        .Margins(0, 10, 0, 0),\n                    new HorizontalStackLayout\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        VerticalOptions = LayoutOptions.Center,\n                        Spacing = 5,\n                        Children =\n                        {\n                            new Bold14Label\n                            {\n                                Text = \"Didn't receive the OTP?\",\n                                TextColor = Color.FromArgb(\"#A2A2A2\"),\n                            },\n                            new Button\n                            {\n                                Text = \"Resend OTP\",\n                                Background = Colors.Transparent,\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                                FontFamily = \"InterBold\",\n                                FontSize = 14,\n                                Padding = 0,\n                            }.BindCommand(nameof(viewModel.SendEmailOTPCommand)),\n                        },\n                    }\n                        .Row(BodyRow.tenth)\n                        .Margins(0, 10, 0, 0),\n                },\n            },\n        };\n\n        Loaded += AuthenticateEmailForLoginView_Loaded;\n    }\n\n    private void AuthenticateEmailForLoginView_Loaded(object? sender, EventArgs e)\n    {\n        viewModel.SendEmailOTPCommand.Execute(null);\n    }\n}\n","path":null,"size_bytes":6297,"size_tokens":null},"Player/Views/Account/ForgotPasswordView.cs":{"content":"namespace Player.Views.Account;\n\npublic class ForgotPasswordView : AccountBaseView\n{\n    public ForgotPasswordView(ForgotPasswordViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 165),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Star)\n                    ),\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first),\n                        new VerticalStackLayout\n                        {\n                            Margin = new Thickness(20, 10, 20, 10),\n                            Children =\n                            {\n                                new Bold28Label { Text = \"Forgot Password\" },\n                                new SingleImageBorderedEntry { PlaceholderText = \"Email Address\" }\n                                    .AppThemeBinding(\n                                        SingleImageBorderedEntry.ImgSourceProperty,\n                                        \"email_light_theme.png\",\n                                        \"email_dark_theme.png\"\n                                    )\n                                    .Margins(0, 20, 0, 0)\n                                    .Bind(\n                                        SingleImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.Email),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    ),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(viewModel.EmailError),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.EmailError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    ),\n                                new DualImageBorderedEntry { PlaceholderText = \"New Password\" }\n                                    .Bind(\n                                        DualImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.NewPassword),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 15, 0, 0),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(viewModel.NewPasswordError),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.NewPasswordError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    ),\n                                new DualImageBorderedEntry\n                                {\n                                    PlaceholderText = \"Confirm New Password\",\n                                }\n                                    .Bind(\n                                        DualImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.ConfirmNewPassword),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 15, 0, 0),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(viewModel.ConfirmNewPasswordError),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.ConfirmNewPasswordError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    ),\n                                new MediumButton\n                                {\n                                    Text = \"SUBMIT\",\n                                    WidthRequest = 257,\n                                    HeightRequest = 47,\n                                }\n                                    .BindCommand(\n                                        nameof(viewModel.ResetPasswordCommand),\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 40, 0, 0),\n                                new MediumButton\n                                {\n                                    Text = \"CANCEL\",\n                                    WidthRequest = 257,\n                                    HeightRequest = 47,\n                                    Background = Color.FromArgb(\"#272727\"),\n                                }\n                                    .BindCommand(\n                                        nameof(viewModel.CancelPasswordResetCommand),\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 15, 0, 0),\n                            },\n                        }.Row(BodyRow.second),\n                        new CompanyNameControl().Row(BodyRow.third).Margins(20, 40, 0, 0),\n                        new HorizontalStackLayout\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            VerticalOptions = LayoutOptions.End,\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Medium14Label { Text = \"Already have an account?\" },\n                                new Button\n                                {\n                                    Text = \"Sign In\",\n                                    Background = Colors.Transparent,\n                                    TextColor = Color.FromArgb(\"#EF2F50\"),\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 14,\n                                    Padding = 0,\n                                }.BindCommand(nameof(viewModel.SignInCommand), source: viewModel),\n                            },\n                        }\n                            .Row(BodyRow.fourth)\n                            .Margins(0, 0, 0, 20),\n                    },\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":7754,"size_tokens":null},"Player/Views/Connect/PlanBookingView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class PlanBookingView : Grid\n{\n    public PlanBookingView()\n    {\n        try\n        {\n            // the list of games which are onboarded by Dome. The background should always be transparent for the top layout. Only the child border which have game image needs to be highlighted when selected.\n            Style<VerticalStackLayout> onBoardedGamesStyle = new Style<VerticalStackLayout>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = VerticalStackLayout.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = VerticalStackLayout.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            Style<Border> borderStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EF2F50\"),\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EDEDED\"),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            RowDefinitions = Rows.Define(\n                (BodyRow.first, Auto),\n                (BodyRow.second, Auto),\n                (BodyRow.third, Auto),\n                (BodyRow.fourth, Auto),\n                (BodyRow.fifth, Auto),\n                (BodyRow.sixth, Auto),\n                (BodyRow.seventh, Auto),\n                (BodyRow.eighth, Auto),\n                (BodyRow.ninth, Auto),\n                (BodyRow.tenth, Auto),\n                (BodyRow.eleventh, Auto)\n            );\n\n            Border topImage = new Border\n            {\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                StrokeThickness = 0,\n                Padding = new Thickness(10),\n                Background = Color.FromArgb(\"#EF2F50\"),\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Stars(2)),\n                        (BodyColumn.second, Stars(1))\n                    ),\n                    ColumnSpacing = 10,\n                    Children =\n                    {\n                        new Regular12Label\n                        {\n                            Text =\n                                \"Host your favorite game and connect with players of similar skill levels for an enjoyable experience together.\",\n                            TextColor = Colors.White,\n                        }\n                            .Column(BodyColumn.first)\n                            .Margins(0, 0, 0, 0),\n                        new Image { Source = \"hostgame_icon.png\" }.Column(BodyColumn.second),\n                    },\n                },\n            }\n                .Margins(0, 20, 0, 0)\n                .Row(BodyRow.first);\n\n            Regular12Label hostLabel = new Regular12Label { Text = \"Choose Sports\" }\n                .Margins(10, 15, 0, 0)\n                .Row(BodyRow.second);\n\n            CollectionView sportsCollection = new CollectionView\n            {\n                HeightRequest = 60,\n                Background = Colors.Transparent,\n                SelectionMode = SelectionMode.Single,\n                // ItemSizingStrategy= ItemSizingStrategy.MeasureFirstItem,\n                EmptyView = new Regular16Label\n                {\n                    Text = \"No games found\",\n                    HorizontalOptions = LayoutOptions.Center,\n                    VerticalOptions = LayoutOptions.Center,\n                },\n                ItemsLayout = new LinearItemsLayout(orientation: ItemsLayoutOrientation.Horizontal)\n                {\n                    ItemSpacing = 15,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new VerticalStackLayout\n                    {\n                        Style = onBoardedGamesStyle,\n                        Children =\n                        {\n                            new Border\n                            {\n                                StrokeThickness = 0,\n                                HeightRequest = 40,\n                                WidthRequest = 40,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(20),\n                                },\n                                Padding = 5,\n                                Content = new Image { HeightRequest = 25, WidthRequest = 25 }.Bind(\n                                    Image.SourceProperty,\n                                    nameof(Game.GameIcon),\n                                    converter: new ByteArrayToImageSourceConverter()\n                                ),\n                            }\n                                .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                                .Bind(\n                                    Border.BackgroundProperty,\n                                    nameof(Game.IsSelected),\n                                    convert: (bool isSelected) =>\n                                        isSelected == true\n                                            ? Color.FromArgb(\"#EF2F50\")\n                                            : Colors.Transparent\n                                ),\n                            new Regular8Label { HorizontalOptions = LayoutOptions.Center }.Bind(\n                                Regular8Label.TextProperty,\n                                nameof(Game.GameName)\n                            ),\n                        },\n                    };\n                }),\n            }\n                .Bind(ItemsView.ItemsSourceProperty, \"OnboardedGames\", BindingMode.OneWay)\n                .Bind(SelectableItemsView.SelectedItemProperty, \"SelectedGame\")\n                .Margins(18, 5, 0, 10)\n                .Row(BodyRow.third);\n\n            Rectangle line = new Rectangle { HeightRequest = 2 }\n                .AppThemeBinding(\n                    Rectangle.BackgroundProperty,\n                    Color.FromArgb(\"#626262\"),\n                    Color.FromArgb(\"#D2D2D2\")\n                )\n                .Row(BodyRow.fourth);\n\n            CollectionView dateGrid = new CollectionView\n            {\n                HeightRequest = 70,\n                SelectionMode = SelectionMode.Single,\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Horizontal)\n                {\n                    ItemSpacing = 5,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        Padding = 5,\n                        Style = borderStyle,\n                        StrokeThickness = 0,\n                        StrokeShape = new RoundRectangle { CornerRadius = 10 },\n                        Content = new VerticalStackLayout\n                        {\n                            Spacing = 1,\n                            Margin = new Thickness(4),\n                            Children =\n                            {\n                                new Medium10Label { }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(VenueDate.Date),\n                                        stringFormat: \"{0: MMM}\"\n                                    )\n                                    .Bind(\n                                        Label.TextColorProperty,\n                                        nameof(VenueDate.IsSelected),\n                                        BindingMode.OneWay,\n                                        convert: (bool state) =>\n                                            state == false ? Colors.Black : Colors.White\n                                    ),\n                                new Bold16Label { }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(VenueDate.Date),\n                                        stringFormat: \"{0: dd}\"\n                                    )\n                                    .Bind(\n                                        Label.TextColorProperty,\n                                        nameof(VenueDate.IsSelected),\n                                        BindingMode.OneWay,\n                                        convert: (bool state) =>\n                                            state == false ? Colors.Black : Colors.White\n                                    ),\n                                new Medium10Label { }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(VenueDate.Date),\n                                        stringFormat: \"{0: ddd}\"\n                                    )\n                                    .Bind(\n                                        Label.TextColorProperty,\n                                        nameof(VenueDate.IsSelected),\n                                        BindingMode.OneWay,\n                                        convert: (bool state) =>\n                                            state == false ? Colors.Black : Colors.White\n                                    ),\n                            },\n                        },\n                    }.Bind(\n                        BackgroundProperty,\n                        nameof(VenueDate.IsSelected),\n                        convert: (bool state) =>\n                            state == false ? Color.FromArgb(\"#EDEDED\") : Color.FromArgb(\"#EF2F50\")\n                    );\n                }),\n            }\n                .Bind(ItemsView.ItemsSourceProperty, \"BindingContext.VenueDates\", source: this)\n                .Bind(\n                    SelectableItemsView.SelectedItemProperty,\n                    \"PlannedDate\",\n                    source: BindingContext\n                )\n                .Margins(18, 15, 0, 0)\n                .Row(BodyRow.fifth);\n\n            Grid skillsGrid = new Grid\n            {\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Auto),\n                    (BodyColumn.second, Star)\n                ),\n                Children =\n                {\n                    new Regular14Label\n                    {\n                        Text = \"Skill\",\n                        VerticalOptions = LayoutOptions.Center,\n                    }.Column(BodyColumn.first),\n                    new Border\n                    {\n                        HorizontalOptions = LayoutOptions.End,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Stroke = Color.FromArgb(\"#828282\"),\n                        Background = Colors.Transparent,\n\n                        Content = new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Auto),\n                                (BodyColumn.second, Auto),\n                                (BodyColumn.third, Auto),\n                                (BodyColumn.fourth, Auto),\n                                (BodyColumn.fifth, Auto)\n                            ),\n\n                            Children =\n                            {\n                                new Button\n                                {\n                                    Text = \"Beginner\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 10,\n                                }\n                                    .Bind(Button.CommandProperty, \"BeginnerSelectedCommand\")\n                                    .Column(BodyColumn.first)\n                                    .Bind(Button.BackgroundProperty, \"BeginnerBackgroundColor\")\n                                    .Bind(Button.TextColorProperty, \"BeginnerTextColor\"),\n                                new Rectangle { WidthRequest = 3, HeightRequest = 20 }\n                                    .AppThemeBinding(\n                                        Rectangle.BackgroundProperty,\n                                        Color.FromArgb(\"#626262\"),\n                                        Color.FromArgb(\"#D2D2D2\")\n                                    )\n                                    .Column(BodyColumn.second),\n                                new Button\n                                {\n                                    Text = \"Intermediate\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 10,\n                                }\n                                    .Bind(Button.CommandProperty, \"IntermediateSelectedCommand\")\n                                    .Column(BodyColumn.third)\n                                    .Bind(\n                                        Button.BackgroundProperty,\n                                        \"IntermediateBackgroundColor\"\n                                    )\n                                    .Bind(Button.TextColorProperty, \"IntermediateTextColor\"),\n                                new Rectangle { WidthRequest = 3, HeightRequest = 20 }\n                                    .AppThemeBinding(\n                                        Rectangle.BackgroundProperty,\n                                        Color.FromArgb(\"#626262\"),\n                                        Color.FromArgb(\"#D2D2D2\")\n                                    )\n                                    .Column(BodyColumn.fourth),\n                                new Button\n                                {\n                                    Text = \"Advanced\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 10,\n                                }\n                                    .Bind(Button.CommandProperty, \"AdvancedSelectedCommand\")\n                                    .Column(BodyColumn.fifth)\n                                    .Bind(Button.BackgroundProperty, \"AdvancedBackgroundColor\")\n                                    .Bind(Button.TextColorProperty, \"AdvancedTextColor\"),\n                            },\n                        },\n                    }.Column(BodyColumn.second),\n                },\n            }\n                .Margins(18, 15, 0, 0)\n                .Row(BodyRow.sixth);\n\n            Border locationBorder = new Border\n            {\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Stroke = Color.FromArgb(\"#828282\"),\n                Background = Colors.Transparent,\n#if IOS\n                Padding = new Thickness(10, 15),\n#elif ANDROID\n                Padding = new Thickness(10, 5),\n#endif\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Star),\n                        (BodyColumn.third, Auto)\n                    ),\n                    ColumnSpacing = 20,\n                    Children =\n                    {\n                        new Regular14Label\n                        {\n                            VerticalOptions = LayoutOptions.Center,\n                            Text = \"Select Location:\",\n                        }.Column(BodyColumn.first),\n                        new Picker { Background = Colors.Transparent }\n                            .AppThemeBinding(\n                                Picker.TextColorProperty,\n                                Color.FromArgb(\"#626262\"),\n                                Colors.White\n                            )\n                            .Bind(Picker.ItemsSourceProperty, \"CityNames\")\n                            .Bind(Picker.SelectedItemProperty, \"SelectedCity\")\n                            .Column(BodyColumn.second),\n                        new Image { WidthRequest = 15, HeightRequest = 15 }\n                            .AppThemeBinding(\n                                Image.SourceProperty,\n                                \"skill_dropdown_lightmode\",\n                                \"skill_dropdown_darkmode\"\n                            )\n                            .Column(BodyColumn.third),\n                    },\n                },\n            }\n                .Margins(0, 15, 0, 0)\n                .Row(BodyRow.seventh);\n\n            Border venueBorder = new Border\n            {\n                StrokeThickness = .5,\n                Stroke = Color.FromArgb(\"#828282\"),\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Background = Colors.Transparent,\n#if IOS\n                Padding = new Thickness(10, 15),\n#elif ANDROID\n                Padding = new Thickness(10, 5),\n#endif\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Star),\n                        (BodyColumn.third, Auto)\n                    ),\n                    ColumnSpacing = 20,\n                    Children =\n                    {\n                        new Regular14Label\n                        {\n                            VerticalOptions = LayoutOptions.Center,\n                            Text = \"Select Venue:\",\n                        }.Column(BodyColumn.first),\n                        new Picker\n                        {\n                            Background = Colors.Transparent,\n                            ItemDisplayBinding = new Binding(nameof(Venue.FullName)),\n                        }\n                            .AppThemeBinding(\n                                Picker.TextColorProperty,\n                                Color.FromArgb(\"#626262\"),\n                                Colors.White\n                            )\n                            .Bind(Picker.ItemsSourceProperty, \"FilteredVendors\")\n                            .Bind(Picker.SelectedItemProperty, \"SelectedVendor\")\n                            .Column(BodyColumn.second),\n                        new Image { WidthRequest = 15, HeightRequest = 15 }\n                            .AppThemeBinding(\n                                Image.SourceProperty,\n                                \"skill_dropdown_lightmode\",\n                                \"skill_dropdown_darkmode\"\n                            )\n                            .Column(BodyColumn.third),\n                    },\n                },\n            }\n                .Margins(0, 10, 0, 0)\n                .Row(BodyRow.eighth);\n\n            Border playerCountBorder = new Border\n            {\n                StrokeThickness = .5,\n                Stroke = Color.FromArgb(\"#828282\"),\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Background = Colors.Transparent,\n#if IOS\n                Padding = new Thickness(10),\n#elif ANDROID\n                Padding = new Thickness(10, 10),\n#endif\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Auto),\n                        (BodyColumn.third, Star)\n                    ),\n                    ColumnSpacing = 10,\n                    Children =\n                    {\n                        new Regular14Label\n                        {\n                            VerticalOptions = LayoutOptions.Center,\n                            Text = \"Number of Players:\",\n                        },\n                        new Regular16Label { VerticalOptions = LayoutOptions.Center }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                \"RequiredPlayers\",\n                                convert: (double value) => value.ToString()\n                            )\n                            .Column(BodyColumn.second),\n                        new Slider\n                        {\n                            ThumbColor = Color.FromArgb(\"#EF2F50\"),\n                            MinimumTrackColor = Color.FromArgb(\"#EF2F50\"),\n                            Minimum = 2,\n                        }\n                            .Bind(Slider.MaximumProperty, \"NumberOfPlayers\")\n                            .Bind(Slider.ValueProperty, \"RequiredPlayers\")\n                            .Column(BodyColumn.third)\n                            .Invoke(slider => slider.ValueChanged += SetIntValue),\n                    },\n                },\n            }\n                .Margins(0, 10, 0, 0)\n                .Row(BodyRow.ninth);\n\n            Border timingBorder = new Border\n            {\n                StrokeThickness = .5,\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Stroke = Color.FromArgb(\"#828282\"),\n                Background = Colors.Transparent,\n\n                Padding = new Thickness(10, 15),\n\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Star),\n                        (BodyColumn.third, Auto)\n                    ),\n                    ColumnSpacing = 10,\n                    Children =\n                    {\n                        new Regular14Label\n                        {\n                            VerticalOptions = LayoutOptions.Center,\n                            Text = \"Select Timing:\",\n                        },\n                        new Regular14Label { HorizontalOptions = LayoutOptions.Start }\n                            .Bind(Regular14Label.TextProperty, \"Timing\")\n                            .Column(BodyColumn.second),\n                        new Image { }\n                            .AppThemeBinding(\n                                Image.SourceProperty,\n                                \"forward_lightmode\",\n                                \"forward_darkmode\"\n                            )\n                            .Margins(0, 0, 0, 0)\n                            .Column(BodyColumn.third),\n                    },\n                },\n            }\n                .Row(BodyRow.tenth)\n                .Margins(0, 15, 0, 0)\n                .BindTapGesture(\"SelectTimingCommand\");\n\n            MediumButton reviewButton = new MediumButton { Text = \"Review\" }\n                .BindCommand(\"ReviewHostingCommand\")\n                .Row(BodyRow.eleventh)\n                .Margins(10, 17, 10, 0);\n\n            this.Children.Add(topImage);\n            this.Children.Add(hostLabel);\n            this.Children.Add(sportsCollection);\n            this.Children.Add(line);\n            this.Children.Add(dateGrid);\n            this.Children.Add(skillsGrid);\n            this.Children.Add(locationBorder);\n            this.Children.Add(venueBorder);\n            this.Children.Add(playerCountBorder);\n            this.Children.Add(timingBorder);\n            this.Children.Add(reviewButton);\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n        }\n    }\n\n    private void SetIntValue(object sender, ValueChangedEventArgs e)\n    {\n        Slider slider = (Slider)sender;\n        slider.Value = Math.Round(e.NewValue);\n    }\n}\n","path":null,"size_bytes":26551,"size_tokens":null},"Player/ViewModels/CoachViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class CoachViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        int selectedIndex;\n\n        [ObservableProperty]\n        string? userName;\n\n        [ObservableProperty]\n        byte[] gameImage;\n\n        [ObservableProperty]\n        ObservableCollection<Coach>? coachesList;\n\n        [ObservableProperty]\n        ObservableCollection<Coach>? filteredCoaches;\n\n        [ObservableProperty]\n        ObservableCollection<Game> games;\n\n        [ObservableProperty]\n        Game? choosenGame;\n\n        VenueUser? Player;\n\n        readonly IRealmService realmService;\n        readonly INavigationService navigationService;\n        Realm realm;\n\n        public CoachViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n\n                FilteredCoaches = new ObservableCollection<Coach>();\n                Games = new ObservableCollection<Game>();\n                CoachesList = new ObservableCollection<Coach>();\n\n                realm = Realm.GetInstance(realmService.Config);\n                Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                App.Current.RequestedThemeChanged += Current_RequestedThemeChanged;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                UserName = Player?.FirstName;\n                PlayerImage = Player?.ProfileImage;\n\n                Games = realm.All<Game>().ToObservableCollection();\n                CoachesList = realm.All<Coach>().ToObservableCollection();\n                FilteredCoaches = new ObservableCollection<Coach>(\n                    CoachesList.Where(n => n.GameCategory == \"Pickleball\")\n                );\n                SelectedIndex = 0;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        private async void Current_RequestedThemeChanged(object? sender, AppThemeChangedEventArgs e)\n        {\n            await SetImages();\n        }\n\n        private async Task SetImages()\n        {\n            AppTheme Theme = App.Current.RequestedTheme;\n            if (Theme == AppTheme.Dark)\n            {\n                GameImage = ChoosenGame.DarkModeGameIcon;\n            }\n            else\n            {\n                GameImage = ChoosenGame.LightModeGameIcon;\n            }\n        }\n\n        partial void OnSelectedIndexChanged(int value)\n        {\n            try\n            {\n                if (CoachesList == null)\n                {\n                    return;\n                }\n                if (SelectedIndex == 0)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Pickleball\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Pickleball\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 1)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Badminton\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Badminton\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 2)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Volleyball\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Volleyball\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 3)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Basketball\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Basketball\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 4)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Archery\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Archery\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 5)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Bowling\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Bowling\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 6)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Golf\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Golf\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 7)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Escaperoom\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Escaperoom\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 8)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Karting\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Karting\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 9)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Snooker\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Snooker\").FirstOrDefault();\n                }\n                else if (SelectedIndex == 10)\n                {\n                    FilteredCoaches = new ObservableCollection<Coach>(\n                        CoachesList.Where(n => n.GameCategory == \"Table tennis\")\n                    );\n                    ChoosenGame = Games.Where(n => n.GameName == \"Table tennis\").FirstOrDefault();\n                }\n                SetImages();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":7538,"size_tokens":null},"Admin/CustomControls/ShellCustomControls/FlyoutFooter.cs":{"content":"namespace Admin.CustomControls.ShellCustomControls\n{\n    public class FlyoutFooter : ContentView\n    {\n        public static readonly BindableProperty FooterCommandProperty = BindableProperty.Create(\n            nameof(FooterCommand),\n            typeof(ICommand),\n            typeof(FlyoutFooter),\n            null,\n            BindingMode.TwoWay,\n            propertyChanged: FlyoutCommandPropertyChanged\n        );\n\n        private static void FlyoutCommandPropertyChanged(\n            BindableObject bindable,\n            object oldValue,\n            object newValue\n        )\n        {\n            FlyoutFooter control = (FlyoutFooter)bindable;\n            if (control != null)\n            {\n                control.imageButton.Command = (AsyncRelayCommand)newValue;\n            }\n        }\n\n        public AsyncRelayCommand FooterCommand\n        {\n            get => (AsyncRelayCommand)GetValue(FooterCommandProperty);\n            set => SetValue(FooterCommandProperty, value);\n        }\n\n        ImageButton imageButton;\n\n        public FlyoutFooter()\n        {\n            imageButton = new ImageButton\n            {\n                Source = \"logoutcurve.png\",\n                Background = Colors.Transparent,\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.End,\n                HeightRequest = 60,\n                WidthRequest = 64,\n                Margin = new Thickness(0, 0, 0, 40),\n            };\n\n            imageButton.SetBinding(\n                ImageButton.CommandProperty,\n                new Binding(nameof(FooterCommand), source: this)\n            );\n            Content = imageButton;\n        }\n    }\n}\n","path":null,"size_bytes":1683,"size_tokens":null},"Player/ViewModels/NotificationViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class NotificationViewModel : ObservableObject\n    {\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n\n        public NotificationViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity\n        )\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n        }\n\n        [RelayCommand]\n        public async Task NavigateBack()\n        {\n            await navigationService.PopAsync();\n        }\n    }\n}\n","path":null,"size_bytes":761,"size_tokens":null},"Player/Popups/CountryPopup.cs":{"content":"using System.Threading.Tasks;\nusing CommunityToolkit.Maui.Extensions;\n\nnamespace Player.Popups;\n\n/// <summary>\n/// this is a popup that shows a list of countries to select from when entering the phone number.This will be required when the app is published to multiple countries. For now the cananda is the default country in phone number entry\n/// </summary>\npublic class CountryPopup : Popup<Country>\n{\n    public CountryPopup()\n    {\n        HeightRequest = 200;\n        WidthRequest = 200;\n        this.AppThemeBinding(Popup.BackgroundProperty, Colors.White, Colors.Black);\n        CollectionView collection = new CollectionView\n        {\n            SelectionMode = SelectionMode.Single,\n            ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n            ItemTemplate = new DataTemplate(() =>\n            {\n                HorizontalStackLayout layout = new HorizontalStackLayout\n                {\n                    Spacing = 10,\n                    Children =\n                    {\n                        new Label { }.Bind(Label.TextProperty, nameof(Country.FlagImage)),\n                        new Regular16Label { HorizontalTextAlignment = TextAlignment.Center }.Bind(\n                            Label.TextProperty,\n                            nameof(Country.CountryName)\n                        ),\n                        new Regular16Label { HorizontalTextAlignment = TextAlignment.Center }.Bind(\n                            Label.TextProperty,\n                            nameof(Country.Code)\n                        ),\n                    },\n                }.Margins(20, 20, 0, 0);\n                return layout;\n            }),\n            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n            {\n                ItemSpacing = 0,\n            },\n            ItemsSource = new List<Country>\n            {\n                new Country(countryName: \"Canada\", code: \"+1\", flagImage: \"????\"),\n                new Country(countryName: \"USA\", code: \"+1\", flagImage: \"????\"),\n                new Country(countryName: \"India\", code: \"+91\", flagImage: \"????\"),\n            },\n        };\n        collection.SelectionChanged += Collection_SelectionChanged;\n\n        Content = collection;\n    }\n\n    private async void Collection_SelectionChanged(object sender, SelectionChangedEventArgs e)\n    {\n        try\n        {\n            if (e.CurrentSelection.Count == 0)\n            {\n                return;\n            }\n            Country? selectedCountry = e.CurrentSelection.FirstOrDefault() as Country;\n\n            await CloseAsync(selectedCountry);\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":2737,"size_tokens":null},"Player/Views/Account/EditProfileView.cs":{"content":"namespace Player.Views.Account;\n\npublic class EditProfileView : AccountBaseView\n{\n    public EditProfileView(EditProfileViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            CustomPicker cityPicker = new CustomPicker { }\n                .Bind(CustomPicker.PickerItemSourceProperty, static (EditProfileViewModel vm) => vm.Cities, source: viewModel)\n                .Bind(\n                    CustomPicker.CustomPickerSelectedItemProperty,\n                    static (EditProfileViewModel vm) => vm.SelectedCity,\n                    source: viewModel,\n                    mode: BindingMode.TwoWay\n                )\n                .Margins(20, 10, 0, 0);\n            cityPicker.picker.ItemDisplayBinding = new Binding(nameof(City.CityName));\n\n            CustomPicker provincePicker = new CustomPicker { }\n                .Bind(CustomPicker.PickerItemSourceProperty, static (EditProfileViewModel vm) => vm.AllProvinces, source: viewModel)\n                .Bind(\n                    CustomPicker.CustomPickerSelectedItemProperty,\n                    static (EditProfileViewModel vm) => vm.SelectedProvince,\n                    source: viewModel,\n                    mode: BindingMode.TwoWay\n                )\n                .Margins(0, 10, 20, 0);\n            provincePicker.picker.ItemDisplayBinding = new Binding(nameof(Province.ProvinceName));\n\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 165),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto),\n                        (BodyRow.seventh, Auto),\n                        (BodyRow.eighth, Auto),\n                        (BodyRow.ninth, Auto),\n                        (BodyRow.tenth, Auto)\n                    ),\n\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Star),\n                        (BodyColumn.second, Star)\n                    ),\n                    ColumnSpacing = 20,\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first).ColumnSpan(2),\n                        new ExtraBold28Label { Text = \"Edit Profile\" }\n                            .Margins(20, 20, 0, 0)\n                            .Row(BodyRow.second)\n                            .ColumnSpan(2),\n                        new AvatarView\n                        {\n                            BorderWidth = 1,\n                            BorderColor = Colors.Black,\n                            Background = Colors.White,\n                            WidthRequest = 130,\n                            HeightRequest = 130,\n                            CornerRadius = 65,\n                            Padding = 0,\n                            HorizontalOptions = LayoutOptions.Center,\n                        }\n                            .Bind(\n                                AvatarView.ImageSourceProperty,\n                                nameof(viewModel.PlayerImage),\n                                converter: new ByteArrayToImageSourceConverter(),\n                                targetNullValue: \"profile_image_fallback\"\n                            )\n                            .BindTapGesture(nameof(viewModel.AddImageCommand))\n                            .Row(BodyRow.third)\n                            .ColumnSpan(2),\n                        new BorderedEntry { PlaceholderText = \"First Name\" }\n                            .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.FirstName), BindingMode.TwoWay, source: viewModel)\n                            .Margins(20, 20, 20, 0)\n                            .Row(BodyRow.fourth)\n                            .ColumnSpan(2),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.FirstNameError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.FirstNameError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fifth)\n                            .ColumnSpan(2)\n                            .Margins(20, 0, 20, 0),\n                        new BorderedEntry { PlaceholderText = \"Last Name\" }\n                            .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.LastName), BindingMode.TwoWay, source: viewModel)\n                            .Margins(20, 10, 20, 0)\n                            .Row(BodyRow.sixth)\n                            .ColumnSpan(2),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.LastNameError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.LastNameError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.seventh)\n                            .ColumnSpan(2)\n                            .Margins(20, 0, 20, 0),\n                        cityPicker.Row(BodyRow.eighth).Column(BodyColumn.first),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.CityError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.CityError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.ninth)\n                            .Column(BodyColumn.first)\n                            .Margins(20, 0, 0, 0),\n                        provincePicker.Row(BodyRow.eighth).Column(BodyColumn.second),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.ProvinceError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.ProvinceError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.ninth)\n                            .Column(BodyColumn.second)\n                            .Margins(0, 0, 20, 0),\n                        new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Star),\n                                (BodyColumn.second, Star)\n                            ),\n                            ColumnSpacing = 20,\n\n                            Children =\n                            {\n                                new MediumButton { Text = \"SAVE\" }.BindCommand(\n                                    nameof(viewModel.SaveCommand),\n                                    source: viewModel\n                                ),\n                                new MediumButton\n                                {\n                                    Text = \"CANCEL\",\n                                    Background = Color.FromArgb(\"#272727\"),\n                                }\n                                    .BindCommand(nameof(viewModel.CancelCommand), source: viewModel)\n                                    .Column(BodyColumn.second),\n                            },\n                        }\n                            .Margins(20, 20, 20, 10)\n                            .Row(BodyRow.tenth)\n                            .ColumnSpan(2),\n                    },\n                },\n            };\n\n            Loaded += EditProfileView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void EditProfileView_Loaded(object? sender, EventArgs e)\n    {\n        await ((EditProfileViewModel)BindingContext).InitializeAsync();\n    }\n}\n","path":null,"size_bytes":9218,"size_tokens":null},"Player/Platforms/iOS/AppDelegate.cs":{"content":"﻿using Foundation;\n\nnamespace Player\n{\n    [Register(\"AppDelegate\")]\n    public class AppDelegate : MauiUIApplicationDelegate\n    {\n        protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n    }\n}\n","path":null,"size_bytes":225,"size_tokens":null},"Admin/Popups/AddCouponMopup.cs":{"content":"using Mopups.Pages;\n\nnamespace Admin.Popups\n{\n    public class AddCouponMopup : PopupPage\n    {\n        public AddCouponMopup(CouponViewModel viewModel)\n        {\n            this.Background = Color.FromArgb(\"#80000000\");\n            this.CloseWhenBackgroundIsClicked = false;\n\n            this.Animation = new Mopups.Animations.ScaleAnimation\n            {\n                DurationIn = 700,\n                EasingIn = Easing.SinIn,\n                DurationOut = 700,\n                EasingOut = Easing.SinIn,\n                ScaleIn = 1.2,\n                ScaleOut = 0.8,\n                PositionIn = Mopups.Enums.MoveAnimationOptions.Bottom,\n                PositionOut = Mopups.Enums.MoveAnimationOptions.Bottom,\n            };\n\n            Content = new Grid\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.Center,\n                Padding = 30,\n                Background = Colors.LightGray,\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto)\n                ),\n\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, 170),\n                    (BodyColumn.second, 170)\n                ),\n\n                ColumnSpacing = 30,\n\n                Children =\n                {\n                    new Bold20Label { Text = \"Add new coupon\" }\n                        .Row(BodyRow.first)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new Regular14Label { Text = \"Coupon Code\" }\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.second)\n                        .Column(BodyColumn.first),\n                    new Entry { }\n                        .Bind(Entry.TextProperty, nameof(viewModel.CouponCode))\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.first),\n                    new Regular12Label { TextColor = Colors.Red }\n                        .Bind(Regular12Label.TextProperty, nameof(viewModel.CouponCodeError))\n                        .Bind(\n                            Regular12Label.IsVisibleProperty,\n                            nameof(viewModel.CouponCodeError),\n                            converter: new IsStringNotNullOrEmptyConverter()\n                        )\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.fourth)\n                        .Column(BodyColumn.first),\n                    new Regular14Label { Text = \"Discount Percentage\" }\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.second)\n                        .Column(BodyColumn.second),\n                    new Entry { }\n                        .Bind(Entry.TextProperty, nameof(viewModel.DiscountPercentage))\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.second),\n                    new Regular12Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular12Label.TextProperty,\n                            nameof(viewModel.DiscountPercentageError)\n                        )\n                        .Bind(\n                            Regular12Label.IsVisibleProperty,\n                            nameof(viewModel.DiscountPercentageError),\n                            converter: new IsStringNotNullOrEmptyConverter()\n                        )\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.fourth)\n                        .Column(BodyColumn.second),\n                    new Regular14Label { Text = \"Expiry Date\" }\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.fifth)\n                        .Column(BodyColumn.first),\n                    new DatePicker\n                    {\n                        Date = DateTime.Today,\n                        MinimumDate = new DateTime(2024, 06, 01),\n                    }\n                        .Bind(\n                            DatePicker.DateProperty,\n                            nameof(viewModel.ExpiryDate),\n                            BindingMode.OneWayToSource\n                        )\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.sixth)\n                        .Column(BodyColumn.first),\n                    new Regular12Label { TextColor = Colors.Red }\n                        .Bind(Regular12Label.TextProperty, nameof(viewModel.ExpiryDateError))\n                        .Bind(\n                            Regular12Label.IsVisibleProperty,\n                            nameof(viewModel.ExpiryDateError),\n                            converter: new IsStringNotNullOrEmptyConverter()\n                        )\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.seventh)\n                        .Column(BodyColumn.first),\n                    new Regular14Label { Text = \"Coupon Upper Limit\" }\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.fifth)\n                        .Column(BodyColumn.second),\n                    new Entry { }\n                        .Bind(Entry.TextProperty, nameof(viewModel.CouponUpperLimit))\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.sixth)\n                        .Column(BodyColumn.second),\n                    new Regular12Label { TextColor = Colors.Red }\n                        .Bind(Regular12Label.TextProperty, nameof(viewModel.CouponUpperLimitError))\n                        .Bind(\n                            Regular12Label.IsVisibleProperty,\n                            nameof(viewModel.CouponUpperLimitError),\n                            converter: new IsStringNotNullOrEmptyConverter()\n                        )\n                        .Margins(0, 4, 0, 0)\n                        .Row(BodyRow.seventh)\n                        .Column(BodyColumn.second),\n                    new RegularButton\n                    {\n                        Text = \"Save\",\n                        WidthRequest = 200,\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .BindCommand(nameof(viewModel.SaveCouponCommand))\n                        .Margins(0, 25, 0, 0)\n                        .Row(BodyRow.eighth)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new RegularButton\n                    {\n                        Text = \"Cancel\",\n                        WidthRequest = 200,\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .BindCommand(nameof(viewModel.CancelNewCouponCommand))\n                        .Margins(0, 10, 0, 0)\n                        .Row(BodyRow.ninth)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n    }\n}\n","path":null,"size_bytes":7464,"size_tokens":null},"Player/ViewModels/Account/AccountViewModel.cs":{"content":"﻿using Dome.Shared.Services.Implementations;\n\nnamespace Player.ViewModels.Account\n{\n    public partial class AccountViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        VenueUser? venueUser;\n\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        bool? isDarkThemWantedByUser;\n\n        Realm realm;\n\n        private readonly INavigationService navigationService;\n        private readonly IConnectivity connectivity;\n        private readonly IRealmService realmService;\n        private readonly IPopupNavigation popupNavigation;\n        private readonly IImageService imageService;\n        private readonly ISettingsService settingsService;\n\n        public AccountViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IPopupNavigation popupNavigation,\n            IImageService imageService,\n            ISettingsService settingsService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.popupNavigation = popupNavigation;\n            this.imageService = imageService;\n            this.settingsService = settingsService;\n\n            if (settingsService.IsDarkThemeWantedByUser)\n            {\n                this.IsDarkThemWantedByUser = true;\n            }\n            else\n            {\n                this.IsDarkThemWantedByUser = false;\n            }\n\n            realm = Realm.GetInstance(realmService.Config);\n            VenueUser = realm\n                .All<VenueUser>()\n                .Where(u => u.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n            PlayerImage = VenueUser.ProfileImage;\n        }\n\n        [RelayCommand]\n        async Task AddImage()\n        {\n            try\n            {\n                if (imageService == null)\n                {\n                    throw new NullReferenceException(nameof(imageService));\n                }\n                else\n                {\n                    Dictionary<string, object>? imageResult = await imageService.PickImageAsync();\n\n                    if (imageResult != null)\n                    {\n                        byte[]? imageBytes = (byte[])imageResult[\"image\"];\n                        if (imageBytes != null)\n                        {\n                            await realm.WriteAsync(() =>\n                            {\n                                VenueUser.ProfileImage = imageBytes;\n                            });\n                            PlayerImage = VenueUser.ProfileImage;\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        partial void OnIsDarkThemWantedByUserChanged(bool? value)\n        {\n            if (value != null)\n            {\n                if (value == true)\n                {\n                    App.Current.UserAppTheme = AppTheme.Dark;\n                    settingsService.IsDarkThemeWantedByUser = true;\n                    Shell.SetTabBarUnselectedColor(Shell.Current, Colors.White);\n                }\n                else\n                {\n                    App.Current.UserAppTheme = AppTheme.Light;\n                    settingsService.IsDarkThemeWantedByUser = false;\n                    Shell.SetTabBarUnselectedColor(Shell.Current, Colors.Black);\n                }\n            }\n        }\n\n        [RelayCommand]\n        async Task EditProfile()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(EditProfileView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task EditAgeAndInterests()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(EditInterestsView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ChangeMobileNumber()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(ChangeMobileNumberView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ConfirmMobileNumber()\n        {\n            try\n            {\n                if (!VenueUser.IsMobileNumberVerified)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VerifyRegisteredMobileNumberView)\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Logout()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                var result = await Shell.Current.DisplayAlert(\n                    \"Logout\",\n                    \"Are you sure you want to logout?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    User? realmUser = realmService.RealmUser;\n                    if (realmUser != null)\n                    {\n                        await App.RealmApp.RemoveUserAsync(realmUser);\n                    }\n                    await popupNavigation.PopAsync();\n                    await navigationService.NavigateToAsync($\"///{nameof(LoginView)}\");\n                    // closing the app to clean up all the views, viewmodels and services.\n                    System.Environment.Exit(0);\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ChangePassword()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n                await navigationService.NavigateToAsync(nameof(ChangePasswordView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task DeleteAccount()\n        {\n            try\n            {\n                var result = await Shell.Current.DisplayAlert(\n                    \"Delete account\",\n                    \"Your account and data will be deleted permanently\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Remove(VenueUser);\n                    });\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    User? user = realmService.RealmUser;\n                    await App.RealmApp.DeleteUserFromServerAsync(user);\n                    await popupNavigation.PopAsync();\n                    await navigationService.NavigateToAsync($\"///{nameof(LoginView)}\");\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task EmailUs()\n        {\n            try\n            {\n                //TODO: navigate to send email view and use sendgrid email service to send email\n                await navigationService.NavigateToAsync(nameof(FeedbackEmailView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":8769,"size_tokens":null},"Player/Views/Book/PaymentSuccessView.cs":{"content":"namespace Player.Views.Book;\n\npublic class PaymentSuccessView : ContentPage\n{\n    public PaymentSuccessView(PaymentSuccessViewModel viewModel)\n    {\n        try\n        {\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            Content = new Grid\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.Center,\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, 100),\n                    (BodyRow.second, 35),\n                    (BodyRow.third, 25),\n                    (BodyRow.fourth, Auto)\n                ),\n\n                Children =\n                {\n                    new Image\n                    {\n                        Source = \"booking_success\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }.Row(BodyRow.first),\n                    new SemiBold24Label\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"Booking Successful\",\n                    }.Row(BodyRow.second),\n                    new Regular14Label\n                    {\n                        TextColor = Color.FromArgb(\"A2A2A2\"),\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"A confirmation email will be sent soon\",\n                    }.Row(BodyRow.third),\n                    new MediumButton\n                    {\n                        Text = \"DONE\",\n                        WidthRequest = 250,\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Margins(0, 15, 0, 0)\n                        .BindCommand(nameof(viewModel.CloseBookingCommand))\n                        .Row(BodyRow.fourth),\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":2125,"size_tokens":null},"Admin/View/EditVendorView.cs":{"content":"namespace Admin.View;\n\npublic class EditVendorView : ContentPage\n{\n    EditVendorViewModel viewModel = null!;\n    int count = 0;\n\n    public EditVendorView(EditVendorViewModel viewModel)\n    {\n        try\n        {\n            Title = \"Edit Partner\";\n            this.viewModel = viewModel;\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            Content = new ScrollView\n            {\n                Orientation = ScrollOrientation.Both,\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Content = new HorizontalStackLayout\n                {\n                    Margin = new Thickness(10),\n\n                    Spacing = 20,\n                    Children =\n                    {\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = 20,\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 20),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 35),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, 35),\n                                            (BodyRow.sixth, 35),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, 35),\n                                            (BodyRow.ninth, 35),\n                                            (BodyRow.tenth, Auto),\n                                            (BodyRow.eleventh, 35),\n                                            (BodyRow.twelfth, 35),\n                                            (BodyRow.thirteenth, Auto),\n                                            (BodyRow.fourteenth, 35),\n                                            (BodyRow.fifteenth, 35),\n                                            (BodyRow.sixteenth, Auto),\n                                            (BodyRow.seventeenth, 35),\n                                            (BodyRow.eighteenth, Auto),\n                                            (BodyRow.nineteenth, Auto),\n                                            (BodyRow.twentieth, Auto),\n                                            (BodyRow.twentyfirst, Auto),\n                                            (BodyRow.twentysecond, 35),\n                                            (BodyRow.twentythird, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 300),\n                                            (BodyColumn.second, 300)\n                                        ),\n                                        HorizontalOptions = LayoutOptions.Start,\n                                        ColumnSpacing = 10,\n                                        RowSpacing = 5,\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"PARTNER DETAILS\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Stripe Account ID\",\n                                                WidthRequest = 300,\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.End,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.StripeUserId)}\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Business Name\" }\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .Margins(0, 15, 0, 0),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 610,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.FullName)}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.BusinessNameError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.BusinessNameError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Street\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Street)}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.StreetError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.StreetError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Postcode\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.second),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.PostCode)}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.PostCodeError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.PostCodeError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Province\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eighth)\n                                                .Column(BodyColumn.first),\n                                            new Picker\n                                            {\n                                                WidthRequest = 300,\n                                                FontSize = 16,\n                                                FontFamily = \"InterRegular\",\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(Province.ProvinceName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.Provinces)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedProvince)\n                                                )\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.ProvinceError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.ProvinceError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"City\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eighth)\n                                                .Column(BodyColumn.second),\n                                            new Picker\n                                            {\n                                                WidthRequest = 300,\n                                                FontSize = 16,\n                                                FontFamily = \"InterRegular\",\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(City.CityName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.Cities)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedCity)\n                                                )\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.CityError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.CityError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Latitude\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Latitude)}\"\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first),\n                                            new Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(viewModel.LatitudeError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.LatitudeError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Longitude\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.second),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Longitude)}\"\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.LongitudeError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.LongitudeError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Contact Number\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fourteenth)\n                                                .Column(BodyColumn.first),\n                                            new CustomBorder\n                                            {\n                                                Content = new Grid\n                                                {\n                                                    Padding = new Thickness(5, 0, 5, 0),\n                                                    WidthRequest = 210,\n                                                    ColumnDefinitions = Columns.Define(\n                                                        (BodyColumn.first, Auto),\n                                                        (BodyColumn.second, Star)\n                                                    ),\n                                                    HorizontalOptions = LayoutOptions.Start,\n                                                    Children =\n                                                    {\n                                                        //new Regular14Label{ VerticalOptions=LayoutOptions.Center}.Bind(Label.TextProperty,nameof(viewModel.CountryText),source:viewModel).Column(BodyColumn.first),\n                                                        new Regular16Label\n                                                        {\n                                                            VerticalOptions = LayoutOptions.Center,\n                                                        }\n                                                            .Bind(\n                                                                Regular16Label.TextProperty,\n                                                                nameof(viewModel.PhoneCode),\n                                                                source: viewModel\n                                                            )\n                                                            .AppThemeBinding(\n                                                                Label.TextColorProperty,\n                                                                Colors.Black,\n                                                                Colors.White\n                                                            )\n                                                            .Column(BodyColumn.first),\n                                                        new CustomEntry\n                                                        {\n                                                            Placeholder = \"Type here\",\n                                                            Keyboard = Keyboard.Telephone,\n                                                        }\n                                                            .Bind(\n                                                                CustomEntry.TextProperty,\n                                                                $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.MobileNumber)}\"\n                                                            )\n                                                            .Column(BodyColumn.second),\n                                                    },\n                                                },\n                                            }\n                                                .Row(BodyRow.fifteenth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.MobileNumberError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.MobileNumberError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.sixteenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Email ID\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fourteenth)\n                                                .Column(BodyColumn.second),\n                                            new SingleImageBorderedEntryRectangle\n                                            {\n                                                WidthRequest = 300,\n                                            }\n                                                .AppThemeBinding(\n                                                    SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                    \"email_black_24dp.png\",\n                                                    \"email_white_24dp.png\"\n                                                )\n                                                .Bind(\n                                                    SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Email)}\"\n                                                )\n                                                .Row(BodyRow.fifteenth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.EmailError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.EmailError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.sixteenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"About\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.seventeenth)\n                                                .Column(BodyColumn.first),\n                                            new CustomBorder\n                                            {\n                                                Padding = 0,\n                                                Margin = new Thickness(0, 0, 0, 10),\n                                                Content = new Editor\n                                                {\n                                                    AutoSize = EditorAutoSizeOption.TextChanges,\n                                                    HeightRequest = 100,\n                                                    MaxLength = 700,\n                                                    FontSize = 16,\n                                                    FontFamily = \"InterRegular\",\n                                                }.Bind(\n                                                    Editor.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.About)}\"\n                                                ),\n                                            }\n                                                .Row(BodyRow.eighteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.AboutError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.AboutError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.nineteenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Amenities\" }\n                                                .Row(BodyRow.twentyfirst)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 15, 0, 0),\n                                            new AmenitiesControl()\n                                                .Row(BodyRow.twentysecond)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(5),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.SelectedAmenitiesError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.SelectedAmenitiesError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twentythird)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = 20,\n\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 35),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, 35),\n                                            (BodyRow.sixth, Auto),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, Auto),\n                                            (BodyRow.ninth, Auto),\n                                            (BodyRow.tenth, 55),\n                                            (BodyRow.eleventh, Auto),\n                                            (BodyRow.twelfth, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 270),\n                                            (BodyColumn.second, 270)\n                                        ),\n\n                                        ColumnSpacing = 10,\n\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"PARTNER GAMES\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Sports Category\" }\n                                                .Margins(10, 10, 0, 0)\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first),\n                                            new Picker\n                                            {\n                                                WidthRequest = 550,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(Game.GameName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.AllGames)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedGame)\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.SelectedGameError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.SelectedGameError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Fields Available\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new Picker\n                                            {\n                                                WidthRequest = 270,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.FieldsAndPlayersCount)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.FieldCount)\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.FieldCountError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.FieldCountError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Maximum Players\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.second),\n                                            new Picker\n                                            {\n                                                WidthRequest = 270,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.FieldsAndPlayersCount)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.PlayerCount)\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.PlayerCountError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.PlayerCountError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.second),\n                                            new Grid\n                                            {\n                                                RowDefinitions = Rows.Define(\n                                                    (BodyRow.first, 40),\n                                                    (BodyRow.second, 40),\n                                                    (BodyRow.third, 40),\n                                                    (BodyRow.fourth, Auto),\n                                                    (BodyRow.fifth, 40),\n                                                    (BodyRow.sixth, 40),\n                                                    (BodyRow.seventh, 40),\n                                                    (BodyRow.eighth, Auto),\n                                                    (BodyRow.ninth, 40),\n                                                    (BodyRow.tenth, 40),\n                                                    (BodyRow.eleventh, 40),\n                                                    (BodyRow.twelfth, Auto),\n                                                    (BodyRow.thirteenth, 40),\n                                                    (BodyRow.fourteenth, 40),\n                                                    (BodyRow.fifteenth, 40),\n                                                    (BodyRow.sixteenth, Auto)\n                                                ),\n\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, 150),\n                                                    (BodyColumn.second, 150),\n                                                    (BodyColumn.third, 120)\n                                                ),\n\n                                                ColumnSpacing = 20,\n\n                                                Children =\n                                                {\n                                                    new Bold20Label { Text = \"Weekday\" }\n                                                        .Row(BodyRow.first)\n                                                        .ColumnSpan(3),\n                                                    new Bold20Label { Text = \"Opening Time\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekdayOpenTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekdayStartTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekdayStartTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"Closing Time\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekdayCloseTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekdayEndTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekdayEndTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(viewModel.WeekdayHourlyRate),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekday Peak Hours\" }\n                                                        .Row(BodyRow.fifth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Start Time\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"End Time\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRate\n                                                            ),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekend\" }\n                                                        .Row(BodyRow.ninth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Opening Time\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekendOpenTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekendStartTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekendStartTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"Closing Time\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekendCloseTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekendEndTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekendEndTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(viewModel.WeekendHourlyRate),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekend Peak Hours\" }\n                                                        .Row(BodyRow.thirteenth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Start Time\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"End Time\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRate\n                                                            ),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.third),\n                                                },\n                                            }\n                                                .Row(BodyRow.eighth)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 30, 30, 0),\n                                            new Bold20Label { Text = \"First Photo\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.first),\n                                            new Image\n                                            {\n                                                Aspect = Aspect.AspectFill,\n                                                HeightRequest = 65,\n                                                WidthRequest = 100,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Image.SourceProperty,\n                                                    nameof(viewModel.GameFirstImage),\n                                                    converter: new ByteArrayToImageSourceConverter()\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first),\n                                            new HorizontalStackLayout\n                                            {\n                                                Spacing = 20,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Margin = new Thickness(0, 10, 0, 10),\n                                                Children =\n                                                {\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"+\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.PickFirstPhotoCommand)\n                                                    ),\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"-\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.RemoveFirstPhotoCommand)\n                                                    ),\n                                                },\n                                            }\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Second Photo\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.second),\n                                            new Image\n                                            {\n                                                Aspect = Aspect.AspectFill,\n                                                HeightRequest = 65,\n                                                WidthRequest = 100,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Image.SourceProperty,\n                                                    nameof(viewModel.GameSecondImage),\n                                                    converter: new ByteArrayToImageSourceConverter()\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.second),\n                                            new HorizontalStackLayout\n                                            {\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Spacing = 20,\n                                                Margin = new Thickness(0, 10, 0, 10),\n                                                Children =\n                                                {\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"+\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.PickSecondPhotoCommand)\n                                                    ),\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"-\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.RemoveSecondPhotoCommand)\n                                                    ),\n                                                },\n                                            }\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.GameImageError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.GameImageError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first),\n                                            new RegularButton\n                                            {\n                                                Text = \"Add\",\n                                                HeightRequest = 38,\n                                                FontSize = 18,\n                                                FontFamily = \"InterBold\",\n                                                Margin = new Thickness(20, 0, 20, 0),\n                                            }\n                                                .BindCommand(\n                                                    static (EditVendorViewModel vm) =>\n                                                        vm.AddGameCommand,\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                        new CollectionView\n                        {\n                            ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                            WidthRequest = 300,\n                            EmptyView = \"Minimum one game is required\",\n                            ItemsLayout = new GridItemsLayout(1, ItemsLayoutOrientation.Vertical)\n                            {\n                                HorizontalItemSpacing = 10,\n                            },\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new CustomBorder\n                                {\n                                    Padding = 8,\n                                    Content = new Grid\n                                    {\n                                        HorizontalOptions = LayoutOptions.Start,\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto),\n                                            (BodyRow.third, Auto),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Auto),\n                                            (BodyColumn.second, Auto)\n                                        ),\n                                        RowSpacing = 5,\n                                        Children =\n                                        {\n                                            new Bold20Label { }\n                                                .Bind(\n                                                    Bold20Label.TextProperty,\n                                                    nameof(AvailableGame.Name)\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(AvailableGame.FieldInformation)\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    binding1: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(AvailableGame.Timing.WeekdayOpenTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    binding2: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(AvailableGame.Timing.WeekdayCloseTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    convert: (\n                                                        (string? openTime, string? closeTime) values\n                                                    ) =>\n                                                        $\" weekday: {values.openTime} to {values.closeTime}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first),\n                                            new Bold16Label { }\n                                                .Bind(\n                                                    Bold18Label.TextProperty,\n                                                    nameof(AvailableGame.WeekdayHourlyRate),\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"{0:C}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    binding1: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(viewModel.WeekendOpenTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    binding2: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(viewModel.WeekendCloseTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    convert: (\n                                                        (string? openTime, string? closeTime) values\n                                                    ) =>\n                                                        $\" weekend: {values.openTime} to {values.closeTime}\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first),\n                                            new Bold16Label { }\n                                                .Bind(\n                                                    Bold18Label.TextProperty,\n                                                    nameof(AvailableGame.WeekendHourlyRate),\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"{0:C}\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.second),\n                                            new Bold12Label { Text = \"Photos Added\" }\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new ImageButton\n                                            {\n                                                Source = \"remove_game.png\",\n                                                HeightRequest = 24,\n                                                WidthRequest = 24,\n                                                Background = Colors.Transparent,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.RemoveGameCommand),\n                                                    source: viewModel,\n                                                    parameterPath: \".\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.second),\n                                        },\n                                    },\n                                };\n                            }),\n                        }\n                            .Bind(\n                                ItemsView.ItemsSourceProperty,\n                                static (EditVendorViewModel vm) => vm.AddedGames,\n                                source: viewModel\n                            )\n                            .Margins(20, 30, 20),\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = new Thickness(20, 15, 20, 10),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 55),\n                                            (BodyRow.fourth, 25),\n                                            (BodyRow.fifth, 25),\n                                            (BodyRow.sixth, 30),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, 30),\n                                            (BodyRow.ninth, 30),\n                                            (BodyRow.tenth, 40),\n                                            (BodyRow.eleventh, 40),\n                                            (BodyRow.twelfth, 60),\n                                            (BodyRow.thirteenth, 60)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 250),\n                                            (BodyColumn.second, 175)\n                                        ),\n                                        RowSpacing = 2,\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"Facility Review\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { }\n                                                .Bind(\n                                                    Bold20Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.FullName)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 10, 0, 0),\n                                            new Regular18Label { }\n                                                .FormattedText(\n                                                    new[]\n                                                    {\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Street)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Province)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.City)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.PostCode)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Country)}\",\n                                                            BindingMode.OneWay\n                                                        ),\n                                                    }\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 0, 0, 0),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.MobileNumber)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Email)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Email)}\",\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"Vendor Username: {0}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.About)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new CollectionView\n                                            {\n                                                EmptyView = \"No Amenity Selected\",\n                                                ItemSizingStrategy =\n                                                    ItemSizingStrategy.MeasureAllItems,\n                                                ItemsLayout = new LinearItemsLayout(\n                                                    ItemsLayoutOrientation.Horizontal\n                                                )\n                                                {\n                                                    ItemSpacing = 5,\n                                                },\n                                                ItemTemplate = new DataTemplate(() =>\n                                                {\n                                                    return new Regular18Label\n                                                    {\n                                                        LineBreakMode = LineBreakMode.NoWrap,\n                                                    }.Bind(\n                                                        Regular14Label.TextProperty,\n                                                        nameof(Amenity.AmenityName),\n                                                        BindingMode.OneWay\n                                                    );\n                                                }),\n                                            }\n                                                .Bind(\n                                                    ItemsView.ItemsSourceProperty,\n                                                    nameof(viewModel.SelectedAmenities),\n                                                    BindingMode.OneWay,\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new CollectionView\n                                            {\n                                                EmptyView = \"Games not added\",\n                                                ItemsLayout = new GridItemsLayout(\n                                                    ItemsLayoutOrientation.Horizontal\n                                                )\n                                                {\n                                                    HorizontalItemSpacing = 5,\n                                                },\n                                                ItemTemplate = new DataTemplate(() =>\n                                                {\n                                                    return new CustomBorder\n                                                    {\n                                                        HeightRequest = 35,\n                                                        Padding = new Thickness(10, 5),\n                                                        Content = new Regular14Label { }.Bind(\n                                                            Regular12Label.TextProperty,\n                                                            nameof(AvailableGame.Name),\n                                                            BindingMode.OneWay\n                                                        ),\n                                                    };\n                                                }),\n                                            }\n                                                .Bind(\n                                                    ItemsView.ItemsSourceProperty,\n                                                    nameof(viewModel.AddedGames)\n                                                )\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new RegularButton\n                                            {\n                                                Text = \"SAVE CHANGES\",\n                                                HeightRequest = 40,\n                                                FontFamily = \"InterBold\",\n                                                FontSize = 18,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.ValidateDataCommand),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new RegularButton\n                                            {\n                                                Text = \"CANCEL\",\n                                                HeightRequest = 40,\n                                                Background = Colors.Black,\n                                                FontFamily = \"InterBold\",\n                                                FontSize = 18,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.CancelCommand),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    },\n                },\n            };\n\n            BindingContext = viewModel;\n\n            Loaded += EditVendorView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    // can't use this method because the Loaded event is fired and reset the data whenever navigating to another page or when a popup is opened\n    private async void EditVendorView_Loaded(object? sender, EventArgs e)\n    {\n        if (count == 0)\n        {\n            await viewModel.EditExistingVendor();\n            count++;\n        }\n    }\n}\n","path":null,"size_bytes":106344,"size_tokens":null},"Player/Models/Chat/GroupMessage.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class GroupMessage\n{\n    public string GroupId { get; set; }\n    public string MessageId { get; set; }\n\n    public string Sender { get; set; }\n\n    public string MessageContent { get; set; }\n\n    public DateTimeOffset CreatedAt { get; set; }\n}\n","path":null,"size_bytes":297,"size_tokens":null},"Player/Resources/Raw/hybrid_root/myapp.js":{"content":"﻿try\n{\n    const stripe = Stripe('pk_test_51PfQOVRrYwdBl6oLko5EXiROUUl9pyN6BMsgOrBIQlrERFjCosZRiGe8UbTftsS9O4COOh9bD4mZqEwD0ybyuSA2003oMNlOXK');\n\n    const elements = stripe.elements();\n    const cardElement = elements.create('card');\n    cardElement.mount('#card-element');\n\n    const form = document.getElementById(\"payment-form\");\n\n    var resultContainer = document.getElementById('payment-result');\n\n    // cardElement is defined in the previous step\n    cardElement.on('change', function (event) {\n        if (event.error) {\n            resultContainer.textContent = event.error.message;\n        } else {\n            resultContainer.textContent = '';\n        }\n    });\n\n    form.addEventListener('submit', async event => {\n        event.preventDefault();\n        resultContainer.textContent = '';\n        const result = await stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement,\n        });\n        handlePaymentMethodResult(result);\n    });\n\n    const handlePaymentMethodResult = async ({ paymentMethod, error }) => {\n        if (error) {\n            // An error happened when collecting card details, show error in payment form\n            resultContainer.textContent = result.error.message;\n        } else {\n            // Send paymentMethod.id to your server (see Step 3)\n            const response = await fetch(\"/pay\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ payment_method_id: paymentMethod.id })\n            });\n\n            const responseJson = await response.json();\n\n            handleServerResponse(responseJson);\n        }\n    };\n\n    const handleServerResponse = async responseJson => {\n        if (responseJson.error) {\n            // An error happened when charging the card, show it in the payment form\n            resultContainer.textContent = responseJson.error;\n        } else {\n            // Show a success message\n            resultContainer.textContent = 'Success!';\n        }\n    };\n   // HybridWebView.SendInvokeMessageToDotNet(\"CallMeFromScript\", [respData.dataKey, respData.bin, respData.errorMessage, respData.responseCode]);\n    }\n} catch (e)\n{\n    HybridWebView.SendInvokeMessageToDotNet(\"CallMeFromScript\", e.errorMessage, e.errorMessage);\n}\n","path":null,"size_bytes":2313,"size_tokens":null},"Admin/MauiProgram.cs":{"content":"﻿using Dome.Admin.Services.Implementations;\nusing Microsoft.Extensions.Logging;\nusing Mopups.Hosting;\nusing Mopups.Services;\n\nnamespace Admin;\n\npublic static class MauiProgram\n{\n    public static MauiApp CreateMauiApp()\n    {\n        var builder = MauiApp.CreateBuilder();\n        builder\n            .UseMauiApp<App>()\n            .UseMauiCommunityToolkitMarkup()\n            .ConfigurePages()\n            .ConfigureServices()\n            .ConfigureMopups()\n            .UseMauiCommunityToolkit(options =>\n            {\n                options.SetShouldEnableSnackbarOnWindows(true);\n            })\n            .ConfigureHandlers()\n            .ConfigureEssentials(essentials =>\n            {\n                essentials.UseVersionTracking();\n            })\n            .ConfigureFonts(fonts =>\n            {\n                fonts.AddFont(\"Inter-Light.ttf\", \"InterLight\");\n                fonts.AddFont(\"Inter-Regular.ttf\", \"InterRegular\");\n                fonts.AddFont(\"Inter-Medium.ttf\", \"InterMedium\");\n                fonts.AddFont(\"Inter-SemiBold.ttf\", \"InterSemiBold\");\n                fonts.AddFont(\"Inter-Bold.ttf\", \"InterBold\");\n            });\n\n        builder.Services.AddSingleton<IPopupNavigation>(MopupService.Instance);\n\n#if DEBUG\n        builder.Logging.AddDebug();\n#endif\n\n        return builder.Build();\n    }\n\n    public static MauiAppBuilder ConfigurePages(this MauiAppBuilder builder)\n    {\n        //Account Views\n        builder.Services.AddTransient<LoginView, LoginViewModel>();\n        builder.Services.AddTransient<OnboardVendorView, OnboardVendorViewModel>();\n        builder.Services.AddTransient<EditVendorView, EditVendorViewModel>();\n        builder.Services.AddTransient<VendorYardView, VendorYardViewModel>();\n        builder.Services.AddTransient<ChangePasswordView, ChangePasswordViewModel>();\n        builder.Services.AddTransient<ForgotPasswordView, ForgotPasswordViewModel>();\n        builder.Services.AddTransient<\n            VerifyEmailForPasswordResetView,\n            VerifyEmailForPasswordResetViewModel\n        >();\n        builder.Services.AddTransient<\n            AuthenticateEmailForLoginView,\n            AuthenticateEmailForLoginViewModel\n        >();\n        builder.Services.AddTransient<CoachView, CoachViewModel>();\n        builder.Services.AddTransient<LearnView, LearnViewModel>();\n        builder.Services.AddTransient<CouponView, CouponViewModel>();\n        builder.Services.AddTransient<SyncDataView, SyncDataViewModel>();\n\n        builder.Services.AddTransient<ChangeVendorPasswordViewModel>();\n        return builder;\n    }\n\n    public static MauiAppBuilder ConfigureServices(this MauiAppBuilder builder)\n    {\n        //App Services\n        builder.Services.AddSingleton<INavigationService, MauiNavigationService>();\n        builder.Services.AddSingleton<IRealmService, RealmService>();\n        builder.Services.AddTransient<ISettingsService, SettingsService>();\n        builder.Services.AddTransient<ITwilioService, TwilioService>();\n        builder.Services.AddTransient<IImageService, ImageService>();\n        builder.Services.AddSingleton<ISecretsService, SecretsService>();\n\n        // Other Services\n        builder.Services.AddSingleton<IConnectivity>(Connectivity.Current);\n        builder.Services.AddSingleton<IMediaPicker>(MediaPicker.Default);\n        builder.Services.AddSingleton<IFileSystem>(FileSystem.Current);\n\n        return builder;\n    }\n\n    public static MauiAppBuilder ConfigureHandlers(this MauiAppBuilder builder)\n    {\n        return builder.ConfigureMauiHandlers(handlers =>\n        {\n#if WINDOWS\n\n            Microsoft.Maui.Handlers.EditorHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BorderThickness = new Microsoft.UI.Xaml.Thickness(0);\n                }\n            );\n\n            Microsoft.Maui.Controls.Handlers.Items.CollectionViewHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.IsMultiSelectCheckBoxEnabled = false;\n                }\n            );\n\n            Microsoft.Maui.Handlers.EntryHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BorderThickness = new Microsoft.UI.Xaml.Thickness(0);\n                }\n            );\n#endif\n#if MACCATALYST\n            Microsoft.Maui.Handlers.EntryHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BorderStyle = UIKit.UITextBorderStyle.None;\n                }\n            );\n#endif\n        });\n    }\n}\n","path":null,"size_bytes":4784,"size_tokens":null},"Admin/CustomControls/Entries/DualImageBorderedEntry.cs":{"content":"namespace Admin.CustomControls.Entries\n{\n    public class DualImageBorderedEntry : Border\n    {\n        public ICommand ChangeIsPasswordCommand { get; set; }\n\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay\n        );\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n            nameof(PlaceholderText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.OneTime\n        );\n\n        public string PlaceholderText\n        {\n            get => (string)GetValue(PlaceholderTextProperty);\n            set => SetValue(PlaceholderTextProperty, value);\n        }\n\n        protected override void OnPropertyChanged(string? propertyName = null)\n        {\n            base.OnPropertyChanged(propertyName);\n            if (entry != null)\n            {\n                if (propertyName == EntryTextProperty.PropertyName)\n                {\n                    entry.Text = EntryText;\n                }\n                else if (propertyName == PlaceholderTextProperty.PropertyName)\n                {\n                    entry.Placeholder = PlaceholderText;\n                }\n            }\n        }\n\n        readonly Entry entry;\n        readonly Image endImage;\n        readonly Image startImage;\n\n        public DualImageBorderedEntry()\n        {\n            ChangeIsPasswordCommand = new Command(async () => await ChangeIsPassword());\n\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(30) };\n            Padding = new Thickness(0);\n            Background = Colors.Transparent;\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            this.AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black);\n\n            entry = new Entry\n            {\n                IsPassword = true,\n                FontFamily = \"InterRegular\",\n                FontSize = 25,\n                HeightRequest = 70,\n                Background = Colors.Transparent,\n            }\n                .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n                .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n\n            startImage = new Image\n            {\n                Margin = new Thickness(5, 5, 0, 5),\n                Background = Colors.Transparent,\n            };\n            startImage.SetAppTheme<FileImageSource>(\n                Image.SourceProperty,\n                \"password_black_24dp.png\",\n                \"password_white_24dp.png\"\n            );\n\n            endImage = new Image\n            {\n                Margin = new Thickness(0, 5, 5, 5),\n                Background = Colors.Transparent,\n            };\n            endImage.SetAppTheme<FileImageSource>(\n                Image.SourceProperty,\n                \"visibility_off_black_24dp.png\",\n                \"visibility_off_white_24dp.png\"\n            );\n            endImage.GestureRecognizers.Add(\n                new TapGestureRecognizer { Command = ChangeIsPasswordCommand }\n            );\n\n            Content = new Grid\n            {\n                Background = Colors.Transparent,\n                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Auto),\n                    (BodyColumn.second, Star),\n                    (BodyColumn.third, Auto)\n                ),\n\n                Children =\n                {\n                    startImage.Column(BodyColumn.first),\n                    entry.Column(BodyColumn.second),\n                    endImage.Column(BodyColumn.third),\n                },\n            };\n        }\n\n        private async Task ChangeIsPassword()\n        {\n            entry.IsPassword = !entry.IsPassword;\n\n            if (\n                Application.Current?.RequestedTheme == AppTheme.Light\n                || Application.Current?.RequestedTheme == AppTheme.Unspecified\n            )\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_black_24dp.png\"\n                    : \"visibility_black_24dp.png\";\n            }\n            else if (Application.Current?.RequestedTheme == AppTheme.Dark)\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_white_24dp.png\"\n                    : \"visibility_white_24dp.png\";\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4961,"size_tokens":null},"Player/Platforms/Tizen/Main.cs":{"content":"using System;\nusing Microsoft.Maui;\nusing Microsoft.Maui.Hosting;\n\nnamespace Player;\n\nclass Program : MauiApplication\n{\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n\n    static void Main(string[] args)\n    {\n        var app = new Program();\n        app.Run(args);\n    }\n}\n","path":null,"size_bytes":306,"size_tokens":null},"Player/ViewModels/Book/VenueDetailsViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class VenueDetailsViewModel : BaseViewModel, IQueryAttributable\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        ObjectId selectedVenueId;\n\n        [ObservableProperty]\n        string? gameName;\n\n        [ObservableProperty]\n        AvailableGame selectedGame;\n\n        Realm? realm;\n\n        VenueUser? venueUser;\n\n        [ObservableProperty]\n        Venue? selectedVenue;\n\n        [ObservableProperty]\n        ObservableCollection<Amenity>? amenities;\n\n        [ObservableProperty]\n        string aboutVenue = string.Empty;\n\n        private readonly IRealmService? realmService;\n        private readonly INavigationService? navigationService;\n        private readonly IConnectivity? connectivity;\n        private readonly IImageService? imageService;\n\n        public VenueDetailsViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            IImageService imageService\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n                this.imageService = imageService;\n\n                Amenities = [];\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n                venueUser = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                PlayerImage = venueUser?.ProfileImage;\n                if (query.TryGetValue(\"venueId\", out object? venueId))\n                {\n                    if (venueId != null)\n                    {\n                        if (venueId is ObjectId)\n                        {\n                            SelectedVenueId = ObjectId.Parse(venueId.ToString());\n                            SelectedVenue = realm.Find<Venue>(SelectedVenueId);\n                            foreach (Amenity amenity in SelectedVenue.Amenities)\n                            {\n                                Amenities.Add(amenity);\n                            }\n                            // the about property has \\n in it, so we need to replace it with new line\n                            AboutVenue = SelectedVenue.About.Replace(\"\\\\n\", \"\\n\");\n                        }\n                    }\n                }\n\n                if (query.TryGetValue(\"gameName\", out object? gameName))\n                {\n                    if (gameName != null)\n                    {\n                        if (gameName is string)\n                        {\n                            GameName = gameName.ToString();\n                            await SetGameNameAndImage(GameName);\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task SetGameNameAndImage(string GameName)\n        {\n            try\n            {\n                foreach (AvailableGame availableGame in SelectedVenue.AvailableGames)\n                {\n                    if (availableGame.Name == GameName)\n                    {\n                        string? firstImageName = availableGame.FirstImageName;\n                        if (!string.IsNullOrEmpty(firstImageName))\n                        {\n                            byte[]? firstImageBytes = await imageService.GetImageFromLocalStorageAsync(\n                                firstImageName\n                            );\n                            if (firstImageBytes == null)\n                            {\n                                await imageService.DownloadImageFromAWSS3Async(firstImageName);\n                                firstImageBytes = await imageService.GetImageFromLocalStorageAsync(\n                                    firstImageName\n                                );\n                            }\n                            if (firstImageBytes != null)\n                                SelectedVenue.SelectedGamesImages = new ObservableCollection<byte[]>\n                                {\n                                    firstImageBytes,\n                                };\n                        }\n\n                        string secondImageName = availableGame.SecondImageName;\n                        if (!string.IsNullOrEmpty(secondImageName))\n                        {\n                            byte[]? secondImageBytes =\n                                await imageService.GetImageFromLocalStorageAsync(secondImageName);\n                            if (secondImageBytes == null)\n                            {\n                                await imageService.DownloadImageFromAWSS3Async(secondImageName);\n                                secondImageBytes = await imageService.GetImageFromLocalStorageAsync(\n                                    secondImageName\n                                );\n                            }\n                            if (secondImageBytes != null)\n                                SelectedVenue.SelectedGamesImages.Add(secondImageBytes);\n                        }\n\n                        SelectedVenue.SelectedGamesName = availableGame.Name;\n                        this.OnPropertyChanged(nameof(SelectedVenue));\n                        SelectedGame = availableGame;\n                        break;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task BookNow()\n        {\n            try\n            {\n                IEnumerable<Booking> onHoldAndReservedBookings = venueUser.Bookings.Where(n =>\n                    n.BookingStatus == Dome.Shared.Constants.AppConstants.Created\n                    || n.BookingStatus == Dome.Shared.Constants.AppConstants.Reserved\n                );\n                // if the user has any on hold or reserved bookings, then navigate to cart view to complete the booking\n                if (onHoldAndReservedBookings.Any())\n                {\n                    await navigationService.NavigateToAsync(nameof(PaymentView));\n                }\n                else\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(BookingTimingView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"gameName\", GameName },\n                            { \"venueId\", SelectedVenueId },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":7681,"size_tokens":null},"Admin/AdminGlobalUsings.cs":{"content":"﻿global using System.Collections.ObjectModel;\nglobal using System.ComponentModel;\nglobal using System.ComponentModel.DataAnnotations;\nglobal using System.Globalization;\nglobal using System.Runtime.CompilerServices;\nglobal using System.Windows.Input;\nglobal using Admin.CustomControls.Borders;\nglobal using Admin.CustomControls.Buttons;\nglobal using Admin.CustomControls.CollectionViews;\nglobal using Admin.CustomControls.Entries;\nglobal using Admin.CustomControls.Labels;\nglobal using Admin.CustomControls.Pickers;\nglobal using Admin.Models.LocalModels;\nglobal using Admin.Popups;\nglobal using Admin.Services.Implementations;\nglobal using Admin.Services.Interfaces;\nglobal using Admin.View;\nglobal using Admin.View.Account;\nglobal using Admin.ViewModels;\nglobal using Admin.ViewModels.Account;\nglobal using CommunityToolkit.Maui;\nglobal using CommunityToolkit.Maui.Converters;\nglobal using CommunityToolkit.Maui.Core;\nglobal using CommunityToolkit.Maui.Core.Extensions;\nglobal using CommunityToolkit.Maui.Extensions;\nglobal using CommunityToolkit.Maui.Markup;\nglobal using static CommunityToolkit.Maui.Markup.GridRowsColumns;\nglobal using CommunityToolkit.Maui.Views;\nglobal using CommunityToolkit.Mvvm.ComponentModel;\nglobal using CommunityToolkit.Mvvm.Input;\nglobal using Dome.Admin.Services.Interfaces;\nglobal using Dome.Shared;\nglobal using Dome.Shared.Constants;\nglobal using Dome.Shared.Helper;\nglobal using static Dome.Shared.Local.Enums;\nglobal using Dome.Shared.Services.Implementations;\nglobal using Dome.Shared.Services.Interfaces;\nglobal using Dome.Shared.Synced;\nglobal using Microsoft.Extensions.Logging;\nglobal using Microsoft.Maui.Controls.Shapes;\nglobal using MongoDB.Bson;\nglobal using Mopups.Interfaces;\nglobal using Realms;\nglobal using Realms.Sync;\nglobal using Realms.Sync.ErrorHandling;\nglobal using Realms.Sync.Exceptions;\nglobal using RequiredAttribute = System.ComponentModel.DataAnnotations.RequiredAttribute;\n","path":null,"size_bytes":1939,"size_tokens":null},"Player/Platforms/Windows/App.xaml.cs":{"content":"﻿using Microsoft.UI.Xaml;\n\n// To learn more about WinUI, the WinUI project structure,\n// and more about our project templates, see: http://aka.ms/winui-project-info.\n\nnamespace Player.WinUI;\n\n/// <summary>\n/// Provides application-specific behavior to supplement the default Application class.\n/// </summary>\npublic partial class App : MauiWinUIApplication\n{\n    /// <summary>\n    /// Initializes the singleton application object.  This is the first line of authored code\n    /// executed, and as such is the logical equivalent of main() or WinMain().\n    /// </summary>\n    public App()\n    {\n        this.InitializeComponent();\n    }\n\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":720,"size_tokens":null},"Player/PlayerGlobalUsings.cs":{"content":"﻿global using System.Collections;\nglobal using System.Collections.ObjectModel;\nglobal using System.ComponentModel;\nglobal using System.ComponentModel.DataAnnotations;\nglobal using System.Globalization;\nglobal using System.Net.Http.Json;\nglobal using System.Runtime.CompilerServices;\nglobal using System.Text.Json;\nglobal using System.Text.Json.Serialization;\nglobal using System.Windows.Input;\nglobal using CommunityToolkit.Maui;\nglobal using CommunityToolkit.Maui.Converters;\nglobal using CommunityToolkit.Maui.Core;\nglobal using CommunityToolkit.Maui.Core.Extensions;\nglobal using CommunityToolkit.Maui.Extensions;\nglobal using CommunityToolkit.Maui.Markup;\nglobal using static CommunityToolkit.Maui.Markup.GridRowsColumns;\nglobal using CommunityToolkit.Maui.Views;\nglobal using CommunityToolkit.Mvvm.ComponentModel;\nglobal using CommunityToolkit.Mvvm.Input;\nglobal using Dome.Player.Services.Interfaces;\nglobal using Dome.Shared;\nglobal using Dome.Shared.Constants;\nglobal using Dome.Shared.Helper;\nglobal using Dome.Shared.Local;\nglobal using static Dome.Shared.Local.Enums;\nglobal using Dome.Shared.Services.Implementations;\nglobal using Dome.Shared.Services.Interfaces;\nglobal using Dome.Shared.Synced;\nglobal using Dome.Shared.Synced.Payment;\nglobal using Dome.Shared.Synced.Player;\nglobal using Microsoft.Extensions.Logging;\nglobal using Microsoft.Maui.Controls;\nglobal using Microsoft.Maui.Controls.Shapes;\nglobal using Microsoft.Maui.Networking;\nglobal using Microsoft.Maui.Platform;\nglobal using MongoDB.Bson;\nglobal using Mopups.Interfaces;\nglobal using Mopups.Pages;\nglobal using Mopups.Services;\nglobal using Player.CustomControls;\nglobal using Player.CustomControls.Borders;\nglobal using Player.CustomControls.Buttons;\nglobal using Player.CustomControls.CollectionViews;\nglobal using Player.CustomControls.Entries;\nglobal using Player.CustomControls.Labels;\nglobal using Player.CustomControls.Pickers;\nglobal using Player.Helpers;\nglobal using Player.Models.APIServer;\nglobal using Player.Models.Chat;\nglobal using Player.Models.LocalModels;\nglobal using Player.Popups;\nglobal using Player.Services.Implementations;\nglobal using Player.Services.Interfaces;\nglobal using Player.ViewModels;\nglobal using Player.ViewModels.Account;\nglobal using Player.ViewModels.Book;\nglobal using Player.ViewModels.Connect;\nglobal using Player.Views;\nglobal using Player.Views.Account;\nglobal using Player.Views.Book;\nglobal using Player.Views.Connect;\nglobal using Realms;\nglobal using Realms.Sync;\nglobal using Realms.Sync.ErrorHandling;\nglobal using Realms.Sync.Exceptions;\nglobal using Sharpnado.Tabs;\nglobal using Stripe.PaymentSheets;\nglobal using RequiredAttribute = System.ComponentModel.DataAnnotations.RequiredAttribute;\n","path":null,"size_bytes":2730,"size_tokens":null},"Player/ViewModels/Connect/JoinAGameViewModel.cs":{"content":"﻿using Dome.Shared.Synced;\n\nnamespace Player.ViewModels.Connect\n{\n    public partial class JoinAGameViewModel : ObservableObject\n    {\n        [ObservableProperty]\n        ObservableCollection<PlannedBooking> plannedBookings;\n\n        [ObservableProperty]\n        ObservableCollection<PlannedBooking> othersPlannedBookings;\n\n        [ObservableProperty]\n        ObservableCollection<PlannedBooking> othersFilteredPlannedBookings;\n\n        [ObservableProperty]\n        ObservableCollection<Game>? onboardedGames;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        ObservableCollection<string> venueLocations;\n\n        [ObservableProperty]\n        string selectedLocation;\n\n        [ObservableProperty]\n        PlannedBooking selectedBooking;\n\n        AppTheme currentTheme;\n\n        Realm realm;\n\n        VenueUser? Player;\n\n        IDisposable bookingToken;\n\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n\n        private readonly IPopupNavigation popupNavigation;\n\n        public JoinAGameViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                plannedBookings = new ObservableCollection<PlannedBooking>();\n                OthersPlannedBookings = new ObservableCollection<PlannedBooking>();\n                OthersFilteredPlannedBookings = new ObservableCollection<PlannedBooking>();\n                OnboardedGames = new ObservableCollection<Game>();\n                VenueLocations = new ObservableCollection<string>();\n\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.popupNavigation = popupNavigation;\n\n                realm = Realm.GetInstance(realmService.Config);\n\n                // Observe collection notifications\n                bookingToken = realm\n                    .All<PlannedBooking>()\n                    .SubscribeForNotifications(\n                        async (sender, changes) =>\n                        {\n                            if (changes == null)\n                            {\n                                // This is the case when the notification is called\n                                // for the first time.\n                                // Populate tableview/listview with all the items\n                                // from `collection`\n\n                                return;\n                            }\n                            //Handle individual changes\n\n                            foreach (int i in changes.DeletedIndices)\n                            {\n                                // ... handle deletions ...\n\n                                await FilterBookings();\n\n                                return;\n                            }\n                            foreach (int i in changes.InsertedIndices)\n                            {\n                                // ... handle insertions ...\n\n                                await FilterBookings();\n                                return;\n                            }\n                            foreach (int i in changes.NewModifiedIndices)\n                            {\n                                // ... handle modifications ...\n                                await FilterBookings();\n                                return;\n                            }\n                        }\n                    );\n\n                Application.Current.RequestedThemeChanged += Current_RequestedThemeChanged;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        public async Task InitializeAsync()\n        {\n            try\n            {\n                Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                await GetGames();\n\n                SelectedGame = OnboardedGames.FirstOrDefault();\n\n                this.OnPropertyChanged(nameof(SelectedGame));\n\n                List<Venue>? ActiveVendors = realm\n                    .All<Venue>()\n                    .Where(v => v.IsActive == true)\n                    .ToList();\n\n                List<string> cities = ActiveVendors.Select(v => v.Address.City).Distinct().ToList();\n\n                VenueLocations.Clear();\n                VenueLocations.Add(\"All Locations\");\n                foreach (string city in cities)\n                {\n                    VenueLocations.Add($\"{city}, Ontario\");\n                }\n                SelectedLocation = VenueLocations.FirstOrDefault();\n\n                await FilterBookings();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        private async Task GetGames()\n        {\n            try\n            {\n                List<Venue>? ActiveVendors = realm\n                    .All<Venue>()\n                    .Where(v => v.IsActive == true)\n                    .ToList();\n\n                List<AvailableGame>? Games = ActiveVendors\n                    ?.SelectMany(m => m.AvailableGames)\n                    .DistinctBy(x => x.Name)\n                    .ToList();\n\n                OnboardedGames.Clear();\n\n                foreach (AvailableGame availableGame in Games)\n                {\n                    Game? game = realm\n                        .All<Game>()\n                        .Where(g => g.GameName == availableGame.Name)\n                        .FirstOrDefault();\n                    if (game != null)\n                    {\n                        OnboardedGames.Add(game);\n                    }\n                }\n\n                currentTheme = Application.Current.RequestedTheme;\n                ChangeGameIcons();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        private void Current_RequestedThemeChanged(object? sender, AppThemeChangedEventArgs e)\n        {\n            currentTheme = e.RequestedTheme;\n            ChangeGameIcons();\n        }\n\n        private void ChangeGameIcons()\n        {\n            if (currentTheme == AppTheme.Dark)\n            {\n                foreach (Game game in OnboardedGames)\n                {\n                    game.GameIcon = game.DarkModeGameIcon;\n                }\n            }\n            else\n            {\n                foreach (Game game in OnboardedGames)\n                {\n                    if (game.IsSelected)\n                    {\n                        game.GameIcon = game.DarkModeGameIcon;\n                    }\n                    else\n                    {\n                        game.GameIcon = game.LightModeGameIcon;\n                    }\n                }\n            }\n        }\n\n        async Task FilterBookings()\n        {\n            try\n            {\n                PlannedBookings.Clear();\n                OthersPlannedBookings.Clear();\n                OthersFilteredPlannedBookings.Clear();\n\n                PlannedBookings = realm.All<PlannedBooking>().ToObservableCollection();\n\n                foreach (PlannedBooking booking in PlannedBookings)\n                {\n                    if (booking?.Host?.Id != Player?.Id)\n                    {\n                        bool joined = false;\n                        List<VenueUser?> applicants = booking\n                            .JoinRequests.Select(j => j.AppliedBy)\n                            .ToList();\n                        foreach (VenueUser user in applicants)\n                        {\n                            if (user?.Id == Player?.Id)\n                            {\n                                joined = true;\n                                break;\n                            }\n                        }\n                        if (!joined)\n                        {\n                            OthersPlannedBookings.Add(booking);\n                        }\n                    }\n                }\n                await Search();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        [RelayCommand]\n        async Task JoinHostedGame()\n        {\n            try\n            {\n                //  int approvedRequests= SelectedBooking.JoinRequests.Where(t => t.IsApproved == true).Count();\n                // 1 is added to the accepted requests to include the host in the team status\n                // if (approvedRequests+1 == SelectedBooking.NumberOfPlayers)\n                //     {\n                //         await Shell.Current.DisplayAlert(\"Game full\", \"This game is full\", \"Okay\");\n\n                //     }\n                if (SelectedBooking.JoinRequests.Any(j => j.AppliedBy.Id == Player?.Id))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Applied\",\n                        \"You have already applied for this game\",\n                        \"Okay\"\n                    );\n                }\n                else\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(ReviewGameBeforeApplyingView),\n                        new ShellNavigationQueryParameters { { \"Id\", SelectedBooking.Id } }\n                    );\n                }\n\n                SelectedBooking = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == nameof(SelectedGame))\n                {\n                    OnboardedGames.ToList().ForEach(g => g.IsSelected = false);\n                    Game? choosenGame = OnboardedGames\n                        .Where(g => g.GameName == SelectedGame.GameName)\n                        .FirstOrDefault();\n                    choosenGame.IsSelected = true;\n                    SelectedGame.IsSelected = true;\n\n                    ChangeGameIcons();\n\n                    await Search();\n                }\n                else if (e.PropertyName == nameof(SelectedLocation))\n                {\n                    await Search();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Search()\n        {\n            try\n            {\n                OthersFilteredPlannedBookings.Clear();\n\n                if (SelectedGame != null && SelectedLocation != null)\n                {\n                    string? city = SelectedLocation?.Split(',')[0].Trim();\n                    if (city == \"All Locations\")\n                    {\n                        OthersFilteredPlannedBookings = OthersPlannedBookings\n                            .Where(x => x.GameName == SelectedGame.GameName)\n                            .OrderByDescending(x => x.PlannedDate)\n                            .ToObservableCollection();\n                    }\n                    else\n                    {\n                        OthersFilteredPlannedBookings = OthersPlannedBookings\n                            .Where(x => x.City == city && x.GameName == SelectedGame.GameName)\n                            .OrderByDescending(x => x.PlannedDate)\n                            .ToObservableCollection();\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":12103,"size_tokens":null},"Dome.Shared/Synced/VenueAddress.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the address of a venue embedded in the venue object\n    /// </summary>\n    public partial class VenueAddress : IEmbeddedObject\n    {\n        private VenueAddress() { }\n\n        public VenueAddress(\n            string street,\n            string postCode,\n            string country,\n            string province,\n            string city,\n            double latitude,\n            double longitude\n        )\n        {\n            Street = street;\n            PostCode = postCode;\n            Country = country;\n            Province = province;\n            City = city;\n            Latitude = latitude;\n            Longitude = longitude;\n        }\n\n        [MapTo(\"street\")]\n        public string Street { get; set; }\n\n        [MapTo(\"postCode\")]\n        public string PostCode { get; set; }\n\n        [MapTo(\"country\")]\n        public string Country { get; set; }\n\n        [MapTo(\"province\")]\n        public string Province { get; set; }\n\n        [MapTo(\"city\")]\n        public string City { get; set; }\n\n        [MapTo(\"latitude\")]\n        public double Latitude { get; set; }\n\n        [MapTo(\"longitude\")]\n        public double Longitude { get; set; }\n    }\n}\n","path":null,"size_bytes":1217,"size_tokens":null},"Admin/CustomControls/Buttons/RegularButton.cs":{"content":"namespace Admin.CustomControls.Buttons\n{\n    public class RegularButton : Button\n    {\n        public RegularButton()\n        {\n            Background = Color.FromArgb(\"#EF2F50\");\n            FontFamily = \"InterRegular\";\n            FontSize = 18;\n            TextColor = Colors.White;\n            CornerRadius = 10;\n        }\n    }\n}\n","path":null,"size_bytes":335,"size_tokens":null},"Player/Views/OnBoarding/OnBoardPage3.cs":{"content":"namespace Player.Views.OnBoarding;\n\npublic class OnBoardPage3 : ContentPage\n{\n    INavigationService navigationService;\n\n    public OnBoardPage3(INavigationService navigationService)\n    {\n        this.navigationService = navigationService;\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n        Content = new ScrollView\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto)\n                ),\n\n                Children =\n                {\n                    new Image { HorizontalOptions = LayoutOptions.Start }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"dome_logo.png\",\n                            \"dome_logo_white.png\"\n                        )\n                        .Row(BodyRow.first)\n                        .Margins(23, 24, 0, 16),\n                    new Image { Source = \"onboardthirdimage.png\" }\n                        .Row(BodyRow.second)\n                        .Margins(0, 0, 0, 0),\n                    new Bold30Label { Text = \"Meet up with \\nplaypals\" }\n                        .Row(BodyRow.third)\n                        .Margins(36, 33, 0, 0),\n                    new Medium16Label\n                    {\n                        Text =\n                            \"Host a game for your friends to join, or join games hosted by others!\",\n                    }\n                        .Row(BodyRow.fourth)\n                        .Margins(36, 7, 39, 0),\n                    new MediumButton\n                    {\n                        Text = \"Get Started\",\n                        HeightRequest = 40,\n                        WidthRequest = 308,\n                        HorizontalOptions = LayoutOptions.Center,\n                        CornerRadius = 20,\n                    }\n                        .Invoke(button => button.Clicked += Button_Clicked)\n                        .Margins(0, 80, 0, 15)\n                        .Row(BodyRow.fifth),\n                    new Regular16Label\n                    {\n                        Text = \"BACK\",\n                        HorizontalOptions = LayoutOptions.Center,\n                        TextDecorations = TextDecorations.Underline,\n                    }\n                        .Invoke(label =>\n                        {\n                            label.GestureRecognizers.Add(\n                                new TapGestureRecognizer\n                                {\n                                    Command = new Command(async () =>\n                                        await navigationService.PopAsync()\n                                    ),\n                                }\n                            );\n                        })\n                        .Row(BodyRow.sixth),\n                },\n            },\n        };\n    }\n\n    private async void Button_Clicked(object? sender, EventArgs e)\n    {\n        await navigationService.NavigateToAsync(nameof(RegisterView));\n    }\n}\n","path":null,"size_bytes":3289,"size_tokens":null},"Admin/View/LearnView.cs":{"content":"namespace Admin.View;\n\npublic class LearnView : BaseView\n{\n    LearnViewModel viewModel;\n    int count = 0;\n\n    public LearnView(LearnViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Title = \"Learn\";\n            this.viewModel = viewModel;\n            Padding = new Thickness(20, 40);\n            Content = new ScrollView\n            {\n                Orientation = ScrollOrientation.Both,\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Content = new HorizontalStackLayout\n                {\n                    Spacing = 20,\n                    Children =\n                    {\n                        new CustomBorder\n                        {\n                            Content = new Grid\n                            {\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, 20),\n                                    (BodyRow.second, 45),\n                                    (BodyRow.third, 50),\n                                    (BodyRow.fourth, Auto),\n                                    (BodyRow.fifth, 35),\n                                    (BodyRow.sixth, 50),\n                                    (BodyRow.seventh, Auto),\n                                    (BodyRow.eighth, 35),\n                                    (BodyRow.ninth, 80),\n                                    (BodyRow.tenth, Auto),\n                                    (BodyRow.eleventh, 35),\n                                    (BodyRow.twelfth, 50),\n                                    (BodyRow.thirteenth, Auto),\n                                    (BodyRow.fourteenth, 40),\n                                    (BodyRow.fifteenth, 50),\n                                    (BodyRow.sixteenth, Auto),\n                                    (BodyRow.seventeenth, 70)\n                                ),\n                                ColumnDefinitions = Columns.Define(\n                                    (BodyColumn.first, 310),\n                                    (BodyColumn.second, 310)\n                                ),\n                                Padding = 20,\n\n                                ColumnSpacing = 10,\n                                Children =\n                                {\n                                    new Bold20Label { Text = \"LEARN DETAILS\" }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.first),\n                                    new Bold20Label { Text = \"Creator Name\" }\n                                        .Row(BodyRow.second)\n                                        .Column(BodyColumn.first)\n                                        .Margins(0, 20, 0, 0),\n                                    new BorderedEntryRectangle\n                                    {\n                                        PlaceholderText = \"Type here\",\n                                        WidthRequest = 610,\n                                    }\n                                        .Row(BodyRow.third)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Bind(\n                                            BorderedEntryRectangle.EntryTextProperty,\n                                            static (LearnViewModel vm) => vm.Content.PublishedBy,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Name is required\",\n                                    }\n                                        .Row(BodyRow.fourth)\n                                        .Column(BodyColumn.first)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            $\"{nameof(viewModel.Content)}.{nameof(viewModel.Content.PublishedBy)}\",\n                                            converter: new IsStringNullOrWhiteSpaceConverter(),\n                                            source: viewModel\n                                        ),\n                                    new Bold20Label { Text = \"Title\" }\n                                        .Row(BodyRow.fifth)\n                                        .Column(BodyColumn.first)\n                                        .Margins(0, 10, 0, 0),\n                                    new BorderedEntryRectangle\n                                    {\n                                        PlaceholderText = \"Type here\",\n                                        WidthRequest = 305,\n                                    }\n                                        .Row(BodyRow.sixth)\n                                        .Column(BodyColumn.first)\n                                        .Bind(\n                                            BorderedEntryRectangle.EntryTextProperty,\n                                            static (LearnViewModel vm) => vm.Content.Title,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Title is required\",\n                                    }\n                                        .Row(BodyRow.seventh)\n                                        .Column(BodyColumn.first)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            $\"{nameof(viewModel.Content)}.{nameof(viewModel.Content.Title)}\",\n                                            converter: new IsStringNullOrWhiteSpaceConverter(),\n                                            source: viewModel\n                                        ),\n                                    new Bold20Label { Text = \"Content Type\" }\n                                        .Row(BodyRow.fifth)\n                                        .Column(BodyColumn.second)\n                                        .Margins(0, 10, 0, 0),\n                                    new Picker { WidthRequest = 305 }\n                                        .Row(BodyRow.sixth)\n                                        .Column(BodyColumn.second)\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (LearnViewModel vm) => vm.ContentTypes,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (LearnViewModel vm) => vm.Content.Type,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Content Type is required\",\n                                    }\n                                        .Row(BodyRow.seventh)\n                                        .Column(BodyColumn.second)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            $\"{nameof(viewModel.Content)}.{nameof(viewModel.Content.Type)}\",\n                                            converter: new IsStringNullOrWhiteSpaceConverter(),\n                                            source: viewModel\n                                        ),\n                                    new Bold20Label { Text = \"Description\" }\n                                        .Row(BodyRow.eighth)\n                                        .Column(BodyColumn.first)\n                                        .Margins(0, 10, 0, 0),\n                                    new CustomBorder\n                                    {\n                                        Padding = 0,\n                                        Content = new Editor\n                                        {\n                                            Placeholder = \"Type here\",\n                                            AutoSize = EditorAutoSizeOption.TextChanges,\n                                            MaxLength = 300,\n                                            FontSize = 16,\n                                            FontFamily = \"InterRegular\",\n                                        }.Bind(\n                                            Editor.TextProperty,\n                                            static (LearnViewModel vm) => vm.Content.Description,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        ),\n                                    }\n                                        .Row(BodyRow.ninth)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Description is required\",\n                                    }\n                                        .Row(BodyRow.tenth)\n                                        .Column(BodyColumn.first)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            $\"{nameof(viewModel.Content)}.{nameof(viewModel.Content.Description)}\",\n                                            converter: new IsStringNullOrWhiteSpaceConverter(),\n                                            source: viewModel\n                                        ),\n                                    new Bold20Label { Text = \"Content Link\" }\n                                        .Row(BodyRow.eleventh)\n                                        .Column(BodyColumn.first)\n                                        .Margins(0, 10, 0, 0),\n                                    new BorderedEntryRectangle\n                                    {\n                                        PlaceholderText = \"Type here\",\n                                        WidthRequest = 610,\n                                    }\n                                        .Row(BodyRow.twelfth)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Bind(\n                                            BorderedEntryRectangle.EntryTextProperty,\n                                            static (LearnViewModel vm) => vm.Content.Content,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Content link is required\",\n                                    }\n                                        .Row(BodyRow.thirteenth)\n                                        .Column(BodyColumn.first)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            $\"{nameof(viewModel.Content)}.{nameof(viewModel.Content.Content)}\",\n                                            converter: new IsStringNullOrWhiteSpaceConverter(),\n                                            source: viewModel\n                                        ),\n                                    new Bold20Label { Text = \"Category\" }\n                                        .Row(BodyRow.fourteenth)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Margins(0, 15, 0, 0),\n                                    new Picker\n                                    {\n                                        WidthRequest = 610,\n                                        ItemDisplayBinding = new Binding(nameof(Game.GameName)),\n                                    }\n                                        .Row(BodyRow.fifteenth)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (LearnViewModel vm) => vm.AllGames,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (LearnViewModel vm) => vm.SelectedGame,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label\n                                    {\n                                        TextColor = Colors.Red,\n                                        Text = \"Category is required\",\n                                    }\n                                        .Row(BodyRow.sixteenth)\n                                        .Column(BodyColumn.first)\n                                        .ColumnSpan(2)\n                                        .Bind(\n                                            Regular16Label.IsVisibleProperty,\n                                            nameof(viewModel.SelectedGame),\n                                            convert: (Game? game) => game == null ? true : false\n                                        ),\n                                    new RegularButton\n                                    {\n                                        Text = \"CANCEL\",\n                                        FontFamily = \"InterBold\",\n                                        Background = Colors.Black,\n                                        Command = viewModel.CancelCommand,\n                                    }\n                                        .Row(BodyRow.seventeenth)\n                                        .Column(BodyColumn.first)\n                                        .Margins(20, 20),\n                                    new RegularButton\n                                    {\n                                        Text = \"UPLOAD\",\n                                        FontFamily = \"InterBold\",\n                                        Command = viewModel.UploadLearningContentCommand,\n                                    }\n                                        .Row(BodyRow.seventeenth)\n                                        .Column(BodyColumn.second)\n                                        .Margins(20, 20),\n                                },\n                            },\n                        },\n                        new CustomBorder\n                        {\n                            Padding = 20,\n                            Content = new VerticalStackLayout\n                            {\n                                WidthRequest = 500,\n\n                                Spacing = 10,\n                                Children =\n                                {\n                                    new Picker\n                                    {\n                                        WidthRequest = 355,\n                                        FontSize = 32,\n                                        FontFamily = \"InterRegular\",\n                                    }\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (LearnViewModel vm) => vm.ContentTypes,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (LearnViewModel vm) => vm.SelectedContentType,\n                                            mode: BindingMode.TwoWay,\n                                            source: viewModel\n                                        ),\n                                    new CollectionView\n                                    {\n                                        ItemsLayout = new GridItemsLayout(\n                                            2,\n                                            ItemsLayoutOrientation.Vertical\n                                        )\n                                        {\n                                            HorizontalItemSpacing = 10,\n                                            VerticalItemSpacing = 10,\n                                        },\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new VerticalStackLayout\n                                            {\n                                                Padding = 10,\n\n                                                Children =\n                                                {\n                                                    new Bold12Label { Text = \"Creator\" },\n                                                    new Regular14Label { }.Bind(\n                                                        Regular14Label.TextProperty,\n                                                        static (LearningContent content) => content.PublishedBy\n                                                    ),\n                                                    new Bold12Label\n                                                    {\n                                                        Text = \"Content Type\",\n                                                    }.Margins(0, 10, 0, 0),\n                                                    new Regular14Label { }.Bind(\n                                                        Regular14Label.TextProperty,\n                                                        static (LearningContent content) => content.GameCategory\n                                                    ),\n                                                    new Bold12Label { Text = \"Title\" }.Margins(\n                                                        0,\n                                                        10,\n                                                        0,\n                                                        0\n                                                    ),\n                                                    new Regular14Label { }.Bind(\n                                                        Regular14Label.TextProperty,\n                                                        static (LearningContent content) => content.Title\n                                                    ),\n                                                    new Bold12Label\n                                                    {\n                                                        Text = \"Description\",\n                                                    }.Margins(0, 10, 0, 0),\n                                                    new Regular14Label { }.Bind(\n                                                        Regular14Label.TextProperty,\n                                                        static (LearningContent content) => content.Description\n                                                    ),\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"DELETE\",\n                                                        HorizontalOptions = LayoutOptions.Center,\n                                                        FontSize = 14,\n                                                        WidthRequest = 100,\n                                                    }\n                                                        .BindCommand(\n                                                            nameof(\n                                                                viewModel.DeleteLearningContentCommand\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Margins(0, 15, 0, 0),\n                                                },\n                                            }.AppThemeBinding(\n                                                Border.BackgroundProperty,\n                                                Color.FromArgb(\"#FAFAFA\"),\n                                                Color.FromArgb(\"#23262A\")\n                                            );\n                                        }),\n                                    }.Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        static (LearnViewModel vm) => vm.FilteredLearningContents,\n                                        source: viewModel\n                                    ),\n                                },\n                            },\n                        },\n                    },\n                },\n            };\n\n            Loaded += LearnView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void LearnView_Loaded(object? sender, EventArgs e)\n    {\n        if (count == 0)\n        {\n            await viewModel.OnLoaded();\n            count++;\n        }\n    }\n}\n","path":null,"size_bytes":23556,"size_tokens":null},"Dome.Shared/Synced/Booking.cs":{"content":"﻿using Dome.Shared.Synced.Player;\n\nnamespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// all the bookings made by the players will be stored in this collection. The booking can be made by the player or by the vendor. It have the details of the player, field, venue, booking date, start time, end time, price, number of players, field type, game name, booking status, cancellation reason, invoice id, is hosted, number of players required for hosting, is booked by vendor, unregistered player name, unregistered player phone, unregistered player email, field number, duration, total price\n    /// </summary>\n    public partial class Booking : IRealmObject\n    {\n        #region constructors\n        private Booking() { }\n\n        public Booking(\n            ObjectId _id,\n            string ownerId,\n            Venue venue,\n            string gameName,\n            DateTimeOffset bookingDate,\n            DateTimeOffset startTime,\n            DateTimeOffset endTime,\n            decimal nonPeakPricePerHour,\n            decimal peakPricePerHour,\n            int peoplePerGame,\n            string fieldName,\n            bool isBookedByVendor,\n            decimal discountPercentage,\n            string bookingStatus,\n            decimal nonPeakHoursDuration,\n            decimal peakHoursDuration,\n            decimal totalDuration,\n            decimal price,\n            decimal convenienceFeePercentage,\n            decimal taxPercentage,\n            string currency,\n            string cartId,\n            bool isHosted\n\n\n        // forced by backend\n        )\n        {\n            Venue = venue;\n            Id = _id;\n            OwnerId = ownerId;\n            GameName = gameName;\n            BookingDate = bookingDate;\n            StartTime = startTime;\n            EndTime = endTime;\n            NonPeakPricePerHour = nonPeakPricePerHour;\n            PeakPricePerHour = peakPricePerHour;\n            PeoplePerGame = peoplePerGame;\n            FieldName = fieldName;\n            IsBookedByVendor = isBookedByVendor;\n            DiscountPercentage = discountPercentage;\n            BookingStatus = bookingStatus;\n            NonPeakHoursDuration = nonPeakHoursDuration;\n            PeakHoursDuration = peakHoursDuration;\n            TotalDuration = totalDuration;\n            Price = price;\n            ConvenienceFeePercentage = convenienceFeePercentage;\n            TaxPercentage = taxPercentage;\n            Currency = currency;\n            CartId = cartId;\n            IsHosted = isHosted;\n\n\n        }\n\n        #endregion\n\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        // the venue id of the venue where the slot is booked\n        [MapTo(\"owner_id\")]\n        public string OwnerId { get; set; }\n\n        // the playerId of the player who booked the slot. if the booking is made by the vendor, the playerId will be null. this is required for write permission in the realm cloud\n        [Indexed]\n        [MapTo(\"playerId\")]\n        public string? PlayerId { get; set; }\n\n        //if the player is not registered in the mobile app, the unregistered player details will be stored while booking from vendor app,\n        [MapTo(\"unregisteredPlayerName\")]\n        public string? UnregisteredPlayerName { get; set; }\n\n        [MapTo(\"unregisteredPlayerPhone\")]\n        public string? UnregisteredPlayerMobileNumber { get; set; }\n\n        [MapTo(\"unregisteredPlayerEmail\")]\n        public string? UnregisteredPlayerEmailId { get; set; }\n\n        [MapTo(\"fieldName\")]\n        public string FieldName { get; set; }\n\n        [MapTo(\"gameName\")]\n        public string GameName { get; set; }\n\n        //the date on which the slot is booked. the time value should be zero\n        [Indexed]\n        [MapTo(\"bookingDate\")]\n        public DateTimeOffset BookingDate { get; set; }\n\n        //the date and time at which the activity will start\n        [Indexed]\n        [MapTo(\"startTime\")]\n        public DateTimeOffset StartTime { get; set; }\n\n        //the date and time at which the activity will finish\n        [Indexed]\n        [MapTo(\"endTime\")]\n        public DateTimeOffset EndTime { get; set; }\n\n        [MapTo(\"nonPeakHoursDuration\")]\n        public decimal NonPeakHoursDuration { get; set; }\n\n        [MapTo(\"peakHoursDuration\")]\n        public decimal PeakHoursDuration { get; set; }\n\n        // the total duration of the booking calculated by adding nonPeakHoursDuration and peakHoursDuration\n        [MapTo(\"totalDuration\")]\n        public decimal TotalDuration { get; set; }\n\n        [MapTo(\"peoplePerGame\")]\n        public int PeoplePerGame { get; set; }\n\n        [Indexed]\n        // five types of booking status:reserved, booked, cancelled, started and completed\n        [MapTo(\"bookingStatus\")]\n        public string BookingStatus { get; set; }\n\n        [MapTo(\"isBookedByVendor\")]\n        public bool IsBookedByVendor { get; set; }\n\n        #region payment\n\n        [MapTo(\"nonPeakPricePerHour\")]\n        public decimal NonPeakPricePerHour { get; set; }\n\n        [MapTo(\"peakPricePerHour\")]\n        public decimal PeakPricePerHour { get; set; }\n\n        // calculated by adding (nonPeakPricePerHour * nonPeakHoursDuration) and (peakPricePerHour * peakHoursDuration)\n        [MapTo(\"price\")]\n        public decimal Price { get; set; }\n\n        // the discount percentage applied on price\n        [MapTo(\"discountPercentage\")]\n        public decimal? DiscountPercentage { get; set; }\n\n        // the discount amount on price\n        [MapTo(\"discount\")]\n        public decimal? Discount { get; set; }\n\n        // calculated by deducting discount from Price. this amount is refunded on cancellation without convenience fee.\n        [MapTo(\"priceAfterDeductingDiscount\")]\n        public decimal? PriceAfterDeductingDiscount { get; set; }\n\n        // the convenience fee percentage applied on totalPriceAfterDiscount\n        [MapTo(\"convenienceFeePercentage\")]\n        public decimal ConvenienceFeePercentage { get; set; }\n\n        // the convenience fee is based on PriceAfterDeductingDiscount\n        [MapTo(\"convenienceFee\")]\n        public decimal? ConvenienceFee { get; set; }\n\n        // the amount after adding convenience fee to the PriceAfterDeductingDiscount. this amount is refunded on cancellation with convenience fee.\n        [MapTo(\"priceAfterAddingConvenienceFee\")]\n        public decimal? PriceAfterAddingConvenienceFee { get; set; }\n\n        // the tax percentage applied on the PriceAfterAddingConvenienceFee\n        [MapTo(\"taxPercentage\")]\n        public decimal TaxPercentage { get; set; }\n\n        // the tax amount on the PriceAfterAddingConvenienceFee\n        [MapTo(\"tax\")]\n        public decimal? Tax { get; set; }\n\n        // the total price after adding tax to the PriceAfterAddingConvenienceFee\n        [MapTo(\"totalPrice\")]\n        public decimal? TotalPrice { get; set; }\n\n        [MapTo(\"appliedCoupon\")]\n        public Coupon? AppliedCoupon { get; set; }\n\n        // this coupon is applied by default when the user books for the first time\n        [MapTo(\"isFirstBookingCouponApplied\")]\n        public bool IsFirstBookingCouponApplied { get; set; }\n\n        // the currency of the payment\n        [MapTo(\"currency\")]\n        public string Currency { get; set; }\n\n        // the cartId recognise the the batch of bookings made together. this will be used to connect the booking with the payment. In stripe the value of the cartId will be assigned to the transfer_group\n        [MapTo(\"cartId\")]\n        public string CartId { get; set; }\n\n        // the paymentIntentId is used to connect the booking with the payment. this is required for the refund process\n        [MapTo(\"paymentIntentId\")]\n        public string? PaymentIntentId { get; set; }\n\n        // The time when the paymentIntent is created and after that when the status of the paymentIntent is updated\n        [MapTo(\"paymentIntentUpdated\")]\n        public DateTimeOffset? PaymentIntentUpdated { get; set; }\n\n        // the status of the payment Intent. It could be succeeded, requires_payment_method, requires_confirmation, requires_action, processing, canceled, or failed\n        [MapTo(\"paymentIntentStatus\")]\n        public string? PaymentIntentStatus { get; set; }\n\n        [MapTo(\"customerName\")]\n        public string? CustomerName { get; set; }\n\n        [Indexed]\n        [MapTo(\"customerEmail\")]\n        public string? CustomerEmail { get; set; }\n\n        [MapTo(\"customerPhone\")]\n        public string? CustomerPhone { get; set; }\n        #endregion\n\n\n        #region backlinks\n\n        [MapTo(\"venue\")]\n        public Venue? Venue { get; set; }\n\n        [MapTo(\"player\")]\n        public VenueUser? Player { get; set; }\n\n        #endregion\n\n\n        #region sharing\n\n        [MapTo(\"isHosted\")]\n        [Indexed]\n        public bool IsHosted { get; set; }\n\n        /// <summary>\n        /// this value is taken from the Planned booking that is connected to the shared booking.\n        /// </summary>\n        [MapTo(\"numberOfPlayersRequiredForHosting\")]\n        public int? NumberOfPlayersRequiredForHosting { get; set; }\n\n        /// <summary>\n        /// this value is taken from the Planned booking that is connected to the shared booking.\n        /// </summary>\n        [MapTo(\"playerCompetancyLevel\")]\n        public string? PlayerCompetancyLevel { get; set; } = PlayerCompetancy.Beginner;\n\n        /// <summary>\n        /// the list of players who joined the shared booking. This list will be updated when the player joins the shared booking from the Chat group by clicking on Join button.\n        /// </summary>\n        [MapTo(\"joinedPlayers\")]\n        public IList<VenueUser> JoinedPlayers { get; }\n\n        [MapTo(\"bringYourOwnEquipment\")]\n        public bool? BringYourOwnEquipment { get; set; } = true;\n\n        [MapTo(\"costShared\")]\n        public bool? CostShared { get; set; } = true;\n\n        /// <summary>\n        ///  conversation id is the id of the chat group associated with the planned booking and the Shared Purchased booking\n        /// </summary>\n        [MapTo(\"conversationId\")]\n        public string? ConversationId { get; set; }\n\n        /// <summary>\n        /// The user can connect the Shared Purchased booking with the planned booking.\n        /// </summary>\n        [MapTo(\"connectedPlannedBooking\")]\n        public PlannedBooking? ConnectedPlannedBooking { get; set; }\n\n        #endregion\n\n\n\n        #region local and ignored properties\n        private byte[] gameImage;\n\n        // use to display the game image in the venues list page in the mobile app\n        public byte[] GameImage\n        {\n            get => gameImage;\n            set\n            {\n                if (value != gameImage)\n                {\n                    gameImage = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n\n        // use to dislay the status of the shared booking in the mobile app. 1 is added to the count of joined players for host.\n        [Ignored]\n        // public string TeamStatus => $\"{JoinedPlayers.Count+1}/{NumberOfPlayersRequiredForHosting} Going\";\n\n        // until we set the NumberOfPlayersRequiredForHosting to 1 while booking, we are only showing the joinedPlayers count in the team status because the intial value of NumberOfPlayersRequiredForHosting is 0  which result in team status of 1/0\n        public string TeamStatus => $\"{JoinedPlayers.Count + 1} Going\";\n\n        bool isJoined;\n\n        [Ignored]\n        // use to show whether the hosted game is joined by the logged in user.\n        public bool IsJoined\n        {\n            get => isJoined;\n            set\n            {\n                if (value != isJoined)\n                {\n                    isJoined = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n\n        [Ignored]\n        public bool IsHostedbyLoggedInUser => !IsJoined && IsHosted;\n\n        [Ignored]\n        public bool NotHostedbyLoggedInUser => !IsJoined && !IsHosted;\n\n        // while booking a slot in vendor app if the player is not registered in the mobile app, the unregistered player name will be assigned to this property. If the player is registered in the mobile app, the player name will be assigned to this property\n        [Ignored]\n        public string? PlayerName => Player == null ? UnregisteredPlayerName : Player.FirstName;\n\n        // this used in AvailableGamesView to display the venue name\n        [Ignored]\n        public string? VenueName => Venue?.FullName;\n\n        [Ignored]\n        public string? BookingInfo =>\n            $\"{StartTime:dd MMMM}, {StartTime:HH:mm} | {TotalDuration} hours | {FieldName}\";\n\n        #endregion\n    }\n}\n\n","path":null,"size_bytes":12691,"size_tokens":null},"Player/Views/CoachView.cs":{"content":"namespace Player.Views;\n\npublic class CoachView : BaseView\n{\n    public CoachView(CoachViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Resources.Add(\n                new Style<UnderlinedTabItem>(\n                    (UnderlinedTabItem.FontFamilyProperty, \"InterExtraBold\"),\n                    (UnderlinedTabItem.UnderlineHeightProperty, 6),\n                    (UnderlinedTabItem.MarginProperty, new Thickness(10, 0, 10, 0)),\n                    (UnderlinedTabItem.LabelSizeProperty, 12),\n                    (UnderlinedTabItem.SelectedTabColorProperty, Color.FromArgb(\"#EF2F50\"))\n                ).AddAppThemeBinding(\n                    UnderlinedTabItem.UnselectedLabelColorProperty,\n                    Color.FromArgb(\"7D7D7D\"),\n                    Color.FromArgb(\"#E0E0E0\")\n                )\n            );\n\n            FormattedString formattedString = new FormattedString();\n            Span emailSpan = new Span { }.Bind(\n                Span.TextProperty,\n                nameof(Coach.Email),\n                stringFormat: \"{0} | \"\n            );\n\n            Span phoneSpan = new Span { }.Bind(Span.TextProperty, nameof(Coach.ContactNumber));\n\n            formattedString.Spans.Add(emailSpan);\n            formattedString.Spans.Add(phoneSpan);\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n                    Padding = new Thickness(15, 0, 15, 0),\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            Padding = new Thickness(10, 20, 10, 0),\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new VerticalStackLayout\n                            {\n                                Children =\n                                {\n                                    new Bold28Label { }.FormattedText(\n                                        new[]\n                                        {\n                                            new Span\n                                            {\n                                                FontFamily = \"InterBold\",\n                                                TextColor = Color.FromArgb(\"AEAEAE\"),\n                                            }.Bind(\n                                                Span.TextProperty,\n                                                nameof(viewModel.UserName),\n                                                stringFormat: \"Hey {0}\\n\"\n                                            ),\n                                            new Span\n                                            {\n                                                FontFamily = \"InterBold\",\n                                                Text = \"Find Your Guru\",\n                                            },\n                                        }\n                                    ),\n                                    new TabHostView\n                                    {\n                                        TabType = TabType.Scrollable,\n                                        HeightRequest = 50,\n                                        Tabs =\n                                        {\n                                            new UnderlinedTabItem\n                                            {\n                                                Label = \"Pickleball\",\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Padding = new Thickness(5),\n                                            },\n                                            new UnderlinedTabItem { Label = \"Badminton\" },\n                                            new UnderlinedTabItem { Label = \"Volleyball\" },\n                                            new UnderlinedTabItem { Label = \"Basketball\" },\n                                            new UnderlinedTabItem { Label = \"Archery\" },\n                                            new UnderlinedTabItem { Label = \"Bowling\" },\n                                            new UnderlinedTabItem { Label = \"Golf\" },\n                                            new UnderlinedTabItem { Label = \"Escaperoom\" },\n                                            new UnderlinedTabItem { Label = \"Karting\" },\n                                            new UnderlinedTabItem { Label = \"Snooker\" },\n                                            new UnderlinedTabItem { Label = \"Table tennis\" },\n                                        },\n                                    }\n                                        .Bind(\n                                            TabHostView.SelectedIndexProperty,\n                                            nameof(viewModel.SelectedIndex),\n                                            BindingMode.TwoWay\n                                        )\n                                        .Margins(0, 15, 0, 0),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.first),\n                        new CollectionView\n                        {\n                            Margin = new Thickness(0, 20, 0, 0),\n                            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                            {\n                                ItemSpacing = 10,\n                            },\n\n                            EmptyView = new Regular16Label\n                            {\n                                Text = \"No coaches available\",\n                                HorizontalOptions = LayoutOptions.Center,\n                                VerticalOptions = LayoutOptions.Center,\n                            },\n\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new Border\n                                {\n                                    StrokeThickness = 0,\n                                    StrokeShape = new RoundRectangle { CornerRadius = 7 },\n                                    Padding = new Thickness(20, 10, 10, 20),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto),\n                                            (BodyRow.third, Auto),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, Auto),\n                                            (BodyRow.sixth, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Star),\n                                            (BodyColumn.second, Auto)\n                                        ),\n                                        Children =\n                                        {\n                                            new Regular10Label { Text = \"Coach Name\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new SemiBold16Label { }\n                                                .Bind(\n                                                    SemiBold16Label.TextProperty,\n                                                    nameof(Coach.CoachName)\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first),\n                                            new SemiBold12Label { }\n                                                .Bind(\n                                                    SemiBold12Label.TextProperty,\n                                                    nameof(Coach.Venue.FullName)\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .Margins(0, 5, 0, 0),\n                                            new Regular10Label { }\n                                                .Bind(\n                                                    Regular10Label.TextProperty,\n                                                    nameof(Coach.Competancy)\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first),\n                                            new Regular12Label { }\n                                                .Bind(\n                                                    Regular12Label.TextProperty,\n                                                    nameof(Coach.CoachDescription)\n                                                )\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 12, 0, 0),\n                                            new HorizontalStackLayout\n                                            {\n                                                Children =\n                                                {\n                                                    new Regular12Label { }.Bind(\n                                                        Regular12Label.TextProperty,\n                                                        nameof(Coach.Email),\n                                                        stringFormat: \"{0} | \"\n                                                    ),\n                                                    new Regular12Label { }.Bind(\n                                                        Regular12Label.TextProperty,\n                                                        nameof(Coach.ContactNumber)\n                                                    ),\n                                                },\n                                            }\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 10, 0, 0),\n                                            new Image\n                                            {\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                WidthRequest = 22,\n                                                HeightRequest = 22,\n                                            }\n                                                .Bind(\n                                                    Image.SourceProperty,\n                                                    nameof(viewModel.GameImage),\n                                                    converter: new ByteArrayToImageSourceConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.second)\n                                                .Margins(0, 0, 10, 0),\n                                        },\n                                    },\n                                }.AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                );\n                            })\n                            { },\n                        }\n                            .Row(BodyRow.second)\n                            .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.FilteredCoaches)),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += async (s, e) =>\n            {\n                await viewModel.LoadData();\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":13859,"size_tokens":null},"Player/Views/Account/NewAgeAndInterestView.cs":{"content":"namespace Player.Views.Account;\n\npublic class NewAgeAndInterestView : AccountBaseView\n{\n    NewAgeAndInterestViewModel viewModel;\n\n    public NewAgeAndInterestView(NewAgeAndInterestViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            Style<Border> borderStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EF2F50\"),\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Colors.LightGray,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, 165),\n                    (BodyRow.second, 55),\n                    (BodyRow.third, 150),\n                    (BodyRow.fourth, 250),\n                    (BodyRow.fifth, 50),\n                    (BodyRow.sixth, 70)\n                ),\n                Children =\n                {\n                    new AccountTopControl().Row(BodyRow.first),\n                    new ExtraBold28Label { Text = \"Create Profile\" }\n                        .Margins(20, 20, 0, 0)\n                        .Row(BodyRow.second)\n                        .ColumnSpan(2),\n                    new Border\n                    {\n                        StrokeThickness = .5,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Padding = new Thickness(10, 10, 10, 20),\n                        Stroke = Brush.Black,\n                        Content = new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new Medium16Label { Text = \"Your Age \" },\n                                new CollectionView\n                                {\n                                    SelectionChangedCommand = viewModel.AgeGroupSelectedCommand,\n                                    ItemTemplate = new DataTemplate(() =>\n                                    {\n                                        return new Border\n                                        {\n                                            Style = borderStyle,\n                                            StrokeThickness = 0,\n                                            StrokeShape = new RoundRectangle\n                                            {\n                                                CornerRadius = new CornerRadius(7),\n                                            },\n                                            Padding = new Thickness(10, 5),\n                                            Stroke = Brush.Black,\n                                            Content = new Medium14Label\n                                            {\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Medium14Label.TextProperty,\n                                                    nameof(AgeGroup.AgeGroupName)\n                                                )\n                                                .Bind(\n                                                    Medium14Label.TextColorProperty,\n                                                    nameof(AgeGroup.IsSelected),\n                                                    convert: (bool state) =>\n                                                        state == false ? Colors.Black : Colors.White\n                                                ),\n                                        }.Bind(\n                                            Border.BackgroundProperty,\n                                            nameof(AgeGroup.IsSelected),\n                                            convert: (bool state) =>\n                                                state == false\n                                                    ? Colors.LightGray\n                                                    : Color.FromArgb(\"#EF2F50\")\n                                        );\n                                    }),\n\n                                    SelectionMode = SelectionMode.Single,\n                                    ItemSizingStrategy = ItemSizingStrategy.MeasureAllItems,\n                                    ItemsLayout = new GridItemsLayout(\n                                        4,\n                                        ItemsLayoutOrientation.Vertical\n                                    )\n                                    {\n                                        HorizontalItemSpacing = 10,\n                                        VerticalItemSpacing = 10,\n                                    },\n                                }\n                                    .Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(viewModel.AllAgeGroups),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        SelectableItemsView.SelectedItemProperty,\n                                        nameof(viewModel.SelectedAgeGroup),\n                                        BindingMode.TwoWay\n                                    )\n                                    .Margins(0, 10, 0, 0),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Regular16Label.TextProperty,\n                                        nameof(viewModel.SelectedAgeGroupError)\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.SelectedAgeGroupError),\n                                        converter: new IsStringNotNullOrEmptyConverter()\n                                    ),\n                            },\n                        },\n                    }\n                        .AppThemeBinding(\n                            Border.BackgroundProperty,\n                            Colors.White,\n                            Color.FromArgb(\"#23262A\")\n                        )\n                        .Row(BodyRow.third)\n                        .Margins(20, 20, 20, 0),\n                    new Border\n                    {\n                        StrokeThickness = .5,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Padding = new Thickness(10, 10, 10, 20),\n                        Stroke = Brush.Black,\n                        Content = new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new Medium16Label { Text = \"Your Interests \" },\n                                new CollectionView\n                                {\n                                    SelectionChangedCommand = viewModel.InterestSelectedCommand,\n                                    ItemTemplate = new DataTemplate(() =>\n                                    {\n                                        return new Border\n                                        {\n                                            Style = borderStyle,\n                                            StrokeThickness = 0,\n                                            StrokeShape = new RoundRectangle\n                                            {\n                                                CornerRadius = new CornerRadius(7),\n                                            },\n                                            Padding = new Thickness(10, 5),\n                                            Stroke = Brush.Black,\n                                            Content = new Medium14Label\n                                            {\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Medium14Label.TextProperty,\n                                                    nameof(FavouriteGame.GameName)\n                                                )\n                                                .Bind(\n                                                    Medium14Label.TextColorProperty,\n                                                    nameof(FavouriteGame.IsSelected),\n                                                    convert: (bool state) =>\n                                                        state == false ? Colors.Black : Colors.White\n                                                ),\n                                        }.Bind(\n                                            Border.BackgroundProperty,\n                                            nameof(FavouriteGame.IsSelected),\n                                            convert: (bool state) =>\n                                                state == false\n                                                    ? Colors.LightGray\n                                                    : Color.FromArgb(\"#EF2F50\")\n                                        );\n                                    }),\n\n                                    SelectionMode = SelectionMode.Multiple,\n                                    ItemSizingStrategy = ItemSizingStrategy.MeasureAllItems,\n                                    ItemsLayout = new GridItemsLayout(\n                                        3,\n                                        ItemsLayoutOrientation.Vertical\n                                    )\n                                    {\n                                        HorizontalItemSpacing = 10,\n                                        VerticalItemSpacing = 10,\n                                    },\n                                }\n                                    .Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(viewModel.AllGames),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        SelectableItemsView.SelectedItemsProperty,\n                                        nameof(viewModel.SelectedGames),\n                                        BindingMode.TwoWay\n                                    )\n                                    .Margins(0, 10, 10, 0),\n                                new Regular16Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Regular16Label.TextProperty,\n                                        nameof(viewModel.SelectedGamesError)\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.SelectedGamesError),\n                                        converter: new IsStringNotNullOrEmptyConverter()\n                                    ),\n                            },\n                        },\n                    }\n                        .AppThemeBinding(\n                            Border.BackgroundProperty,\n                            Colors.White,\n                            Color.FromArgb(\"#23262A\")\n                        )\n                        .Margins(20, 20, 20, 0)\n                        .Row(BodyRow.fourth),\n                    new MediumButton\n                    {\n                        Text = \"NEXT\",\n                        WidthRequest = 284,\n                        HeightRequest = 47,\n                    }\n                        .Row(BodyRow.fifth)\n                        .BindCommand(nameof(viewModel.SaveCommand), source: viewModel)\n                        .Margins(0, 30, 0, 0),\n                },\n            };\n\n            Loaded += NewAgeAndInterestView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void NewAgeAndInterestView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.InitializeAsync();\n    }\n}\n","path":null,"size_bytes":14207,"size_tokens":null},"Admin/CustomControls/Labels/CustomRegularLabel.cs":{"content":"﻿namespace Admin.CustomControls.Labels\n{\n    public class CustomRegularLabel : Label\n    {\n        public CustomRegularLabel()\n        {\n            FontFamily = \"InterRegular\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Regular12Label : CustomRegularLabel\n    {\n        public Regular12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Regular14Label : CustomRegularLabel\n    {\n        public Regular14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Regular16Label : CustomRegularLabel\n    {\n        public Regular16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Regular18Label : CustomRegularLabel\n    {\n        public Regular18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Regular20Label : CustomRegularLabel\n    {\n        public Regular20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Regular21Label : CustomRegularLabel\n    {\n        public Regular21Label()\n        {\n            FontSize = 21;\n        }\n    }\n\n    public class Regular22Label : CustomRegularLabel\n    {\n        public Regular22Label()\n        {\n            FontSize = 22;\n        }\n    }\n\n    public class Regular24Label : CustomRegularLabel\n    {\n        public Regular24Label()\n        {\n            FontSize = 24;\n        }\n    }\n\n    public class Regular26Label : CustomRegularLabel\n    {\n        public Regular26Label()\n        {\n            FontSize = 26;\n        }\n    }\n\n    public class Regular28Label : CustomRegularLabel\n    {\n        public Regular28Label()\n        {\n            FontSize = 28;\n        }\n    }\n\n    public class Regular36Label : CustomRegularLabel\n    {\n        public Regular36Label()\n        {\n            FontSize = 36;\n        }\n    }\n}\n","path":null,"size_bytes":1932,"size_tokens":null},"Player/CustomControls/Labels/CustomLightLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CustomLightLabel : Label\n    {\n        public CustomLightLabel()\n        {\n            FontFamily = \"InterLight\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Light8Label : CustomLightLabel\n    {\n        public Light8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class Light9Label : CustomLightLabel\n    {\n        public Light9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class Light10Label : CustomLightLabel\n    {\n        public Light10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class Light12Label : CustomLightLabel\n    {\n        public Light12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Light14Label : CustomLightLabel\n    {\n        public Light14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Light16Label : CustomLightLabel\n    {\n        public Light16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Light18Label : CustomLightLabel\n    {\n        public Light18Label()\n        {\n            FontSize = 18;\n        }\n    }\n}\n","path":null,"size_bytes":1299,"size_tokens":null},"Player/Services/Implementations/LocationService.cs":{"content":"﻿namespace Player.Services.Implementations\n{\n    public class LocationService : ILocationService\n    {\n        private readonly IGeolocation geolocation;\n        private readonly IGeocoding geocoding;\n\n        public LocationService(IGeolocation geolocation, IGeocoding geocoding)\n        {\n            this.geolocation = geolocation;\n            this.geocoding = geocoding;\n        }\n\n        public async Task<Placemark?> GetCurrentLocation()\n        {\n            Location? location = await geolocation.GetLastKnownLocationAsync();\n            if (location == null)\n            {\n                location = await geolocation.GetLocationAsync(\n                    new GeolocationRequest\n                    {\n                        DesiredAccuracy = GeolocationAccuracy.Medium,\n                        Timeout = TimeSpan.FromSeconds(30),\n                    }\n                );\n            }\n            if (location != null)\n            {\n                IEnumerable<Placemark>? placemarks = await geocoding.GetPlacemarksAsync(\n                    location.Latitude,\n                    location.Longitude\n                );\n                return placemarks?.FirstOrDefault();\n            }\n            return null;\n        }\n    }\n}\n","path":null,"size_bytes":1242,"size_tokens":null},"Player/Views/Book/PaymentView.cs":{"content":"using Microsoft.Maui.Layouts;\nusing Stripe.PaymentSheets;\n\nnamespace Player.Views.Book;\n\npublic class PaymentView : BaseView\n{\n    PaymentViewModel viewModel;\n    int count = 0;\n\n    public PaymentView(PaymentViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            Border topBorder = new Border\n            {\n                StrokeThickness = 0,\n                Padding = new Thickness(18, 14),\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Content = new VerticalStackLayout\n                {\n                    Spacing = 10,\n                    VerticalOptions = LayoutOptions.Center,\n                    Children =\n                    {\n                        new Bold28Label { Text = \"Your Booking \\nReview\" },\n                        new Bold10Label { Text = \"Confirm below details to proceed with booking\" },\n                    },\n                },\n            }\n                .AppThemeBinding(Border.BackgroundProperty, Colors.White, Color.FromArgb(\"#23262A\"))\n                .Margins(16, 0, 16, 0);\n\n            Border secondBorder = new Border\n            {\n                StrokeThickness = 0,\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(3) },\n                VerticalOptions = LayoutOptions.Start,\n                Margin = new Thickness(16, 10, 16, 0),\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto)\n                    ),\n\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Star),\n                        (BodyColumn.second, Auto)\n                    ),\n                    ColumnSpacing = 10,\n\n                    Children =\n                    {\n                        new Image { Source = \"background.png\", Aspect = Aspect.AspectFill }\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(2)\n                            .Row(BodyRow.first)\n                            .RowSpan(6)\n                            .Margins(0, 0, 0, 0),\n                        new SemiBold18Label { TextColor = Colors.White }\n                            .Bind(Bold16Label.TextProperty, nameof(viewModel.VenueName))\n                            .Column(BodyColumn.first)\n                            .Row(BodyRow.first)\n                            .Margins(17, 16, 17, 0),\n                        new Medium10Label { TextColor = Colors.White }\n                            .Bind(Bold14Label.TextProperty, nameof(viewModel.VenueAddress))\n                            .Column(BodyColumn.first)\n                            .Row(BodyRow.second)\n                            .Margins(17, 0, 17, 0),\n                        new MediumButton\n                        {\n                            Padding = new Thickness(10, 5),\n                            HorizontalOptions = LayoutOptions.Start,\n                            FontSize = 12,\n                            WidthRequest = 110,\n                        }\n                            .Bind(\n                                MediumButton.TextProperty,\n                                nameof(Booking.StartTime),\n                                stringFormat: \"{0:dd MMM yyyy}\"\n                            )\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(2)\n                            .Row(BodyRow.third)\n                            .Margins(17, 15, 17, 0),\n                        new Regular14Label { TextColor = Colors.White }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                binding1: new Binding(\n                                    nameof(viewModel.StartTime),\n                                    stringFormat: \"{0:HH:mm}\"\n                                ),\n                                binding2: new Binding(\n                                    nameof(viewModel.EndTime),\n                                    stringFormat: \"{0:HH:mm}\"\n                                ),\n                                convert: ((string? start, string? end) values) =>\n                                    $\"{values.start} to {values.end}\"\n                            )\n                            .Column(BodyColumn.first)\n                            .Row(BodyRow.fourth)\n                            .Margins(17, 6, 17, 0),\n                        new Regular14Label\n                        {\n                            HorizontalOptions = LayoutOptions.Start,\n                            TextColor = Colors.White,\n                        }\n                            .Bind(Regular14Label.TextProperty, nameof(viewModel.Fields))\n                            .Column(BodyColumn.first)\n                            .Row(BodyRow.fifth)\n                            .Margins(17, 3, 17, 16),\n                    },\n                },\n            }.AppThemeBinding(Border.BackgroundProperty, Colors.White, Color.FromArgb(\"#23262A\"));\n\n            Span termsAndConditionsSpan = new Span\n            {\n                Text = \"Terms and Conditions\",\n                TextDecorations = TextDecorations.Underline,\n            }.AppThemeBinding(\n                Span.TextColorProperty,\n                Color.FromArgb(\"007AFF\"),\n                Color.FromArgb(\"4DA3FF\")\n            );\n\n            termsAndConditionsSpan.GestureRecognizers.Add(\n                new TapGestureRecognizer\n                {\n                    Command = new Command(async () =>\n                        await Microsoft.Maui.ApplicationModel.Launcher.Default.OpenAsync(\n                            \"https://www.dome-sports.com/useragreement\"\n                        )\n                    ),\n                }\n            );\n\n            FormattedString bookingTermsFormattedText = new FormattedString();\n            bookingTermsFormattedText.Spans.Add(\n                new Span { Text = \"Please review our Booking policies and \" }\n            );\n            bookingTermsFormattedText.Spans.Add(termsAndConditionsSpan);\n            bookingTermsFormattedText.Spans.Add(\n                new Span\n                {\n                    Text =\n                        \"; by proceeding with your reservation, you acknowledge and agree to these terms\",\n                }\n            );\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Star),\n                        // this row is for cancel button and payment amount. The row is out of scrollview\n                        (BodyRow.second, Auto)\n                    ),\n                    Children =\n                    {\n                        new ScrollView\n                        {\n                            Content = new Grid\n                            {\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, Auto),\n                                    (BodyRow.second, Auto),\n                                    (BodyRow.third, Auto)\n                                ),\n\n                                Children =\n                                {\n                                    topBorder.Row(BodyRow.first).ColumnSpan(2),\n                                    secondBorder.Row(BodyRow.second).ColumnSpan(2),\n                                    new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto),\n                                            (BodyRow.third, Auto),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, Auto),\n                                            (BodyRow.sixth, Auto),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, Auto),\n                                            (BodyRow.ninth, Auto),\n                                            (BodyRow.tenth, Auto),\n                                            (BodyRow.eleventh, Auto),\n                                            (BodyRow.twelfth, Auto),\n                                            (BodyRow.thirteenth, Auto),\n                                            (BodyRow.fourteenth, Auto),\n                                            (BodyRow.fifteenth, Auto),\n                                            (BodyRow.sixteenth, Auto),\n                                            (BodyRow.seventeenth, Auto),\n                                            (BodyRow.eighteenth, Auto),\n                                            (BodyRow.nineteenth, Auto),\n                                            (BodyRow.twentieth, Auto),\n                                            (BodyRow.twentyfirst, Auto),\n                                            (BodyRow.twentysecond, Auto),\n                                            (BodyRow.twentythird, Auto),\n                                            (BodyRow.twentyfourth, Auto),\n                                            (BodyRow.twentyfifth, Auto),\n                                            (BodyRow.twentysixth, Auto),\n                                            (BodyRow.twentyseventh, Auto),\n                                            (BodyRow.twentyeighth, Auto),\n                                            (BodyRow.twentyninth, Auto),\n                                            (BodyRow.thirty, Auto),\n                                            (BodyRow.thirtyone, Auto),\n                                            (BodyRow.thirtytwo, Auto),\n                                            (BodyRow.thirtythree, Auto),\n                                            (BodyRow.thirtyfour, Auto),\n                                            (BodyRow.thirtyfive, Auto),\n                                            (BodyRow.thirtysix, Auto),\n                                            (BodyRow.thirtyseven, Auto),\n                                            (BodyRow.thirtyeight, Auto),\n                                            (BodyRow.thirtynine, Auto),\n                                            (BodyRow.forty, Auto),\n                                            (BodyRow.fortyone, Auto),\n                                            (BodyRow.fortytwo, Auto),\n                                            (BodyRow.fortythree, Auto),\n                                            (BodyRow.fortyfour, Auto),\n                                            (BodyRow.fortyfive, Auto),\n                                            (BodyRow.fortysix, Auto),\n                                            (BodyRow.fortyseven, Auto),\n                                            (BodyRow.fortyeight, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Stars(2)),\n                                            (BodyColumn.second, Stars(1.5))\n                                        ),\n                                        Children =\n                                        {\n                                            new Regular14Label { Text = \"Booking Price\" }\n                                                .Column(BodyColumn.first)\n                                                .Row(BodyRow.first)\n                                                .Margins(19, 9, 0, 0),\n                                            new SemiBold14Label\n                                            {\n                                                HorizontalOptions = LayoutOptions.End,\n                                            }\n                                                .Bind(\n                                                    SemiBold14Label.TextProperty,\n                                                    nameof(viewModel.BookingPrice),\n                                                    stringFormat: \"$ {0}\"\n                                                )\n                                                .Column(BodyColumn.second)\n                                                .Row(BodyRow.first)\n                                                .Margins(0, 9, 16, 0),\n                                            new Regular14Label { Text = \"Service Fee\" }\n                                                .Column(BodyColumn.first)\n                                                .Row(BodyRow.second)\n                                                .Margins(19, 9, 0, 0),\n                                            new SemiBold14Label\n                                            {\n                                                HorizontalOptions = LayoutOptions.End,\n                                            }\n                                                .Bind(\n                                                    SemiBold14Label.TextProperty,\n                                                    nameof(viewModel.ConvenienceFee),\n                                                    stringFormat: \"$ {0}\"\n                                                )\n                                                .Column(BodyColumn.second)\n                                                .Row(BodyRow.second)\n                                                .Margins(0, 9, 16, 0),\n                                            new Regular14Label { Text = \"Discount\" }\n                                                .Column(BodyColumn.first)\n                                                .Row(BodyRow.third)\n                                                .Margins(19, 9, 0, 0),\n                                            new SemiBold14Label\n                                            {\n                                                HorizontalOptions = LayoutOptions.End,\n                                                TextColor = Color.FromArgb(\"5FB904\"),\n                                            }\n                                                .Bind(\n                                                    SemiBold14Label.TextProperty,\n                                                    nameof(viewModel.Discount),\n                                                    stringFormat: \"$ {0}\"\n                                                )\n                                                .Column(BodyColumn.second)\n                                                .Row(BodyRow.third)\n                                                .Margins(0, 9, 16, 0),\n                                            // new Regular14Label { Text = \"Taxes\" }\n                                            //     .Column(BodyColumn.first)\n                                            //     .Row(BodyRow.fourth)\n                                            //     .Margins(19, 9, 0, 0),\n                                            // new SemiBold14Label\n                                            // {\n                                            //     HorizontalOptions = LayoutOptions.End,\n                                            // }\n                                            //     .Bind(\n                                            //         SemiBold14Label.TextProperty,\n                                            //         nameof(viewModel.Taxes),\n                                            //         stringFormat: \"$ {0}\"\n                                            //     )\n                                            //     .Column(BodyColumn.second)\n                                            //     .Row(BodyRow.fourth)\n                                            //     .Margins(0, 9, 16, 0),\n                                            new Border\n                                            {\n                                                StrokeThickness = 0,\n\n                                                StrokeShape = new RoundRectangle\n                                                {\n                                                    CornerRadius = new CornerRadius(14),\n                                                },\n                                                Padding = new Thickness(10, 0),\n                                                Content = new Entry\n                                                {\n                                                    FontSize = 12,\n                                                    FontFamily = \"InterRegular\",\n                                                    Placeholder = \"Enter Coupon\",\n                                                    VerticalOptions = LayoutOptions.Fill,\n                                                    HorizontalOptions = LayoutOptions.Fill,\n                                                    VerticalTextAlignment = TextAlignment.Center,\n                                                    Background = Colors.Transparent,\n                                                }\n                                                    .Bind(\n                                                        Entry.TextProperty,\n                                                        nameof(viewModel.CouponCode)\n                                                    )\n                                                    .Bind(\n                                                        Entry.IsReadOnlyProperty,\n                                                        nameof(viewModel.FixedCouponCode)\n                                                    )\n                                                    .AppThemeBinding(\n                                                        Entry.TextColorProperty,\n                                                        Colors.Black,\n                                                        Color.FromArgb(\"BBBBBB\")\n                                                    )\n                                                    .AppThemeBinding(\n                                                        Entry.PlaceholderColorProperty,\n                                                        Colors.Black,\n                                                        Color.FromArgb(\"BBBBBB\")\n                                                    ),\n                                            }\n                                                .AppThemeBinding(\n                                                    Border.BackgroundProperty,\n                                                    Color.FromArgb(\"F1F3F2\"),\n                                                    Color.FromArgb(\"23262A\")\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .Row(BodyRow.fifth)\n                                                .Margins(19, 18, 15, 0),\n                                            new MediumButton\n                                            {\n                                                Text = \"Apply\",\n                                                FontSize = 14,\n                                                HeightRequest = 40,\n                                                Padding = 0,\n                                                CornerRadius = 14,\n                                            }\n                                                .BindCommand(nameof(viewModel.ApplyCouponCommand))\n                                                .Column(BodyColumn.second)\n                                                .Row(BodyRow.fifth)\n                                                .Margins(15, 18, 16, 0),\n                                            new Regular14Label\n                                            {\n                                                FormattedText = bookingTermsFormattedText,\n                                            }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.sixth)\n                                                .Margins(6, 35, 0, 5),\n                                            new Regular14Label { Text = \"Booking Policies\" }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.seventh)\n                                                .Margins(6, 35, 0, 5),\n                                            new Bold12Label { Text = \"Cancellation Policy\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.eighth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Cancellation is only allowed within 24 hours of booking.\\n\\rExceptions: In rare cases of facility closure due to unforeseen circumstances (e.g., severe weather, facility maintenance, or other emergencies), we may offer a reschedule of the booking, subject to availability. This will be determined on case-by-case basis and is at the sole discretion of the facility.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.ninth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Payment Policy\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.tenth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Grid\n                                            {\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Auto),\n                                                    (BodyColumn.second, Star)\n                                                ),\n                                                ColumnSpacing = 10,\n                                                Children =\n                                                {\n                                                    new Ellipse\n                                                    {\n                                                        VerticalOptions = LayoutOptions.Start,\n                                                        HeightRequest = 6,\n                                                        WidthRequest = 6,\n                                                    }\n                                                        .AppThemeBinding(\n                                                            BackgroundProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(0, 6, 0, 0),\n                                                    new Regular12Label\n                                                    {\n                                                        Text =\n                                                            \"Booking fees are applicable and must be paid at the time of booking. The fee structure is available on the booking page. \",\n                                                    }\n                                                        .Column(BodyColumn.second)\n                                                        .AppThemeBinding(\n                                                            Label.TextColorProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.eleventh)\n                                                .Margins(15, 5, 0, 0),\n                                            new Grid\n                                            {\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Auto),\n                                                    (BodyColumn.second, Star)\n                                                ),\n                                                ColumnSpacing = 10,\n                                                Children =\n                                                {\n                                                    new Ellipse\n                                                    {\n                                                        VerticalOptions = LayoutOptions.Start,\n                                                        HeightRequest = 6,\n                                                        WidthRequest = 6,\n                                                    }\n                                                        .AppThemeBinding(\n                                                            Ellipse.BackgroundProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(0, 6, 0, 0),\n                                                    new Regular12Label\n                                                    {\n                                                        Text =\n                                                            \"All payment transaction on our platform are processed using the secure encryption technology like industry-standard  secure socket layer (SSL) encryption to protect your payment information during transmission\",\n                                                    }\n                                                        .Column(BodyColumn.second)\n                                                        .AppThemeBinding(\n                                                            Label.TextColorProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twelfth)\n                                                .Margins(15, 3, 0, 0),\n                                            new Grid\n                                            {\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Auto),\n                                                    (BodyColumn.second, Star)\n                                                ),\n                                                ColumnSpacing = 10,\n                                                Children =\n                                                {\n                                                    new Ellipse\n                                                    {\n                                                        VerticalOptions = LayoutOptions.Start,\n                                                        HeightRequest = 6,\n                                                        WidthRequest = 6,\n                                                    }\n                                                        .AppThemeBinding(\n                                                            Ellipse.BackgroundProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(0, 6, 0, 0),\n                                                    new Regular12Label\n                                                    {\n                                                        Text =\n                                                            \"We use the reputable Stripe as a third party payment processor to handle payment transactions. this processor complies with payment card industry Data Security Standard (PCI DSS) regulations to ensure the security of your payment information. \",\n                                                    }\n                                                        .Column(BodyColumn.second)\n                                                        .AppThemeBinding(\n                                                            Label.TextColorProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirteenth)\n                                                .Margins(15, 3, 0, 0),\n                                            new Grid\n                                            {\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Auto),\n                                                    (BodyColumn.second, Star)\n                                                ),\n                                                ColumnSpacing = 10,\n                                                Children =\n                                                {\n                                                    new Ellipse\n                                                    {\n                                                        VerticalOptions = LayoutOptions.Start,\n                                                        HeightRequest = 6,\n                                                        WidthRequest = 6,\n                                                    }\n                                                        .AppThemeBinding(\n                                                            Ellipse.BackgroundProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(0, 6, 0, 0),\n                                                    new Regular12Label\n                                                    {\n                                                        Text =\n                                                            \"Any disputes related to payment should be reported to us promptly. we will work with you and our payment processors to resolve any issues.\",\n                                                    }\n                                                        .Column(BodyColumn.second)\n                                                        .AppThemeBinding(\n                                                            Label.TextColorProperty,\n                                                            Colors.Black,\n                                                            Colors.White\n                                                        )\n                                                        .Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fourteenth)\n                                                .Margins(15, 3, 0, 0),\n                                            new Bold12Label { Text = \"Time Limits\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fifteenth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users must adhere to their booked time slot. Overstaying may result in additional charges. \",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.sixteenth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Check-In\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.seventeenth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Upon arrival, all users must check in at the facilities front desk. \",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.eighteenth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Facility Rules\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.nineteenth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users must follow all facility rules and regulations, including those related to equipment use, safety and behaviour. Booking a court constitutes and agreement to adhere to all rules, prohibitions and restrictions set forth by the facility. \",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentieth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Damage\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyfirst)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users are responsible for any damage to the facility caused by them, including equipment provided or rented. Facility reserves the right to revoke participation at any point for non-compliance with these rules, prohibition or restrictions.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentysecond)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Food and Beverages Policy\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentythird)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"The consumption of outside food or beverage including chewing gum and alcohol is not permitted within the facility.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyfourth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Smoking Policy\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyfifth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Smoking, including the use of traditional cigarettes, e-cigarettes and other vaping devices are strictly prohibited with all indoor areas of the facility.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentysixth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Behaviour\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyseventh)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users must conduct themselves in a respectful and sportsmanlike manner. Abusive or disruptive language and behavior towards staff and other participants will not be tolerated and may result in termination of the booking and potential suspension from using the facility.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyeighth)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Dress Code\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.twentyninth)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users must wear appropriate sports attire and non-marking footwear at all times.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirty)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label\n                                            {\n                                                Text = \"Private Coaching Regulations\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtyone)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Private coaching in any capacity is strictly forbidden within the premises of the facility unless there is explicit, written consent and prior approval from the Facility Regulatory Body. Authorized coaches are required to use their own equipments unless specific permission and prior approval are obtained from the Facility\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtytwo)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Liability\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtythree)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users participate at their own risk. The facility or the DOME Platform is not liable for injuries or accidents that occur during the use of the facility.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtyfour)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Medical Conditions\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtyfive)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users are encouraged to consult with a healthcare professional before using the facility if they have any medical conditions or concerns.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtysix)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Assumption of Risk\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtyseven)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Users are deemed to be fully aware of and accept the risks, hazards, and dangers associated with their presence at the facility. This includes, but is not limited to, the risks of accidents, personal injury, death, illness, disease transmission, property damage or loss, and theft. Participation in any activity, including voluntary and involuntary competition, exposes participants to the risk of injuries and various forms of loss or damage, whether direct, indirect, economic, personal, or consequential. \",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtyeight)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Maintenance\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.thirtynine)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"The facility may be closed for maintenance or special events. Users will be notified in advance of any such closures.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.forty)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Weather Conditions\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortyone)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"Outdoor facility bookings are subject to weather conditions. In case of adverse weather, users will be notified of cancellations or rescheduling options.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortytwo)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Customer Service\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortythree)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"For any issues or inquiries regarding bookings, please contact our customer support team at info@dafloinnovations.com.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortyfour)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Feedback\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortyfive)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"We welcome feedback on your booking experience to help us improve our services.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortysix)\n                                                .Margins(6, 5, 6, 0),\n                                            new Bold12Label { Text = \"Amendments\" }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortyseven)\n                                                .Margins(6, 10, 0, 0),\n                                            new Regular12Label\n                                            {\n                                                Text =\n                                                    \"This booking policy may be updated periodically. Users will be notified of any significant changes.\",\n                                            }\n                                                .AppThemeBinding(\n                                                    Label.TextColorProperty,\n                                                    Colors.Black,\n                                                    Colors.White\n                                                )\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Row(BodyRow.fortyeight)\n                                                .Margins(6, 5, 6, 0),\n                                        },\n                                    }\n                                        .AppThemeBinding(\n                                            Grid.BackgroundProperty,\n                                            Colors.White,\n                                            Colors.Black\n                                        )\n                                        .Row(BodyRow.third)\n                                        .ColumnSpan(2)\n                                        .Margins(16, 10, 16, 0),\n                                },\n                            },\n                        }.Row(BodyRow.first),\n                        new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Stars(2)),\n                                (BodyColumn.second, Stars(3))\n                            ),\n                            ColumnSpacing = 10,\n                            Children =\n                            {\n                                new MediumButton\n                                {\n                                    Text = \"Cancel\",\n                                    Background = Colors.Transparent,\n                                    BorderWidth = .5,\n                                    HeightRequest = 38,\n                                }\n                                    .AppThemeColorBinding(\n                                        MediumButton.TextColorProperty,\n                                        Colors.Black,\n                                        Colors.White\n                                    )\n                                    .AppThemeColorBinding(\n                                        MediumButton.BorderColorProperty,\n                                        Colors.Black,\n                                        Colors.White\n                                    )\n                                    .BindCommand(nameof(viewModel.CancelCommand)),\n                                new Border\n                                {\n                                    HeightRequest = 38,\n                                    StrokeThickness = 0,\n                                    Background = Color.FromArgb(\"#EF2F50\"),\n                                    StrokeShape = new RoundRectangle\n                                    {\n                                        CornerRadius = new CornerRadius(10),\n                                    },\n                                    Padding = new Thickness(20, 9),\n                                    Content = new FlexLayout\n                                    {\n                                        HeightRequest = 42,\n                                        Background = Colors.Transparent,\n                                        JustifyContent = Microsoft\n                                            .Maui\n                                            .Layouts\n                                            .FlexJustify\n                                            .SpaceBetween,\n                                        AlignItems = Microsoft.Maui.Layouts.FlexAlignItems.Center,\n\n                                        Children =\n                                        {\n                                            new Medium15Label { TextColor = Colors.White }.Bind(\n                                                Medium15Label.TextProperty,\n                                                nameof(viewModel.TotalAmount),\n                                                stringFormat: \"$ {0}\"\n                                            ),\n                                            new Medium15Label\n                                            {\n                                                Text = \"Pay Now >>\",\n                                                TextColor = Colors.White,\n                                            },\n                                        },\n                                    },\n                                }\n                                    .Column(BodyColumn.second)\n                                    .BindTapGesture(nameof(viewModel.ProceedToPayCommand)),\n                            },\n                        }\n                            .Row(BodyRow.second)\n                            .Margins(19, 20, 19, 10),\n                    },\n                }\n                    .AppThemeBinding(Grid.BackgroundProperty, Colors.White, Colors.Black)\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += PaymentView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void PaymentView_Loaded(object? sender, EventArgs e)\n    {\n        count++;\n        if (count == 1)\n        {\n            await viewModel.Init();\n        }\n    }\n}\n","path":null,"size_bytes":69925,"size_tokens":null},"Player/CustomControls/Entries/SingleImageBorderedEntry.cs":{"content":"namespace Player.CustomControls.Entries;\n\npublic class SingleImageBorderedEntry : Border\n{\n    public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n        nameof(EntryText),\n        typeof(string),\n        typeof(SingleImageBorderedEntry),\n        string.Empty,\n        BindingMode.TwoWay\n    );\n\n    public string EntryText\n    {\n        get => (string)GetValue(EntryTextProperty);\n        set => SetValue(EntryTextProperty, value);\n    }\n\n    public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n        nameof(PlaceholderText),\n        typeof(string),\n        typeof(SingleImageBorderedEntry),\n        string.Empty,\n        BindingMode.OneTime\n    );\n\n    public string PlaceholderText\n    {\n        get => (string)GetValue(PlaceholderTextProperty);\n        set => SetValue(PlaceholderTextProperty, value);\n    }\n\n    public static readonly BindableProperty ImgSourceProperty = BindableProperty.Create(\n        nameof(ImgSource),\n        typeof(string),\n        typeof(SingleImageBorderedEntry),\n        string.Empty,\n        BindingMode.TwoWay\n    );\n\n    public string ImgSource\n    {\n        get => (string)GetValue(ImgSourceProperty);\n        set => SetValue(ImgSourceProperty, value);\n    }\n\n    protected override void OnPropertyChanged([CallerMemberName] string? propertyName = null)\n    {\n        base.OnPropertyChanged(propertyName);\n        if (entry != null)\n        {\n            if (propertyName == EntryTextProperty.PropertyName)\n            {\n                entry.Text = EntryText;\n            }\n            if (propertyName == PlaceholderTextProperty.PropertyName)\n            {\n                entry.Placeholder = PlaceholderText;\n            }\n        }\n        if (image != null)\n            if (propertyName == ImgSourceProperty.PropertyName)\n            {\n                image.Source = ImgSource;\n            }\n    }\n\n    readonly CustomEntry? entry;\n    readonly Image? image;\n\n    public SingleImageBorderedEntry()\n    {\n        try\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) };\n#if IOS\n            Padding = new Thickness(10);\n#elif ANDROID\n            Padding = new Thickness(10, 5);\n#endif\n            Stroke = Brush.Black;\n\n            this.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#23262A\")\n            );\n\n            entry = new CustomEntry { }.Bind(\n                CustomEntry.TextProperty,\n                nameof(EntryText),\n                BindingMode.TwoWay,\n                source: this\n            );\n\n            image = new Image { }.Bind(\n                Image.SourceProperty,\n                nameof(ImgSource),\n                BindingMode.TwoWay,\n                source: this\n            );\n\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Auto),\n                    (BodyColumn.second, Star)\n                ),\n                ColumnSpacing = 10,\n                Children = { image, entry.Column(BodyColumn.second) },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":3406,"size_tokens":null},"Admin/CustomControls/Entries/BorderedEntryRectangle.cs":{"content":"namespace Admin.CustomControls.Entries\n{\n    public class BorderedEntryRectangle : Border\n    {\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(BorderedEntryRectangle),\n            string.Empty,\n            BindingMode.TwoWay,\n            propertyChanged: EntryTextPropertyChanged\n        );\n\n        private static void EntryTextPropertyChanged(\n            BindableObject bindable,\n            object oldValue,\n            object newValue\n        )\n        {\n            BorderedEntryRectangle control = (BorderedEntryRectangle)bindable;\n            if (control != null)\n            {\n                control.entry.Text = newValue?.ToString();\n            }\n        }\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n            nameof(PlaceholderText),\n            typeof(string),\n            typeof(BorderedEntryRectangle),\n            string.Empty,\n            BindingMode.OneTime,\n            propertyChanged: PlaceholderTextPropertyChanged\n        );\n\n        private static void PlaceholderTextPropertyChanged(\n            BindableObject bindable,\n            object oldValue,\n            object newValue\n        )\n        {\n            BorderedEntryRectangle control = (BorderedEntryRectangle)bindable;\n            if (control != null)\n            {\n                control.entry.Placeholder = newValue?.ToString();\n            }\n        }\n\n        public string PlaceholderText\n        {\n            get => (string)GetValue(PlaceholderTextProperty);\n            set => SetValue(PlaceholderTextProperty, value);\n        }\n\n        readonly Entry entry = new Entry\n        {\n            FontFamily = \"InterRegular\",\n            FontSize = 20,\n            VerticalOptions = LayoutOptions.Fill,\n            HorizontalOptions = LayoutOptions.Fill,\n        };\n\n        public BorderedEntryRectangle()\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) };\n            Padding = new Thickness(0);\n\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            this.AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black);\n\n            HorizontalOptions = LayoutOptions.Start;\n            entry\n                .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n                .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n            Content = entry;\n        }\n    }\n}\n","path":null,"size_bytes":2880,"size_tokens":null},"Player/Services/Interfaces/IRealmService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface IRealmService\n    {\n        public FlexibleSyncConfiguration? Config { get; }\n\n        public User? RealmUser { get; }\n    }\n}\n","path":null,"size_bytes":190,"size_tokens":null},"Player/CustomControls/Labels/CustomMediumLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CustomMediumLabel : Label\n    {\n        public CustomMediumLabel()\n        {\n            FontFamily = \"InterMedium\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Medium8Label : CustomMediumLabel\n    {\n        public Medium8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class Medium9Label : CustomMediumLabel\n    {\n        public Medium9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class Medium10Label : CustomMediumLabel\n    {\n        public Medium10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class Medium11Label : CustomMediumLabel\n    {\n        public Medium11Label()\n        {\n            FontSize = 11;\n        }\n    }\n\n    public class Medium12Label : CustomMediumLabel\n    {\n        public Medium12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Medium14Label : CustomMediumLabel\n    {\n        public Medium14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Medium15Label : CustomMediumLabel\n    {\n        public Medium15Label()\n        {\n            FontSize = 15;\n        }\n    }\n\n    public class Medium16Label : CustomMediumLabel\n    {\n        public Medium16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Medium18Label : CustomMediumLabel\n    {\n        public Medium18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Medium20Label : CustomMediumLabel\n    {\n        public Medium20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Medium22Label : CustomMediumLabel\n    {\n        public Medium22Label()\n        {\n            FontSize = 22;\n        }\n    }\n\n    public class Medium26Label : CustomMediumLabel\n    {\n        public Medium26Label()\n        {\n            FontSize = 26;\n        }\n    }\n\n    public class Medium30Label : CustomMediumLabel\n    {\n        public Medium30Label()\n        {\n            FontSize = 30;\n        }\n    }\n}\n","path":null,"size_bytes":2175,"size_tokens":null},"Dome.Shared/Synced/GameTiming.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// Venue Timing represents the opening and closing time of the venue on weekdays and weekends.\n    /// </summary>\n    public partial class GameTiming : IEmbeddedObject\n    {\n        private GameTiming() { }\n\n        public GameTiming(\n            DateTimeOffset weekdayOpenTime,\n            DateTimeOffset weekdayCloseTime,\n            DateTimeOffset weekdayPeakHoursStartTime,\n            DateTimeOffset weekdayPeakHoursEndTime,\n            DateTimeOffset weekendOpenTime,\n            DateTimeOffset weekendCloseTime,\n            DateTimeOffset weekendPeakHoursStartTime,\n            DateTimeOffset weekendPeakHoursEndTime\n        )\n        {\n            WeekdayOpenTime = weekdayOpenTime;\n            WeekdayCloseTime = weekdayCloseTime;\n            WeekdayPeakHoursStartTime = weekdayPeakHoursStartTime;\n            WeekdayPeakHoursEndTime = weekdayPeakHoursEndTime;\n            WeekendOpenTime = weekendOpenTime;\n            WeekendCloseTime = weekendCloseTime;\n            WeekendPeakHoursStartTime = weekendPeakHoursStartTime;\n            WeekendPeakHoursEndTime = weekendPeakHoursEndTime;\n        }\n\n        [MapTo(\"weekdayOpenTime\")]\n        public DateTimeOffset WeekdayOpenTime { get; set; }\n\n        [MapTo(\"weekdayCloseTime\")]\n        public DateTimeOffset WeekdayCloseTime { get; set; }\n\n        [MapTo(\"weekdayPeakHoursStartTime\")]\n        public DateTimeOffset WeekdayPeakHoursStartTime { get; set; }\n\n        [MapTo(\"weekdayPeakHoursEndTime\")]\n        public DateTimeOffset WeekdayPeakHoursEndTime { get; set; }\n\n        [MapTo(\"weekendOpenTime\")]\n        public DateTimeOffset WeekendOpenTime { get; set; }\n\n        [MapTo(\"weekendCloseTime\")]\n        public DateTimeOffset WeekendCloseTime { get; set; }\n\n        [MapTo(\"weekendPeakHoursStartTime\")]\n        public DateTimeOffset WeekendPeakHoursStartTime { get; set; }\n\n        [MapTo(\"weekendPeakHoursEndTime\")]\n        public DateTimeOffset WeekendPeakHoursEndTime { get; set; }\n    }\n}\n","path":null,"size_bytes":2015,"size_tokens":null},"Dome.Shared/Synced/VenueUser.cs":{"content":"﻿using Dome.Shared.Synced.Player;\n\nnamespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the player class represents the registered user of the dome mobile app.\n    /// </summary>\n    public partial class VenueUser : IRealmObject\n    {\n        private VenueUser() { }\n\n        public VenueUser(\n            ObjectId id,\n            string ownerId,\n            string email,\n            string firstName,\n            string lastName,\n            string mobileNumber,\n            string phoneCode,\n            string country,\n            VenueUserAddress address,\n            string stripeCustomerId\n        )\n        {\n            Id = id;\n            OwnerId = ownerId;\n            Email = email;\n            FirstName = firstName;\n            LastName = lastName;\n            MobileNumber = mobileNumber;\n            PhoneCode = phoneCode;\n            Country = country;\n            Address = address;\n            StripeCustomerId = stripeCustomerId;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"owner_id\")]\n        [Indexed]\n        public string OwnerId { get; set; }\n\n        [MapTo(\"isActive\")]\n        public bool IsActive { get; set; } = true;\n\n        // this is the id of the stripe customer object that is created when the user registers in the app\n        [MapTo(\"stripeCustomerId\")]\n        public string StripeCustomerId { get; set; }\n\n        [MapTo(\"firstName\")]\n        public string FirstName { get; set; }\n\n        [MapTo(\"lastName\")]\n        public string LastName { get; set; }\n\n        [MapTo(\"eMail\")]\n        public string Email { get; set; }\n\n        [MapTo(\"mobileNumber\")]\n        public string MobileNumber { get; set; }\n\n        [MapTo(\"phoneCode\")]\n        public string PhoneCode { get; set; }\n\n        [MapTo(\"country\")]\n        public string Country { get; set; }\n\n        [MapTo(\"isMobileNumberVerified\")]\n        public bool IsMobileNumberVerified { get; set; }\n\n        // this is an optional attribute\n        [MapTo(\"profileImage\")]\n        public byte[]? ProfileImage { get; set; }\n\n        [MapTo(\"ageGroup\")]\n        public string? AgeGroup { get; set; }\n\n        [MapTo(\"favouriteGames\")]\n        public IList<string> FavouriteGames { get; }\n\n        // embedded objects\n        [MapTo(\"address\")]\n        public VenueUserAddress? Address { get; set; }\n\n        //backlinks\n        /// <summary>\n        /// The list of Bookings that player has purchased.\n        /// </summary>\n        [Backlink(nameof(Booking.Player))]\n        [MapTo(\"bookings\")]\n        public IQueryable<Booking> Bookings { get; }\n\n        /// <summary>\n        /// The list of planned bookings that the player has created from the Host Game Page\n        /// </summary>\n        [Backlink(nameof(PlannedBooking.Host))]\n        [MapTo(\"plannedBookings\")]\n        public IQueryable<PlannedBooking> PlannedBookings { get; }\n\n        /// <summary>\n        /// The list of join requests that the player has applied for in the bookings planned by other players.\n        /// </summary>\n        [Backlink(nameof(JoinRequest.AppliedBy))]\n        [MapTo(\"appliedBookings\")]\n        public IQueryable<JoinRequest> AppliedBookings { get; }\n\n        /// <summary>\n        /// The list of join requests that the player has got approval for in the bookings planned by other players.\n        /// </summary>\n        [Backlink(nameof(Booking.JoinedPlayers))]\n        [MapTo(\"joinedBookings\")]\n        public IQueryable<Booking> JoinedBookings { get; }\n\n        // List of venues that the user is a member of. Members get special discounts and offers from the venue. This is a many to many relationship with Venue.Members\n        public IList<Venue> MemberOf { get; }\n\n        // local\n\n        [Ignored]\n        [MapTo(\"fullName\")]\n        public string FullName => $\"{FirstName} {LastName}\";\n    }\n}\n","path":null,"size_bytes":3868,"size_tokens":null},"Admin/Services/Interfaces/IRealmService.cs":{"content":"﻿namespace Admin.Services.Interfaces\n{\n    public interface IRealmService\n    {\n        public FlexibleSyncConfiguration? Config { get; }\n\n        public User? RealmUser { get; }\n    }\n}\n","path":null,"size_bytes":189,"size_tokens":null},"Player/Services/Implementations/RealmService.cs":{"content":"﻿namespace Player.Services.Implementations\n{\n    public class RealmService : IRealmService\n    {\n        public FlexibleSyncConfiguration? Config { get; }\n\n        public User? RealmUser { get; }\n\n        public RealmService(INavigationService navigationService)\n        {\n            RealmUser = App.RealmApp.CurrentUser;\n            if (\n                RealmUser == null\n                || RealmUser.State == UserState.Removed\n                || RealmUser.State == UserState.LoggedOut\n            )\n            {\n                navigationService.NavigateToAsync(nameof(LoginView));\n                return;\n            }\n            else\n            {\n                Config ??= new FlexibleSyncConfiguration(RealmUser)\n                {\n                    // if the below property is set to true, the app will cancel all async operations when a non-fatal error occurs. If set to false the app will continue to try to connect to the server\n                    CancelAsyncOperationsOnNonFatalErrors = true,\n                    SchemaVersion = 0,\n\n                    PopulateInitialSubscriptions = (realm) =>\n                    {\n                        IQueryable<Province> provinces = realm.All<Province>();\n                        IQueryable<Game> games = realm.All<Game>();\n                        IQueryable<LearningContent> learningContents = realm.All<LearningContent>();\n                        IQueryable<Coach> coaches = realm.All<Coach>();\n                        IQueryable<Amenity> amenities = realm.All<Amenity>();\n                        IQueryable<Venue> venues = realm\n                            .All<Venue>()\n                            .Where(c => c.IsActive == true);\n                        IQueryable<VenueUser> players = realm.All<VenueUser>();\n                        IQueryable<Booking> bookings = realm.All<Booking>();\n                        IQueryable<Charge> serviceCharges = realm.All<Charge>();\n                        IQueryable<Coupon> coupons = realm.All<Coupon>();\n                        IQueryable<PlannedBooking> plannedBookings = realm.All<PlannedBooking>();\n\n                        realm.Subscriptions.Add(venues);\n                        realm.Subscriptions.Add(players);\n                        realm.Subscriptions.Add(games);\n                        realm.Subscriptions.Add(bookings);\n                        realm.Subscriptions.Add(amenities);\n                        realm.Subscriptions.Add(provinces);\n                        realm.Subscriptions.Add(learningContents);\n                        realm.Subscriptions.Add(coaches);\n                        realm.Subscriptions.Add(serviceCharges);\n                        realm.Subscriptions.Add(coupons);\n                        realm.Subscriptions.Add(plannedBookings);\n                    },\n                };\n\n                Config.OnSessionError = (session, sessionException) => {\n                    // See https://www.mongodb.com/docs/realm-sdks/dotnet/latest/reference/Realms.Sync.Exceptions.ErrorCode.html for all of the error codes\n                };\n\n                Config.ClientResetHandler = new RecoverOrDiscardUnsyncedChangesHandler\n                {\n                    ManualResetFallback = (err) =>\n                    {\n                        if (err != null)\n                        {\n                            new ManualRecoveryHandler(HandleClientResetError);\n                        }\n                    },\n                };\n            }\n        }\n\n        private void HandleClientResetError(ClientResetException clientResetException)\n        {\n            Console.WriteLine($\"Client Reset requested: {clientResetException.Message}\");\n            // Prompt user to perform a client reset immediately. If they don't,\n            // they won't receive any data from the server until they restart the app\n            // and all changes they make will be discarded when the app restarts.\n            // var didUserConfirmReset = ShowUserAConfirmationDialog();\n            //if (didUserConfirmReset)\n            //{\n            // Close the Realm before doing the reset. It must be\n            // deleted as part of the reset.\n            // fsRealm.Dispose();\n            // perform the client reset\n            var didReset = clientResetException.InitiateClientReset();\n            if (didReset)\n            {\n                // Navigate the user back to the main page or reopen the\n                // the Realm and reinitialize the current page\n            }\n            else\n            {\n                // Reset failed - notify user that they'll need to\n                // update the app\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4652,"size_tokens":null},"Admin/Platforms/Tizen/Main.cs":{"content":"using System;\nusing Microsoft.Maui;\nusing Microsoft.Maui.Hosting;\n\nnamespace Admin;\n\nclass Program : MauiApplication\n{\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n\n    static void Main(string[] args)\n    {\n        var app = new Program();\n        app.Run(args);\n    }\n}\n","path":null,"size_bytes":305,"size_tokens":null},"Admin/CustomControls/Entries/SingleImageBorderedEntryRectangle.cs":{"content":"namespace Admin.CustomControls.Entries\n{\n    public class SingleImageBorderedEntryRectangle : Border\n    {\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(SingleImageBorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay\n        );\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty ImgSourceProperty = BindableProperty.Create(\n            nameof(ImgSource),\n            typeof(string),\n            typeof(SingleImageBorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay\n        );\n\n        public string ImgSource\n        {\n            get => (string)GetValue(ImgSourceProperty);\n            set => SetValue(ImgSourceProperty, value);\n        }\n\n        protected override void OnPropertyChanged([CallerMemberName] string? propertyName = null)\n        {\n            base.OnPropertyChanged(propertyName);\n            if (entry != null)\n            {\n                if (propertyName == EntryTextProperty.PropertyName)\n                {\n                    entry.Text = EntryText;\n                }\n            }\n            if (image != null)\n                if (propertyName == ImgSourceProperty.PropertyName)\n                {\n                    image.Source = ImgSource;\n                }\n        }\n\n        Entry entry;\n        Image image;\n\n        public SingleImageBorderedEntryRectangle()\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) };\n            Padding = new Thickness(0);\n            Background = Colors.Transparent;\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            entry = new Entry\n            {\n                FontFamily = \"InterRegular\",\n                FontSize = 18,\n                Background = Colors.Transparent,\n                HeightRequest = 40,\n                VerticalOptions = LayoutOptions.Fill,\n                HorizontalOptions = LayoutOptions.Fill,\n            }\n                .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n                .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n\n            this.AppThemeBinding(Entry.BackgroundProperty, Colors.White, Colors.Black);\n\n            image = new Image { Aspect = Aspect.AspectFill, Margin = new Thickness(5) }.Bind(\n                Image.SourceProperty,\n                nameof(ImgSource),\n                BindingMode.TwoWay,\n                source: this\n            );\n\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, 30),\n                    (BodyColumn.second, Star)\n                ),\n\n                Children = { image, entry.Column(BodyColumn.second) },\n            };\n        }\n    }\n}\n","path":null,"size_bytes":3240,"size_tokens":null},"Player/Models/APIServer/ValidateAvailabilityResponse.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public class ValidateAvailabilityResponse\n    {\n        [JsonPropertyName(\"error\")]\n        public string? Error { get; set; }\n\n        [JsonPropertyName(\"available\")]\n        public List<string>? Available { get; set; }\n\n        [JsonPropertyName(\"booked\")]\n        public List<string>? Booked { get; set; }\n\n        [JsonPropertyName(\"noData\")]\n        public List<string>? NoData { get; set; }\n    }\n}\n","path":null,"size_bytes":448,"size_tokens":null},"Dome.Shared/Synced/Player/PlannedBooking.cs":{"content":"\nnamespace Dome.Shared.Synced.Player;\n\npublic partial class PlannedBooking : IRealmObject\n{\n    private PlannedBooking() { }\n\n    public PlannedBooking(\n        string gameName,\n        VenueUser host,\n        string skillLevel,\n        string city,\n        Venue? selectedVenue,\n        int numberOfPlayers,\n        string timing,\n        DateTimeOffset plannedDate\n    )\n    {\n        GameName = gameName;\n        SkillLevel = skillLevel;\n        City = city;\n        SelectedVenue = selectedVenue;\n        NumberOfPlayers = numberOfPlayers;\n        Timing = timing;\n        PlannedDate = plannedDate;\n        Host = host;\n    }\n\n    [PrimaryKey]\n    [MapTo(\"_id\")]\n    public ObjectId Id { get; set; } = ObjectId.GenerateNewId();\n\n    [MapTo(\"gameName\")]\n    public string GameName { get; set; }\n\n    [MapTo(\"skillLevel\")]\n    public string SkillLevel { get; set; }\n\n    [Indexed]\n    [MapTo(\"city\")]\n    public string City { get; set; }\n\n    [MapTo(\"selectedVenue\")]\n    public Venue? SelectedVenue { get; set; }\n\n    /// <summary>\n    ///  number of players required for the planned booking including the host\n    /// </summary>\n    [MapTo(\"numberOfPlayers\")]\n    public int NumberOfPlayers { get; set; }\n\n    [MapTo(\"timing\")]\n    public string Timing { get; set; }\n\n    [Indexed]\n    [MapTo(\"plannedDate\")]\n    public DateTimeOffset PlannedDate { get; set; }\n\n    [MapTo(\"hostMessage\")]\n    public string? HostMessage { get; set; }\n\n    [MapTo(\"joinRequests\")]\n    public IList<JoinRequest> JoinRequests { get; }\n\n    [MapTo(\"connectedBooking\")]\n    public Booking? ConnectedBooking { get; set; }\n\n    /// <summary>\n    /// conversation id is the id of the chat group created for the planned or hosted booking\n    /// </summary>\n    [MapTo(\"conversationId\")]\n    public string? ConversationId { get; set; }\n\n    // backlinks\n\n    [MapTo(\"host\")]\n    public VenueUser? Host { get; set; }\n\n    // local\n\n    [Ignored]\n    public string? TimingDisplay =>\n        Timing switch\n        {\n            \"Morning\" => \"6.00 - 12.00\",\n            \"Afternoon\" => \"12.00 - 16.00\",\n            \"Evening\" => \"16.00 - 22.00\",\n            _ => \"6.00 - 12.00\"\n        };\n\n    [Ignored]\n    int accepted => JoinRequests.Where(jr => jr.IsApproved).Count();\n\n    [Ignored]\n    public int PendingRequests => JoinRequests.Where(jr => !jr.IsApproved).Count();\n\n    [Ignored]\n    // 1 is added to the accepted requests to include the host in the team status\n    public string? TeamStatus => $\"{accepted + 1} / {NumberOfPlayers} Going\";\n\n    bool isApplied;\n\n    [Ignored]\n    // use to show whether the hosted game is joined by the logged in user.\n    public bool IsApplied\n    {\n        get => isApplied;\n        set\n        {\n            if (value != isApplied)\n            {\n                isApplied = value;\n                RaisePropertyChanged();\n            }\n        }\n    }\n\n    bool isApproved;\n\n    [Ignored]\n    public bool IsApproved\n    {\n        get => isApproved;\n        set\n        {\n            if (value != isApproved)\n            {\n                isApproved = value;\n                RaisePropertyChanged();\n            }\n        }\n    }\n\n    public string? VenueName => SelectedVenue.FullName;\n    string date => PlannedDate.ToString(\"dd MMM yyyy\");\n    public string? BookingInformation =>\n        $\"{date} | {Timing} | {NumberOfPlayers.ToString()} players\";\n}\n","path":null,"size_bytes":3367,"size_tokens":null},"Dome.Shared/Helper/DateHelper.cs":{"content":"﻿namespace Dome.Shared.Helper\n{\n    public static class DateHelper\n    {\n        // returns datetimeoffset in utc ticks with correct time and without timespan. this is used for changing the date to utc before saving to db\n        public static DateTimeOffset GetDate(DateTime date)\n        {\n            var dateValue = DateTime.SpecifyKind(\n                new DateTime(((DateTimeOffset)date).Ticks),\n                DateTimeKind.Utc\n            );\n\n            //return new DateTimeOffset(dateValue, TimeSpan.Zero);\n            return new DateTimeOffset(\n                dateValue.Year,\n                dateValue.Month,\n                dateValue.Day,\n                dateValue.Hour,\n                dateValue.Minute,\n                0,\n                0,\n                TimeSpan.Zero\n            );\n        }\n\n        // returns datetime in local ticks with correct time and without timespan\n        public static DateTime GetLocalDate(DateTimeOffset date)\n        {\n            return DateTime.SpecifyKind(new DateTime((date).Ticks), DateTimeKind.Local);\n        }\n    }\n}\n","path":null,"size_bytes":1079,"size_tokens":null},"Player/Popups/ReviewPlannedBookingPopup.cs":{"content":"namespace Player.Popups;\n\n/// <summary>\n/// This class is a popup page that displays the details of the planned booking before the player confirms the booking.\n/// The player can see the selected date, vendor, city, province, number of players, selected game, skill level, timing, and additional information.\n/// The player can also provide additional information in the editor.\n/// The player can see the number of characters entered in the editor.\n/// The player can host the game by clicking the Host button.\n/// The player can cancel the booking by clicking the Cancel button.\n/// </summary>\npublic class ReviewPlannedBookingPopup : PopupPage\n{\n    public ReviewPlannedBookingPopup(PlanBookingViewModel viewModel)\n    {\n        this.CloseWhenBackgroundIsClicked = false;\n\n        Content = new Border\n        {\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(15) },\n            StrokeThickness = 0,\n            Padding = new Thickness(16, 5, 16, 20),\n\n            Content = new VerticalStackLayout\n            {\n                Children =\n                {\n                    new Regular20Label { Text = \"Game Hosting Information\" }\n                        .Center()\n                        .Margins(0, 20, 10, 0),\n                    new Rectangle { HeightRequest = 2 }.AppThemeBinding(\n                        Rectangle.BackgroundProperty,\n                        Color.FromArgb(\"#626262\"),\n                        Color.FromArgb(\"#D2D2D2\")\n                    ),\n                    new Grid\n                    {\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Auto),\n                            (BodyColumn.second, Star)\n                        ),\n\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto),\n                            (BodyRow.seventh, Auto),\n                            (BodyRow.eighth, Auto)\n                        ),\n                        ColumnSpacing = 10,\n                        Children =\n                        {\n                            new Button\n                            {\n                                Background = Color.FromArgb(\"6B6B6B\"),\n                                FontFamily = \"InterRegular\",\n                                FontSize = 10,\n                                CornerRadius = 5,\n                                TextColor = Colors.White,\n                            }\n                                .Bind(\n                                    Button.TextProperty,\n                                    \"SelectedDate\",\n                                    stringFormat: \"{0:dd MMM, yyyy}\"\n                                )\n                                .Center()\n                                .Column(BodyColumn.first)\n                                .Margins(0, 0, 0, 0)\n                                .Row(BodyRow.first),\n                            new Regular20Label { }\n                                .Bind(\n                                    Regular18Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVendor)}.{nameof(viewModel.SelectedVendor.FullName)}\"\n                                )\n                                .Column(BodyColumn.second)\n                                .Margins(0, 0, 0, 0)\n                                .Row(BodyRow.first),\n                            new Regular14Label { }\n                                .Bind(Regular14Label.TextProperty, nameof(viewModel.CityProvince))\n                                .Margins(10, 0, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.second),\n                            new Bold14Label { }\n                                .Bind(\n                                    Bold14Label.TextProperty,\n                                    nameof(viewModel.RequiredPlayers),\n                                    stringFormat: \"{0} Players (Including host)\"\n                                )\n                                .Margins(0, 20, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.third),\n                            new Regular14Label { }\n                                .Bind(\n                                    Regular14Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.GameName)}\"\n                                )\n                                .Margins(0, 0, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.fourth),\n                            new Regular14Label { }\n                                .Bind(Regular14Label.TextProperty, nameof(viewModel.SkillLevel))\n                                .Margins(0, 0, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.fifth),\n                            new SemiBold14Label { }\n                                .Bind(SemiBold14Label.TextProperty, nameof(viewModel.Timing))\n                                .Margins(0, 20, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.sixth),\n                            new Regular14Label { }\n                                .Bind(Regular14Label.TextProperty, nameof(viewModel.TimingDisplay))\n                                .Margins(0, 0, 0, 0)\n                                .Column(BodyColumn.second)\n                                .Row(BodyRow.seventh),\n                        },\n                    }\n                        .Center()\n                        .Margins(0, 20, 0, 0),\n                    new Border\n                    {\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(15) },\n                        StrokeThickness = 2,\n                        Background = Colors.Transparent,\n                        Padding = 10,\n                        Content = new Editor\n                        {\n                            Placeholder = \"Provide additional information\",\n                            FontFamily = \"InterRegular\",\n                            FontSize = 12,\n                            HeightRequest = 100,\n                            MaxLength = 250,\n                            Background = Colors.Transparent,\n                        }\n                            .Bind(\n                                Editor.TextProperty,\n                                nameof(viewModel.HostMessage),\n                                BindingMode.TwoWay\n                            )\n                            .AppThemeBinding(Editor.TextColorProperty, Colors.Black, Colors.White)\n                            .AppThemeBinding(\n                                Editor.PlaceholderColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            ),\n                    }\n                        .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                        .Margins(0, 20, 0, 0),\n                    new Medium12Label { HorizontalOptions = LayoutOptions.End }\n                        .Bind(\n                            Medium12Label.TextProperty,\n                            nameof(viewModel.HostMessageCharacterCount),\n                            BindingMode.TwoWay,\n                            stringFormat: \"{0}/250 characters\"\n                        )\n                        .Margins(0, 0, 0, 0),\n                    new MediumButton { Text = \"Host\" }\n                        .BindCommand(nameof(viewModel.HostCommand))\n                        .Margins(20, 30, 20, 0),\n                    new MediumButton\n                    {\n                        Text = \"Cancel\",\n                        Background = Colors.Transparent,\n                        BorderWidth = .5,\n                    }\n                        .AppThemeColorBinding(\n                            MediumButton.TextColorProperty,\n                            Colors.Black,\n                            Colors.White\n                        )\n                        .AppThemeColorBinding(\n                            MediumButton.BorderColorProperty,\n                            Colors.Black,\n                            Colors.White\n                        )\n                        .BindCommand(nameof(viewModel.CancelCommand))\n                        .Margins(20, 10, 20, 0),\n                },\n            },\n        }.AppThemeBinding(ScrollView.BackgroundProperty, Colors.White, Colors.Black);\n\n        BindingContext = viewModel;\n    }\n}\n","path":null,"size_bytes":8998,"size_tokens":null},"Dome.Shared/Synced/Coupon.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    public partial class Coupon : IRealmObject\n    {\n        private Coupon() { }\n\n        public Coupon(\n            string couponCode,\n            decimal discountPercentage,\n            DateTimeOffset expiryDate,\n            string couponStatus,\n            decimal maximumDiscount\n        )\n        {\n            CouponCode = couponCode;\n            DiscountPercentage = discountPercentage;\n            ExpiryDate = expiryDate;\n            MaximumDiscount = maximumDiscount;\n        }\n\n        [MapTo(\"_id\")]\n        [PrimaryKey]\n        public ObjectId Id { get; set; } = ObjectId.GenerateNewId();\n\n        [MapTo(\"couponCode\")]\n        public string CouponCode { get; set; }\n\n        [MapTo(\"discountPercentage\")]\n        public decimal DiscountPercentage { get; set; }\n\n        [MapTo(\"maximumDiscount\")]\n        public decimal MaximumDiscount { get; set; }\n\n        [MapTo(\"expiryDate\")]\n        public DateTimeOffset ExpiryDate { get; set; }\n\n        // three type of status: \"unused\", \"reserved\" and \"used\"\n        [MapTo(\"couponStatus\")]\n        public string CouponStatus { get; set; } = CouponPosition.unused.ToString();\n\n        // relationship: the user who used the coupon\n        [MapTo(\"benefitedUser\")]\n        public VenueUser? BenefitedUser { get; set; }\n\n        // Backlink: the list of Bookings where the coupon is applied\n        [MapTo(\"discountedBooking\")]\n        [Backlink(nameof(Booking.AppliedCoupon))]\n        public IQueryable<Booking> DiscountedBooking { get; }\n    }\n}\n","path":null,"size_bytes":1538,"size_tokens":null},"Player/ViewModels/Account/VerifyRegisteredMobileNumberViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class VerifyRegisteredMobileNumberViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        public string oneTimePasscode = string.Empty;\n\n        [ObservableProperty]\n        string? userMobileNumber;\n\n        [ObservableProperty]\n        string timeLeft;\n\n        [ObservableProperty]\n        Color sendButtonColor;\n\n        [ObservableProperty]\n        VenueUser? player;\n\n        Realm realm;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n        private readonly ISettingsService settingsService;\n        private readonly ITwilioService twilioService;\n\n        public VerifyRegisteredMobileNumberViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            ITwilioService twilioService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.settingsService = settingsService;\n            this.twilioService = twilioService;\n\n            SendButtonColor = Color.FromArgb(\"#EF2F50\");\n\n            realm = Realm.GetInstance(realmService.Config);\n        }\n\n        [RelayCommand]\n        async Task SendSMSOTP()\n        {\n            try\n            {\n                Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                UserMobileNumber = $\"{Player?.PhoneCode}{Player?.MobileNumber}\";\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"No Internet\",\n                        \"Please check your internet connection\",\n                        \"OK\"\n                    );\n                    return;\n                }\n                else if (string.IsNullOrWhiteSpace(UserMobileNumber))\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"no email found\", \"OK\");\n                }\n                else\n                {\n                    await twilioService.SendSMSOTP(UserMobileNumber);\n\n                    TimeSpan timeSpan = new TimeSpan(0, 2, 0);\n                    TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n                    SendButtonColor = Color.FromArgb(\"#D3D3D3\");\n\n                    PeriodicTimer timer = new PeriodicTimer(TimeSpan.FromSeconds(1));\n\n                    while (await timer.WaitForNextTickAsync())\n                    {\n                        TimeSpan oneSecond = new TimeSpan(0, 0, 01);\n                        timeSpan = timeSpan - oneSecond;\n                        TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n                        if (timeSpan == TimeSpan.Zero)\n                        {\n                            timer.Dispose();\n                        }\n                    }\n                    ;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifySMSOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"No Internet\",\n                        \"Please check your internet connection\",\n                        \"OK\"\n                    );\n                    return;\n                }\n                else if (string.IsNullOrWhiteSpace(UserMobileNumber))\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"no email found\", \"OK\");\n                }\n                else\n                {\n                    string status = await twilioService.VerifySMSOTP(\n                        UserMobileNumber,\n                        OneTimePasscode\n                    );\n                    if (status != null)\n                    {\n                        if (status == \"approved\")\n                        {\n                            await AlertHelper.ShowSnackBar(\"Mobile Number Verified\");\n                            await realm.WriteAsync(() =>\n                            {\n                                Player.IsMobileNumberVerified = true;\n                            });\n\n                            await navigationService.NavigateToAsync(\"///LoggedInBar\");\n\n                            realm.Dispose();\n                        }\n                        else if (status == \"pending\")\n                        {\n                            await Shell.Current.DisplayAlert(\n                                \"Invalid\",\n                                \"Invalid OTP. Please try again\",\n                                \"OK\"\n                            );\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ChangeMobileNumber()\n        {\n            await navigationService.NavigateToAsync(nameof(ChangeMobileNumberView));\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6144,"size_tokens":null},"Player/Views/Connect/ReviewGameBeforeApplyingView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class ReviewGameBeforeApplyingView : BaseView\n{\n    public ReviewGameBeforeApplyingView(ReviewGameBeforeApplyingViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new VerticalStackLayout\n                {\n                    Padding = new Thickness(16, 0, 16, 10),\n                    Children =\n                    {\n                        new ExtraBold18Label { Text = \"Join Game\" }.Margins(0, 20, 0, 0),\n                        new Regular14Label { }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.SelectedVenue)}.{nameof(viewModel.SelectedBooking.SelectedVenue.FullName)}\"\n                            )\n                            .Margins(0, 20, 0, 0),\n                        new Regular14Label { }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                binding1: new Binding(\n                                    $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.BookingInformation)}\"\n                                ),\n                                binding2: new Binding(\n                                    $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.SkillLevel)}\"\n                                ),\n                                convert: (\n                                    (string? bookingInformation, string? skillLevel) values\n                                ) => $\" {values.bookingInformation} | {values.skillLevel}\"\n                            )\n                            .Margins(0, 0, 0, 0),\n                        new Medium12Label { }\n                            .Bind(\n                                Medium12Label.TextProperty,\n                                $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.HostMessage)}\"\n                            )\n                            .Margins(0, 25, 0, 0),\n                        new Medium11Label\n                        {\n                            Text =\n                                \"Please refrain from making any payments until you receive booking confirmation from the host.\",\n                        }.Margins(0, 40, 0, 0),\n                        new Border\n                        {\n                            StrokeShape = new RoundRectangle\n                            {\n                                CornerRadius = new CornerRadius(15),\n                            },\n                            StrokeThickness = 2,\n                            Background = Colors.Transparent,\n                            Padding = 10,\n                            Content = new Editor\n                            {\n                                Placeholder =\n                                    \"Send message to the host with any request you might have. (Optional)\",\n                                FontFamily = \"InterRegular\",\n                                FontSize = 12,\n                                HeightRequest = 100,\n                                MaxLength = 110,\n                                Background = Colors.Transparent,\n                            }\n                                .Bind(\n                                    Editor.TextProperty,\n                                    nameof(viewModel.ApplicantMessage),\n                                    BindingMode.TwoWay\n                                )\n                                .AppThemeBinding(\n                                    Editor.TextColorProperty,\n                                    Colors.Black,\n                                    Colors.White\n                                )\n                                .AppThemeBinding(\n                                    Editor.PlaceholderColorProperty,\n                                    Colors.Black,\n                                    Colors.White\n                                ),\n                        }\n                            .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                            .Margins(0, 10, 0, 0),\n                        new Medium12Label { HorizontalOptions = LayoutOptions.End }\n                            .Bind(\n                                Medium12Label.TextProperty,\n                                nameof(viewModel.ApplicantMessageLength),\n                                BindingMode.TwoWay,\n                                stringFormat: \"{0}/110 characters\"\n                            )\n                            .Margins(0, 5, 0, 0),\n                        new MediumButton { Text = \"Request to Join\" }\n                            .BindCommand(nameof(viewModel.ApplyCommand))\n                            .Margins(20, 30, 20, 0),\n                        new MediumButton\n                        {\n                            Text = \"Cancel\",\n                            Background = Colors.Transparent,\n                            BorderWidth = .5,\n                        }\n                            .AppThemeColorBinding(\n                                MediumButton.TextColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            )\n                            .AppThemeColorBinding(\n                                MediumButton.BorderColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            )\n                            .BindCommand(nameof(viewModel.CancelCommand))\n                            .Margins(20, 20, 20, 0),\n                    },\n                }\n                    .AppThemeBinding(\n                        VerticalStackLayout.BackgroundProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#23262A\")\n                    )\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":6607,"size_tokens":null},"Player/Models/APIServer/RequestWithBookingIds.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public record RequestWithBookingIds\n    {\n        public RequestWithBookingIds(List<string> bookingIds, string environment)\n        {\n            BookingIds = bookingIds;\n            Environment = environment;\n        }\n\n        [JsonPropertyName(\"bookingIds\")]\n        public List<string> BookingIds { get; set; }\n\n        [JsonPropertyName(\"environment\")]\n        public string Environment { get; set; }\n    }\n}\n","path":null,"size_bytes":457,"size_tokens":null},"Player/CustomControls/CollectionViews/UpcomingBookingsTemplate.cs":{"content":"using Microsoft.Maui.Controls;\nusing Syncfusion.Maui.Toolkit.BottomSheet;\n\nnamespace Player.CustomControls.CollectionViews\n{\n    public class UpcomingBookingsTemplate : Grid\n    {\n        public UpcomingBookingsTemplate()\n        {\n            CollectionView collection = new CollectionView\n            {\n                SelectionMode = SelectionMode.Single,\n                EmptyView = new Regular16Label\n                {\n                    Text = \"No Upcoming Bookings\",\n                    HorizontalOptions = LayoutOptions.Center,\n                    VerticalOptions = LayoutOptions.Center,\n                },\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                {\n                    ItemSpacing = 10,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        StrokeThickness = 0,\n                        StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                        Content = new Grid\n                        {\n                            RowDefinitions = Rows.Define(\n                                (BodyRow.first, Auto),\n                                (BodyRow.second, Auto),\n                                (BodyRow.third, Auto),\n                                (BodyRow.fourth, Auto),\n                                (BodyRow.fifth, Auto),\n                                (BodyRow.sixth, Auto),\n                                (BodyRow.seventh, Auto)\n                            ),\n\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Star),\n                                (BodyColumn.second, Auto),\n                                (BodyColumn.third, Star)\n                            ),\n\n                            Padding = new Thickness(8),\n                            Children =\n                            {\n                                new Regular14Label { }\n                                    .Bind(Regular14Label.TextProperty, nameof(Booking.GameName))\n                                    .Row(BodyRow.first)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3),\n                                new MediumButton\n                                {\n                                    Padding = new Thickness(10, 5),\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 8,\n                                    HorizontalOptions = LayoutOptions.End,\n                                }\n                                    .Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsHosted))\n                                    .Bind(\n                                        MediumButton.TextProperty,\n                                        nameof(Booking.IsJoined),\n                                        convert: (bool joined) =>\n                                            joined == true ? \"Joined\" : \"Hosted\"\n                                    )\n                                    .Row(BodyRow.first)\n                                    .Column(BodyColumn.third),\n                                // new HorizontalStackLayout\n                                // {\n                                //     Children =\n                                //     {\n                                //         //  the team status in Booking is JoinedPlayers.Count+1/{NumberOfPlayersRequiredForHosting (Players requirement selected while creating the planned booking)\n                                //         new Medium12Label\n                                //         {\n                                //             VerticalOptions = LayoutOptions.Center,\n                                //         }.Bind(\n                                //             Medium12Label.TextProperty,\n                                //             nameof(Booking.TeamStatus)\n                                //         ),\n                                //         new AvatarView\n                                //         {\n                                //             HeightRequest = 35,\n                                //             WidthRequest = 35,\n                                //             CornerRadius = 17,\n                                //             Padding = 0,\n                                //         }\n                                //             .Bind(\n                                //                 AvatarView.ImageSourceProperty,\n                                //                 \"PlayerImage\",\n                                //                 source: BindingContext,\n                                //                 converter: new ByteArrayToImageSourceConverter(),\n                                //                 targetNullValue: \"profile_image_fallback\"\n                                //             )\n                                //             .Margins(10, 0, 0, 0),\n                                //         new CollectionView\n                                //         {\n                                //             HeightRequest = 40,\n                                //             HorizontalScrollBarVisibility =\n                                //                 ScrollBarVisibility.Always,\n                                //             WidthRequest = 150,\n                                //             ItemsLayout = new LinearItemsLayout(\n                                //                 ItemsLayoutOrientation.Horizontal\n                                //             )\n                                //             {\n                                //                 ItemSpacing = 0,\n                                //             },\n\n                                //             ItemTemplate = new DataTemplate(() =>\n                                //             {\n                                //                 return new AvatarView\n                                //                 {\n                                //                     HeightRequest = 35,\n                                //                     WidthRequest = 35,\n                                //                     CornerRadius = 17,\n                                //                     Padding = 0,\n                                //                 }.Bind(\n                                //                     AvatarView.ImageSourceProperty,\n                                //                     nameof(VenueUser.ProfileImage),\n                                //                     converter: new ByteArrayToImageSourceConverter(),\n                                //                     targetNullValue: \"profile_image_fallback\"\n                                //                 );\n                                //             }),\n                                //         }.Bind(\n                                //             ItemsView.ItemsSourceProperty,\n                                //             nameof(Booking.JoinedPlayers)\n                                //         ),\n                                //     },\n                                // }\n                                //     .Row(BodyRow.second)\n                                //     .Column(BodyColumn.first)\n                                //     .ColumnSpan(3)\n                                //     .Margins(0, 0, 0, 10),\n                                // new Medium12Label { }\n                                //     .Bind(Medium12Label.TextProperty, nameof(Booking.PlayerName))\n                                //     .AppThemeBinding(\n                                //         Medium12Label.TextColorProperty,\n                                //         Color.FromArgb(\"#626262\"),\n                                //         Color.FromArgb(\"#E0E0E0\")\n                                //     )\n                                //     .Row(BodyRow.third)\n                                //     .Column(BodyColumn.first)\n                                //     .ColumnSpan(3),\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.End,\n                                    VerticalOptions = LayoutOptions.Center,\n                                }\n                                    .AppThemeBinding(\n                                        Medium10Label.TextColorProperty,\n                                        Color.FromArgb(\"#626262\"),\n                                        Color.FromArgb(\"#E0E0E0\")\n                                    )\n                                    .Bind(\n                                        Medium16Label.TextProperty,\n                                        nameof(Booking.TotalPrice),\n                                        stringFormat: \"{0:C}\"\n                                    )\n                                    .Row(BodyRow.fourth)\n                                    .RowSpan(2)\n                                    .Column(BodyColumn.third),\n                                new SemiBold12Label { }\n                                    .Bind(SemiBold12Label.TextProperty, nameof(Booking.VenueName))\n                                    .Row(BodyRow.fourth)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3),\n                                new SemiBold12Label { }\n                                    .Bind(SemiBold10Label.TextProperty, nameof(Booking.BookingInfo))\n                                    .Row(BodyRow.fifth)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3)\n                                    .Margins(0, 0, 0, 20),\n                                new Rectangle\n                                {\n                                    HeightRequest = 2,\n                                    Background = Color.FromArgb(\"#D4D4D4\"),\n                                }\n                                    .Row(BodyRow.sixth)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3),\n                                new Rectangle\n                                {\n                                    WidthRequest = 2,\n                                    Background = Color.FromArgb(\"#D4D4D4\"),\n                                }\n                                 .Bind(Rectangle.IsVisibleProperty, nameof(Booking.IsJoined))\n                                    .Row(BodyRow.sixth)\n                                    .RowSpan(2)\n                                    .Column(BodyColumn.second),\n\n                                 new MediumButton\n                                {\n                                    Text = \"Cancel Game\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 14,\n                                    TextColor = Color.FromArgb(\"EF2F50\"),\n                                    Background = Colors.Transparent,\n                                }\n                                    .Row(BodyRow.seventh)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3)\n                                    .BindCommand(\"BindingContext.CancelBookingCommand\", source: this)\n                                    .Bind(\n                                        MediumButton.IsVisibleProperty,\n                                        nameof(Booking.NotHostedbyLoggedInUser)\n                                    ),\n                                // new MediumButton\n                                // {\n                                //     Text = \"Share Game\",\n                                //     FontFamily = \"InterRegular\",\n                                //     FontSize = 14,\n                                //     TextColor = Color.FromArgb(\"EF2F50\"),\n                                //     Background = Colors.Transparent,\n                                // }\n                                //     .Row(BodyRow.seventh)\n                                //     .Column(BodyColumn.first)\n                                //     .ColumnSpan(3)\n                                //     .BindCommand(\"BindingContext.ShareGameCommand\", source: this)\n                                //     .Bind(\n                                //         MediumButton.IsVisibleProperty,\n                                //         nameof(Booking.NotHostedbyLoggedInUser)\n                                //     ),\n                                new MediumButton\n                                {\n                                    Text = \"Chat\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 14,\n                                    TextColor = Color.FromArgb(\"EF2F50\"),\n                                    Background = Colors.Transparent,\n                                }\n                                    .Row(BodyRow.seventh)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(3)\n                                    .BindCommand(\n                                        \"ChatFromPurchasedBookingCommand\",\n                                        source: BindingContext\n                                    )\n                                    .Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsHosted))\n                                    ,\n                                // new MediumButton { Text = \"Share Booking\",FontFamily=\"InterRegular\", FontSize = 14, TextColor=Color.FromArgb(\"EF2F50\"), Background =Colors.Transparent  }.Row(BodyRow.eighth).Column(BodyColumn.first).BindCommand(\"BindingContext.ShareHostedGameLinkCommand\", source: this).Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsHostedbyLoggedInUser)),\n\n                                // new MediumButton\n                                // {\n                                //     Text = \"Cancel Booking\",\n                                //     FontFamily = \"InterRegular\",\n                                //     FontSize = 14,\n                                //     Background = Colors.Transparent,\n                                //     HorizontalOptions = LayoutOptions.Center,\n                                // }\n                                //     .AppThemeBinding(\n                                //         MediumButton.TextColorProperty,\n                                //         Color.FromArgb(\"#626262\"),\n                                //         Color.FromArgb(\"#E0E0E0\")\n                                //     )\n                                //     .Row(BodyRow.seventh)\n                                //     .Column(BodyColumn.third)\n                                //     .BindCommand(\n                                //         \"BindingContext.CancelBookingCommand\",\n                                //         source: this\n                                //     )\n                                //     .Bind(\n                                //         MediumButton.IsVisibleProperty,\n                                //         nameof(Booking.IsJoined),\n                                //         convert: (bool joined) => joined == true ? false : true\n                                //     )\n                                //     .Margins(5, 0, 0, 0),\n                                new MediumButton\n                                {\n                                    Text = \"Quit Game\",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 14,\n                                    Background = Colors.Transparent,\n                                    HorizontalOptions = LayoutOptions.Center,\n                                }\n                                    .AppThemeBinding(\n                                        MediumButton.TextColorProperty,\n                                        Colors.Black,\n                                        Colors.White\n                                    )\n                                    .Row(BodyRow.seventh)\n                                    .Column(BodyColumn.third)\n                                    .BindCommand(\"BindingContext.QuitGameCommand\", source: this)\n                                    .Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsJoined)),\n                            },\n                        },\n                    }.AppThemeBinding(\n                        Border.BackgroundProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#23262A\")\n                    );\n                }),\n            }\n                .Bind(ItemsView.ItemsSourceProperty, \"UpComingBookings\")\n                .Bind(\n                    SelectableItemsView.SelectionChangedCommandProperty,\n                    \"SelectionChangedCommand\"\n                )\n                .Bind(SelectableItemsView.SelectedItemProperty, \"SelectedBooking\");\n\n            //  SfBottomSheet sheet=  new SfBottomSheet\n            //     {\n\n            //        // HalfExpandedRatio = 0.35,\n            //         AllowedState= BottomSheetAllowedState.HalfExpanded,\n\n            //         Content = new Grid\n            //         {\n            //             RowDefinitions = Rows.Define(\n            //                 (BodyRow.first, Auto),\n            //                 (BodyRow.second, Star)\n            //             ),\n            //             ColumnDefinitions = Columns.Define(\n            //                 (BodyColumn.first, Star),\n            //                 (BodyColumn.second, Star)\n            //             ),\n            //             Children =\n            //             {\n            //                 new Regular16Label { Text = \"Share\", HorizontalOptions = LayoutOptions.Center, VerticalOptions = LayoutOptions.Center }.Row(BodyRow.first).ColumnSpan(2),\n            //                 new Grid\n            //                 {\n            //                     new Regular14Label { Text = \"Share your booking with friends\" }.Row(BodyRow.second).Column(BodyColumn.first),\n            //                     new ImageButton { Source = \"share\" }.Row(BodyRow.second).Column(BodyColumn.second)\n            //                 }.BindTapGesture(\"ShareGameCommand\")\n            //             }\n            //         }\n\n            //     }.Bind(SfBottomSheet.IsOpenProperty, \"BindingContext.IsShareBottomSheetOpen\", source: this);\n\n            Children.Add(collection);\n            //Children.Add(sheet);\n        }\n    }\n}\n","path":null,"size_bytes":18845,"size_tokens":null},"Player/Services/Implementations/AddToCartService.cs":{"content":"﻿namespace Player.Services.Implementations\n{\n    public class AddToCartService : IAddToCartService\n    {\n        private readonly IRealmService realmService;\n\n        readonly Realm syncedRealm;\n\n        readonly VenueUser? venueUser;\n\n        public AddToCartService(IRealmService realmService)\n        {\n            this.realmService = realmService;\n\n            syncedRealm = Realm.GetInstance(realmService.Config);\n\n            venueUser = syncedRealm\n                .All<VenueUser>()\n                .FirstOrDefault(n => n.OwnerId == realmService.RealmUser.Id);\n        }\n\n        /// <summary>\n        /// this method is used in BookingTimingViewModel to check if any field is available in the selected time slot. Only fields that are not on Hold, booked or reserved are displayed to the user for booking.\n        /// </summary>\n        /// <param name=\"selectedVenueId\"></param>\n        /// <param name=\"selectedFieldName\"></param>\n        /// <param name=\"selectedDate\"></param>\n        /// <param name=\"selectedStartTime\"></param>\n        /// <param name=\"selectedEndTime\"></param>\n        /// <returns></returns>\n        public async Task<bool> IsSlotAvailableAsync(\n            ObjectId selectedVenueId,\n            string selectedFieldName,\n            DateTime selectedDate,\n            DateTime selectedStartTime,\n            DateTime selectedEndTime\n        )\n        {\n            Venue? venue = syncedRealm.All<Venue>().FirstOrDefault(g => g.Id == selectedVenueId);\n\n            bool isSelectedTimeAvailable = true;\n\n            // find existing bookings in Selected Venue where SelectedDate & Field Name are same and BookingStatus is one of the following: OnHold, Reserved, Booked.\n            IEnumerable<Booking> bookingsInSelectedField = venue.Bookings.Where(s =>\n                s.FieldName == selectedFieldName\n            );\n            IEnumerable<Booking> existingBookings = bookingsInSelectedField.Where(f =>\n                (f.StartTime.Date == selectedDate)\n                && (\n                    (f.BookingStatus == Dome.Shared.Constants.AppConstants.Booked)\n                    || (f.BookingStatus == Dome.Shared.Constants.AppConstants.Reserved)\n                    || (f.BookingStatus == Dome.Shared.Constants.AppConstants.Created)\n                )\n            );\n\n            foreach (Booking existingBooking in existingBookings)\n            {\n                for (\n                    DateTime time = selectedStartTime;\n                    time < selectedEndTime;\n                    time = time.AddHours(1)\n                )\n                {\n                    // if the  StartTime and EndTime of requestedBooking and existingBooking overlaps then the booking is not available.\n                    if (\n                        existingBooking.StartTime.DateTime <= time\n                        && existingBooking.EndTime.DateTime > time\n                    )\n                    {\n                        return false;\n                    }\n                }\n            }\n\n            return isSelectedTimeAvailable;\n        }\n    }\n}\n","path":null,"size_bytes":3080,"size_tokens":null},"Player/App.cs":{"content":"﻿using Dome.Shared.Synced;\n\nnamespace Player\n{\n    public class App : Application\n    {\n        public static Realms.Sync.App RealmApp { get; set; }\n\n        private readonly ISecretsService secretsService;\n        private readonly ISettingsService settingsService;\n        private readonly IConnectivity connectivity;\n\n        public App(\n            ISettingsService settingsService,\n            ISecretsService secretsService,\n            IVersionTracking versionTracking,\n            IConnectivity connectivity\n        )\n        {\n            try\n            {\n                SetLanguage();\n                this.secretsService = secretsService;\n                this.settingsService = settingsService;\n                this.connectivity = connectivity;\n\n                // check if the app is launched for the first time. If it is, set the IsFirstTimeAppOpened to true and IsDarkThemeWantedByUser to true. If the app is launched for the first time the user will be presented with Onboarding screen before registration page\n                if (versionTracking.IsFirstLaunchEver)\n                {\n                    settingsService.IsDarkThemeWantedByUser = true;\n                }\n\n                // check if the user wants the dark theme. If the user wants the dark theme, set the UserAppTheme to dark, else set it to light. The theme is selected by user from the Settings page\n                if (settingsService.IsDarkThemeWantedByUser)\n                {\n                    UserAppTheme = AppTheme.Dark;\n                }\n                else\n                {\n                    UserAppTheme = AppTheme.Light;\n                }\n\n                Task.Run(async () => await secretsService.LoadAllSecrets())\n                    .GetAwaiter()\n                    .GetResult();\n                string? appId = secretsService.RealmPlayerAppId;\n                AppConfiguration appConfiguration = new Realms.Sync.AppConfiguration(appId)\n                {\n                    BaseUri = new Uri(\"https://services.cloud.mongodb.com\"),\n                    // the user will be logged in automatically if the user is already logged in\n                };\n                // Always put log before App.Create\n#if DEBUG\n                // reveal information that is useful for debugging, no longer paying attention to efficiency\n                Realms.Logging.RealmLogger.SetLogLevel(Realms.Logging.LogLevel.Debug);\n#else\n\n                // log only errors in release mode\n                Realms.Logging.RealmLogger.SetLogLevel(Realms.Logging.LogLevel.Error);\n#endif\n\n                RealmApp = Realms.Sync.App.Create(appConfiguration);\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetLanguage()\n        {\n            // the language and culture to be used in the application is set to canadian english\n            string language = \"en-CA\";\n            // intended to be used for parsing / formatting stuffs.Date and time, numbers and string comparison etc. Use four letter code separated by -, e.g \"de-DE\". First two letters are language code and last two letters are country code\n            Thread.CurrentThread.CurrentCulture = new CultureInfo(language);\n            //Used by the resource manager to look up specific resources at runtime, it's the language used to display text.Use two letter code e.g \"de\"\n            Thread.CurrentThread.CurrentUICulture = new CultureInfo(language);\n            //AppResources.Culture = new CultureInfo(language);\n        }\n\n        // evaluate this function if this could be used to received deep link from the user\n        protected override async void OnAppLinkRequestReceived(Uri uri)\n        {\n            base.OnAppLinkRequestReceived(uri);\n\n            // Show an alert to test the app link worked\n\n            string Id = uri.Segments[uri.Segments.Length - 1];\n            ObjectId bookingId = ObjectId.Parse(Id);\n\n            await this.Dispatcher.DispatchAsync(async () =>\n            {\n                await Shell.Current.GoToAsync(\n                    nameof(ReviewGameBeforeJoiningPopup),\n                    new ShellNavigationQueryParameters { { \"Id\", bookingId } }\n                );\n            });\n\n            // Console.WriteLine(\"APP LINK: \" + uri.ToString());\n        }\n\n        protected override Window CreateWindow(IActivationState? activationState)\n        {\n            User? realmUser = RealmApp.CurrentUser;\n\n            if (\n                realmUser == null\n                || realmUser.State == UserState.Removed\n                || realmUser.State == UserState.LoggedOut\n            )\n            {\n                return new Window(new AppShell(\"Login\"));\n            }\n            else if (settingsService.IsLoginAuthenticationPending == true)\n            {\n                return new Window(new AppShell(\"EmailAuthentication\"));\n            }\n            else\n            {\n                return new Window(new AppShell(\"LoggedIn\"));\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5074,"size_tokens":null},"Player/Views/Account/VerifyEmailForPasswordResetView.cs":{"content":"namespace Player.Views.Account;\n\npublic class VerifyEmailForPasswordResetView : AccountBaseView\n{\n    private readonly VerifyEmailForPasswordResetViewModel viewModel;\n\n    public VerifyEmailForPasswordResetView(VerifyEmailForPasswordResetViewModel viewModel)\n        : base(viewModel)\n    {\n        this.viewModel = viewModel;\n        Content = new Grid\n        {\n            RowDefinitions = Rows.Define(\n                (BodyRow.first, Auto),\n                (BodyRow.second, Auto),\n                (BodyRow.third, Auto),\n                (BodyRow.fourth, Auto),\n                (BodyRow.fifth, Auto),\n                (BodyRow.sixth, Auto),\n                (BodyRow.seventh, Auto),\n                (BodyRow.eighth, Auto),\n                (BodyRow.ninth, Auto),\n                (BodyRow.tenth, Auto)\n            ),\n\n            Children =\n            {\n                new AccountTopControl(),\n                new Image { }\n                    .AppThemeBinding(\n                        Image.SourceProperty,\n                        \"verify_email_light_theme.png\",\n                        \"verify_email_dark_theme.png\"\n                    )\n                    .Row(BodyRow.second),\n                new ExtraBold28Label\n                {\n                    Text = \"Authenticate Email\",\n                    HorizontalOptions = LayoutOptions.Center,\n                }\n                    .Row(BodyRow.third)\n                    .Margins(0, 15, 0, 0),\n                new Regular12Label\n                {\n                    Text = \"You will get OTP via Email to\",\n                    HorizontalOptions = LayoutOptions.Center,\n                }\n                    .AppThemeBinding(\n                        Regular12Label.TextColorProperty,\n                        Color.FromArgb(\"#626262\"),\n                        Color.FromArgb(\"#A2A2A2\")\n                    )\n                    .Row(BodyRow.fourth)\n                    .Margins(0, 5, 0, 0),\n                new Bold12Label { HorizontalOptions = LayoutOptions.Center }\n                    .AppThemeBinding(\n                        Regular12Label.TextColorProperty,\n                        Colors.Black,\n                        Color.FromArgb(\"#626262\")\n                    )\n                    .Bind(Bold12Label.TextProperty, nameof(viewModel.UserEmail))\n                    .Row(BodyRow.fifth),\n                new Label { HorizontalOptions = LayoutOptions.Center }\n                    .AppThemeBinding(\n                        Regular12Label.TextColorProperty,\n                        Color.FromArgb(\"#626262\"),\n                        Color.FromArgb(\"#A2A2A2\")\n                    )\n                    .Margins(0, 15, 0, 0)\n                    .Row(BodyRow.sixth)\n                    .FormattedText(\n                        new[]\n                        {\n                            new Span\n                            {\n                                Text = \"You can resend the OTP in \",\n                                FontFamily = \"InterBold\",\n                                FontSize = 12,\n                            },\n                            new Span\n                            {\n                                TextColor = Colors.Red,\n                                FontFamily = \"InterBold\",\n                                FontSize = 12,\n                            }.Bind(Span.TextProperty, nameof(viewModel.TimeLeft)),\n                        }\n                    ),\n                new BorderedEntry { HorizontalOptions = LayoutOptions.Fill }\n                    .Row(BodyRow.seventh)\n                    .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                    .Row(BodyRow.seventh)\n                    .Margins(30, 20, 30, 0),\n                new MediumButton { Text = \"SUBMIT\", WidthRequest = 257 }\n                    .Row(BodyRow.eighth)\n                    .BindCommand(nameof(viewModel.VerifyEmailOTPCommand), source: viewModel)\n                    .Margins(0, 25, 0, 0),\n                new MediumButton\n                {\n                    Text = \"GO BACK\",\n                    WidthRequest = 257,\n                    Background = Color.FromArgb(\"#272727\"),\n                    TextColor = Colors.White,\n                }\n                    .BindCommand(nameof(viewModel.GoBackCommand), source: viewModel)\n                    .Row(BodyRow.ninth)\n                    .Margins(0, 10, 0, 0),\n                new HorizontalStackLayout\n                {\n                    HorizontalOptions = LayoutOptions.Center,\n                    VerticalOptions = LayoutOptions.Center,\n                    Spacing = 5,\n                    Children =\n                    {\n                        new Bold14Label\n                        {\n                            Text = \"Didn't receive the OTP?\",\n                            TextColor = Color.FromArgb(\"#A2A2A2\"),\n                        },\n                        new Button\n                        {\n                            Text = \"Resend OTP\",\n                            Background = Colors.Transparent,\n                            TextColor = Color.FromArgb(\"#EF2F50\"),\n                            FontFamily = \"InterBold\",\n                            FontSize = 14,\n                            Padding = 0,\n                        }.BindCommand(nameof(viewModel.SendEmailOTPCommand)),\n                    },\n                }\n                    .Row(BodyRow.tenth)\n                    .Margins(0, 10, 0, 0),\n            },\n        };\n\n        Loaded += AuthenticateEmailForLoginView_Loaded;\n    }\n\n    private async void AuthenticateEmailForLoginView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.SendEmailOTPCommand.ExecuteAsync(null);\n    }\n}\n","path":null,"size_bytes":5780,"size_tokens":null},"Player/Views/BaseView.cs":{"content":"using CommunityToolkit.Maui.Behaviors;\nusing CommunityToolkit.Maui.Core;\n\nnamespace Player.Views\n{\n    public class BaseView : ContentPage\n    {\n        public Grid BaseContentGrid;\n        public Grid TopGrid;\n\n        public BaseView(BaseViewModel viewModel)\n        {\n            try\n            {\n                BindingContext = viewModel;\n\n                this.AppThemeBinding(\n                    ContentPage.BackgroundProperty,\n                    Color.FromArgb(\"#F1F3F2\"),\n                    Colors.Black\n                );\n\n                TopGrid = new Grid\n                {\n                    Padding = new Thickness(29, 27, 20, 12),\n                    Children =\n                    {\n                        {\n                            new HorizontalStackLayout\n                            {\n                                HorizontalOptions = LayoutOptions.End,\n                                Spacing = 19,\n                                Children =\n                                {\n                                    new Border\n                                    {\n                                        VerticalOptions = LayoutOptions.Start,\n                                        HeightRequest = 35,\n                                        WidthRequest = 35,\n                                        StrokeShape = new RoundRectangle { CornerRadius = 17.5 },\n                                        Padding = 0,\n                                        StrokeThickness = 0,\n                                        Content = new ImageButton\n                                        {\n                                            HeightRequest = 22,\n                                            WidthRequest = 22,\n                                        }\n                                            .AppThemeBinding(\n                                                ImageButton.SourceProperty,\n                                                \"notification_top_light_theme\",\n                                                \"notification_top_dark_theme\"\n                                            )\n                                            .Bind(\n                                                ImageButton.CommandProperty,\n                                                static (BaseViewModel vm) => vm.NotificationCommand,\n                                                source: viewModel\n                                            ),\n                                    }.AppThemeBinding(\n                                        Border.BackgroundProperty,\n                                        Color.FromArgb(\"#F1F3F2\"),\n                                        Colors.Black\n                                    ),\n                                    new AvatarView\n                                    {\n                                        BorderWidth = 1,\n                                        Padding = 0,\n                                        HeightRequest = 35,\n                                        WidthRequest = 35,\n                                        CornerRadius = 17.5,\n                                    }\n                                        .AppThemeBinding(\n                                            AvatarView.BorderColorProperty,\n                                            Colors.Black,\n                                            Colors.White\n                                        )\n                                        .Bind(\n                                            AvatarView.ImageSourceProperty,\n                                            \"PlayerImage\",\n                                            converter: new ByteArrayToImageSourceConverter(),\n                                            targetNullValue: \"profile_image_fallback.png\"\n                                        ),\n                                },\n                            }.Column(BodyColumn.second)\n                        },\n                    },\n                }\n                    .AppThemeBinding(\n                        Grid.BackgroundProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#23262A\")\n                    )\n                    .Row(BodyRow.first)\n                    .ColumnSpan(2);\n\n                Content = BaseContentGrid = new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Auto),\n                        (BodyColumn.second, Star)\n                    ),\n                    RowSpacing = 15,\n                    Children = { TopGrid },\n                };\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4905,"size_tokens":null},"Player/ViewModels/Book/AvailableGamesViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class AvailableGamesViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        ObservableCollection<Game>? availableGames;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        string? userName;\n\n        [ObservableProperty]\n        Booking? recentBooking;\n\n        Realm? realm;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n\n        public AvailableGamesViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task OnPageLoad()\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n                VenueUser? user = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                UserName = user?.FirstName;\n\n                PlayerImage = user?.ProfileImage;\n\n                RecentBooking = user\n                    ?.Bookings.Where(s =>\n                        s.BookingStatus == Dome.Shared.Constants.AppConstants.Booked\n                        || s.BookingStatus == Dome.Shared.Constants.AppConstants.Completed\n                    )\n                    .OrderByDescending(b => b.BookingDate)\n                    .FirstOrDefault();\n\n                await GetAvailableGames();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task GetAvailableGames()\n        {\n            try\n            {\n                AvailableGames = [];\n\n                // AvailableGame is now embedded in Venue, so query through venues\n                IEnumerable<AvailableGame> allGames = realm\n                    .All<Venue>()\n                    .Where(v => v.IsActive == true)\n                    .ToList()\n                    .SelectMany(v => v.AvailableGames);\n                IEnumerable<AvailableGame> favouriteGames = allGames.DistinctBy(x => x.Name);\n\n                foreach (AvailableGame availableGame in favouriteGames)\n                {\n                    Game? game = realm\n                        .All<Game>()\n                        .Where(a => a.GameName == availableGame.Name)\n                        .FirstOrDefault();\n                    if (game != null)\n                    {\n                        AvailableGames.Add(game);\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToVenuesList()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(VenuesListView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VenueDetails()\n        {\n            try\n            {\n                if (RecentBooking != null)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VenueDetailsView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"gameName\", RecentBooking.GameName },\n                            { \"venueId\", RecentBooking.Venue.Id },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task GameChoosen(Game game)\n        {\n            try\n            {\n                if (SelectedGame == null)\n                {\n                    return;\n                }\n                await navigationService.NavigateToAsync(\n                    nameof(VenuesListView),\n                    new ShellNavigationQueryParameters\n                    {\n                        { \"SelectedGameName\", SelectedGame.GameName },\n                    }\n                );\n                SelectedGame = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5021,"size_tokens":null},"Dome.Shared/Services/Interfaces/Authentication/ILoginService.cs":{"content":"namespace Dome.Shared.Services.Interfaces.Authentication;\n\npublic interface ILoginService\n{\n    Task<ClientLoginFlow> CreateLoginFlow();\n\n    Task<ClientSuccessfulNativeLogin> LoginUser(string email, string loginPassword, string flowId);\n}\n","path":null,"size_bytes":240,"size_tokens":null},"Admin/CustomControls/Entries/DualImageBorderedEntryRectangle.cs":{"content":"namespace Admin.CustomControls.Entries\n{\n    public class DualImageBorderedEntryRectangle : Border\n    {\n        public ICommand ChangeIsPasswordCommand { get; set; }\n\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay\n        );\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n            nameof(PlaceholderText),\n            typeof(string),\n            typeof(DualImageBorderedEntry),\n            string.Empty,\n            BindingMode.OneTime\n        );\n\n        public string PlaceholderText\n        {\n            get => (string)GetValue(PlaceholderTextProperty);\n            set => SetValue(PlaceholderTextProperty, value);\n        }\n\n        protected override void OnPropertyChanged(string? propertyName = null)\n        {\n            base.OnPropertyChanged(propertyName);\n            if (entry != null)\n            {\n                if (propertyName == EntryTextProperty.PropertyName)\n                {\n                    entry.Text = EntryText;\n                }\n                else if (propertyName == PlaceholderTextProperty.PropertyName)\n                {\n                    entry.Placeholder = PlaceholderText;\n                }\n            }\n        }\n\n        Entry entry;\n        Image endImage;\n        Image startImage;\n\n        public DualImageBorderedEntryRectangle()\n        {\n            ChangeIsPasswordCommand = new Command(async () => await ChangeIsPassword());\n\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) };\n            Padding = new Thickness(0);\n            Background = Colors.Transparent;\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            this.AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black);\n\n            entry = new Entry\n            {\n                IsPassword = true,\n                FontFamily = \"InterRegular\",\n                FontSize = 16,\n                HeightRequest = 35,\n                Background = Colors.Transparent,\n            }\n                .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n                .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n\n            startImage = new Image\n            {\n                Margin = new Thickness(5, 5, 0, 5),\n                Background = Colors.Transparent,\n            };\n            startImage.SetAppTheme<FileImageSource>(\n                Image.SourceProperty,\n                \"password_black_24dp.png\",\n                \"password_white_24dp.png\"\n            );\n\n            endImage = new Image\n            {\n                Margin = new Thickness(0, 5, 5, 5),\n                Background = Colors.Transparent,\n            };\n            endImage.SetAppTheme<FileImageSource>(\n                Image.SourceProperty,\n                \"visibility_off_black_24dp.png\",\n                \"visibility_off_white_24dp.png\"\n            );\n            endImage.GestureRecognizers.Add(\n                new TapGestureRecognizer { Command = ChangeIsPasswordCommand }\n            );\n\n            Content = new Grid\n            {\n                Background = Colors.Transparent,\n                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Auto),\n                    (BodyColumn.second, Star),\n                    (BodyColumn.third, Auto)\n                ),\n\n                Children =\n                {\n                    startImage.Column(BodyColumn.first),\n                    entry.Column(BodyColumn.second),\n                    endImage.Column(BodyColumn.third),\n                },\n            };\n        }\n\n        private async Task ChangeIsPassword()\n        {\n            entry.IsPassword = !entry.IsPassword;\n\n            if (\n                Application.Current.RequestedTheme == AppTheme.Light\n                || Application.Current.RequestedTheme == AppTheme.Unspecified\n            )\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_black_24dp.png\"\n                    : \"visibility_black_24dp.png\";\n            }\n            else if (Application.Current.RequestedTheme == AppTheme.Dark)\n            {\n                endImage.Source = entry.IsPassword\n                    ? \"visibility_off_white_24dp.png\"\n                    : \"visibility_white_24dp.png\";\n            }\n        }\n    }\n}\n","path":null,"size_bytes":4949,"size_tokens":null},"Player/AppShell.cs":{"content":"﻿using CommunityToolkit.Maui.Behaviors;\nusing CommunityToolkit.Maui.Core;\nusing Player.Views.OnBoarding;\n\nnamespace Player\n{\n    public class AppShell : Shell\n    {\n        public AppShell(string status)\n        {\n            FlyoutBehavior = FlyoutBehavior.Disabled;\n            SetNavBarIsVisible(this, false);\n            SetTabBarForegroundColor(this, Color.FromArgb(\"#EF2F50\"));\n            SetTabBarTitleColor(this, Color.FromArgb(\"#EF2F50\"));\n\n            TabBar loginTab = new TabBar\n            {\n                Items =\n                {\n                    new ShellContent\n                    {\n                        Route = nameof(LoginView),\n                        ContentTemplate = new DataTemplate(typeof(LoginView)),\n                    },\n                },\n            };\n\n            TabBar syncDataTab = new TabBar\n            {\n                Items =\n                {\n                    new ShellContent\n                    {\n                        Route = nameof(LoadDataView),\n                        ContentTemplate = new DataTemplate(typeof(LoadDataView)),\n                    },\n                },\n            };\n\n            TabBar emailAuthenticationTab = new TabBar\n            {\n                Items =\n                {\n                    new ShellContent\n                    {\n                        Route = nameof(AuthenticateEmailForLoginView),\n                        ContentTemplate = new DataTemplate(typeof(AuthenticateEmailForLoginView)),\n                    },\n                },\n            };\n\n            TabBar LoggedInBar = new TabBar\n            {\n                Route = \"LoggedInBar\",\n                Items =\n                {\n                    new ShellContent\n                    {\n                        Title = \"Home\",\n                        Icon = \"home\",\n                        Route = nameof(DashboardView),\n                        ContentTemplate = new DataTemplate(typeof(DashboardView)),\n                    },\n                    new ShellContent\n                    {\n                        Title = \"Play\",\n                        Icon = \"play\",\n                        Route = nameof(AvailableGamesView),\n                        ContentTemplate = new DataTemplate(typeof(AvailableGamesView)),\n                    },\n                    new ShellContent\n                    {\n                        Title = \"Connect\",\n                        Icon = \"connect\",\n                        Route = nameof(ConnectView),\n                        ContentTemplate = new DataTemplate(typeof(ConnectView)),\n                    },\n                    new ShellContent\n                    {\n                        Title = \"Bookings\",\n                        Icon = \"my_booking\",\n                        Route = nameof(MyBookingsView),\n                        ContentTemplate = new DataTemplate(typeof(MyBookingsView)),\n                    },\n                    new ShellContent\n                    {\n                        Title = \"Settings\",\n                        Icon = \"settings\",\n                        Route = nameof(AccountView),\n                        ContentTemplate = new DataTemplate(typeof(AccountView)),\n                    },\n                },\n            };\n\n            switch (status)\n            {\n                case \"Login\":\n                    Items.Add(loginTab);\n                    Items.Add(emailAuthenticationTab);\n                    Items.Add(syncDataTab);\n                    Items.Add(LoggedInBar);\n\n                    break;\n                case \"LoggedIn\":\n                    Items.Add(syncDataTab);\n                    Items.Add(LoggedInBar);\n                    Items.Add(loginTab);\n                    Items.Add(emailAuthenticationTab);\n                    break;\n                case \"EmailAuthentication\":\n                    Items.Add(emailAuthenticationTab);\n                    Items.Add(syncDataTab);\n                    Items.Add(LoggedInBar);\n                    Items.Add(loginTab);\n                    break;\n            }\n\n            // account\n            Routing.RegisterRoute(nameof(RegisterView), typeof(RegisterView));\n            Routing.RegisterRoute(nameof(ForgotPasswordView), typeof(ForgotPasswordView));\n            Routing.RegisterRoute(nameof(ChangePasswordView), typeof(ChangePasswordView));\n            Routing.RegisterRoute(nameof(EditProfileView), typeof(EditProfileView));\n            Routing.RegisterRoute(nameof(EditInterestsView), typeof(EditInterestsView));\n            Routing.RegisterRoute(nameof(NewProfileView), typeof(NewProfileView));\n            Routing.RegisterRoute(nameof(NewAgeAndInterestView), typeof(NewAgeAndInterestView));\n            Routing.RegisterRoute(\n                nameof(VerifyEmailForPasswordResetView),\n                typeof(VerifyEmailForPasswordResetView)\n            );\n            Routing.RegisterRoute(\n                nameof(ConfirmEmailToRegisterItView),\n                typeof(ConfirmEmailToRegisterItView)\n            );\n            Routing.RegisterRoute(nameof(ChangeMobileNumberView), typeof(ChangeMobileNumberView));\n            Routing.RegisterRoute(\n                nameof(VerifyRegisteredMobileNumberView),\n                typeof(VerifyRegisteredMobileNumberView)\n            );\n            Routing.RegisterRoute(nameof(NewProfileView), typeof(NewProfileView));\n\n            //onboarding\n            Routing.RegisterRoute(nameof(OnBoardPage1), typeof(OnBoardPage1));\n            Routing.RegisterRoute(nameof(OnBoardPage2), typeof(OnBoardPage2));\n            Routing.RegisterRoute(nameof(OnBoardPage3), typeof(OnBoardPage3));\n\n            //book\n            Routing.RegisterRoute(nameof(VenuesListView), typeof(VenuesListView));\n            Routing.RegisterRoute(nameof(BookingTimingView), typeof(BookingTimingView));\n            Routing.RegisterRoute(nameof(VenueDetailsView), typeof(VenueDetailsView));\n            Routing.RegisterRoute(nameof(PaymentSuccessView), typeof(PaymentSuccessView));\n            Routing.RegisterRoute(nameof(PaymentView), typeof(PaymentView));\n            Routing.RegisterRoute(nameof(TeamView), typeof(TeamView));\n\n            //connect\n            Routing.RegisterRoute(\n                nameof(ReviewPlannedBookingPopup),\n                typeof(ReviewPlannedBookingPopup)\n            );\n            Routing.RegisterRoute(nameof(JoinAGameView), typeof(JoinAGameView));\n            Routing.RegisterRoute(\n                nameof(ReviewGameBeforeApplyingView),\n                typeof(ReviewGameBeforeApplyingView)\n            );\n            Routing.RegisterRoute(nameof(JoinRequestsView), typeof(JoinRequestsView));\n            Routing.RegisterRoute(nameof(ChatView), typeof(ChatView));\n            Routing.RegisterRoute(nameof(PlannedBookingsListView), typeof(PlannedBookingsListView));\n            Routing.RegisterRoute(nameof(HostingSuccessView), typeof(HostingSuccessView));\n            Routing.RegisterRoute(nameof(PlanBookingView), typeof(PlanBookingView));\n            Routing.RegisterRoute(\n                nameof(ReviewGameBeforeJoiningPopup),\n                typeof(ReviewGameBeforeJoiningPopup)\n            );\n            Routing.RegisterRoute(nameof(JoiningSuccessView), typeof(JoiningSuccessView));\n\n            //others\n            Routing.RegisterRoute(nameof(NoInternetView), typeof(NoInternetView));\n            Routing.RegisterRoute(nameof(LearnView), typeof(LearnView));\n            Routing.RegisterRoute(nameof(CoachView), typeof(CoachView));\n            Routing.RegisterRoute(nameof(FeedbackEmailView), typeof(FeedbackEmailView));\n            Routing.RegisterRoute(nameof(NotificationView), typeof(NotificationView));\n\n            CheckConnectivity();\n#if ANDROID\n            // set status bar theme on startup.\n            SetStatusBarColor();\n#endif\n\n            // set status bar theme on theme change.\n            App.Current.RequestedThemeChanged += Current_RequestedThemeChanged;\n        }\n\n        private void Current_RequestedThemeChanged(object? sender, AppThemeChangedEventArgs e) =>\n            SetStatusBarColor();\n\n        /// <summary>\n        /// On theme change this method is called to set the status bar color and Tab Bar Unselected Color according to the theme.\n        /// </summary>\n        private void SetStatusBarColor()\n        {\n            if (App.Current.RequestedTheme == AppTheme.Dark)\n            {\n                //this.Behaviors.Add(new StatusBarBehavior\n                //{\n                //    StatusBarColor = Color.FromArgb(\"#23262A\"),\n                //    StatusBarStyle = StatusBarStyle.LightContent\n                //});\n\n                CommunityToolkit.Maui.Core.Platform.StatusBar.SetColor(Color.FromArgb(\"#23262A\"));\n                CommunityToolkit.Maui.Core.Platform.StatusBar.SetStyle(StatusBarStyle.LightContent);\n                Shell.SetTabBarUnselectedColor(this, Colors.White);\n            }\n            else\n            {\n                //this.Behaviors.Add(new StatusBarBehavior\n                //{\n                //    StatusBarColor = Colors.White,\n                //    StatusBarStyle = StatusBarStyle.DarkContent\n                //});\n                CommunityToolkit.Maui.Core.Platform.StatusBar.SetColor(Colors.White);\n                CommunityToolkit.Maui.Core.Platform.StatusBar.SetStyle(StatusBarStyle.DarkContent);\n                Shell.SetTabBarUnselectedColor(this, Colors.Black);\n            }\n        }\n\n        /// <summary>\n        /// this method clear all the pages from the navigation state when the user navigates to a new shell section (Tab). Thus when the user navigates to a any tab the user will always see the first page of the tab as the navigation stack is cleared.\n        /// </summary>\n        /// <param name=\"args\"></param>\n        protected override void OnNavigated(ShellNavigatedEventArgs args)\n        {\n            try\n            {\n                base.OnNavigated(args);\n                if (args.Source == ShellNavigationSource.ShellSectionChanged)\n                {\n                    List<Page> navigationStack = Navigation.NavigationStack.ToList();\n\n                    if (navigationStack?.Count > 0)\n                    {\n                        foreach (Page page in navigationStack)\n                            if (page != null)\n                            {\n                                Navigation.RemovePage(page);\n                            }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        // A method to ping a webserver after every second to check internet connectivity. If the user is not connected navigate the user to the NoInternetView and change the connectivityStatus to false. When interenet connectivity returns change the connectivityStatus to true and navigate the user to the last page he was on.\n        private async void CheckConnectivity()\n        {\n            try\n            {\n                this.Dispatcher.StartTimer(\n                    TimeSpan.FromSeconds(10),\n                    () =>\n                    {\n                        if (Connectivity.NetworkAccess != NetworkAccess.Internet)\n                        {\n                            if (\n                                Shell.Current.CurrentPage != null\n                                && Shell.Current.CurrentPage.GetType() != typeof(NoInternetView)\n                            )\n                            {\n                                Shell.Current.Navigation.PushAsync(new NoInternetView());\n                            }\n                        }\n                        return true;\n                    }\n                );\n            }\n            catch (Exception ex)\n            {\n                //  Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override bool OnBackButtonPressed()\n        {\n            string? currentPageRoute = Shell.Current.CurrentState.Location.ToString();\n\n            if (currentPageRoute.Contains(nameof(PaymentView))\n                || currentPageRoute.Contains(nameof(PaymentSuccessView))\n                || currentPageRoute.Contains(nameof(BookingTimingView)))\n            {\n                return true;\n            }\n\n            if (\n                currentPageRoute == $\"//LoggedInBar/{nameof(DashboardView)}\"\n                || currentPageRoute == $\"//LoggedInBar/{nameof(AvailableGamesView)}\"\n                || currentPageRoute == $\"//LoggedInBar/{nameof(ConnectView)}\"\n                || currentPageRoute == $\"//LoggedInBar/{nameof(MyBookingsView)}\"\n                || currentPageRoute == $\"//LoggedInBar/{nameof(AccountView)}\"\n            )\n            {\n                Shell.Current.GoToAsync(\"///LoggedInBar/DashboardView\");\n            }\n            else\n            {\n                Shell.Current.GoToAsync(\"..\");\n            }\n\n            return true;\n        }\n    }\n}\n","path":null,"size_bytes":12975,"size_tokens":null},"Player/Views/Connect/JoiningSuccessView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class JoiningSuccessView : ContentPage\n{\n    public JoiningSuccessView()\n    {\n        try\n        {\n            this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n            Content = new VerticalStackLayout\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.Center,\n                Spacing = 10,\n                Children =\n                {\n                    new Image\n                    {\n                        Source = \"booking_success\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    },\n                    new SemiBold24Label\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"Successful\",\n                    },\n                    new Regular14Label\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"A confirmation email will be sent soon\",\n                    },\n                    new MediumButton\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"Done\",\n                        Background = Colors.Transparent,\n                        BorderWidth = .5,\n                        WidthRequest = 100,\n                    }\n                        .AppThemeColorBinding(\n                            MediumButton.TextColorProperty,\n                            Colors.Black,\n                            Colors.White\n                        )\n                        .AppThemeColorBinding(\n                            MediumButton.BorderColorProperty,\n                            Colors.Black,\n                            Colors.White\n                        )\n                        .Margins(0, 20, 0, 0)\n                        .Invoke(button => button.Clicked += Button_Clicked),\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    private async void Button_Clicked(object? sender, EventArgs e)\n    {\n        await Shell.Current.GoToAsync($\"///{nameof(MyBookingsView)}\");\n    }\n}\n","path":null,"size_bytes":2301,"size_tokens":null},"Admin/ViewModels/Account/ChangeVendorPasswordViewModel.cs":{"content":"﻿namespace Admin.ViewModels.Account\n{\n    public partial class ChangeVendorPasswordViewModel : ObservableValidator\n    {\n        [ObservableProperty]\n        public string email = string.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmPassword))]\n        string password = string.Empty;\n\n        string confirmPassword = string.Empty;\n\n        [Required]\n        [Compare(nameof(Password), ErrorMessage = \"The confirm password is not equal to password\")]\n        public string ConfirmPassword\n        {\n            get => confirmPassword;\n            set => SetProperty(ref confirmPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string passwordError = string.Empty;\n\n        [ObservableProperty]\n        string confirmPasswordError = string.Empty;\n\n        private readonly IConnectivity? connectivity;\n        private readonly IPopupNavigation? popupNavigation;\n\n        public ChangeVendorPasswordViewModel(\n            IConnectivity connectivity,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.connectivity = connectivity;\n                this.popupNavigation = popupNavigation;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n\n                if (e == null || e.PropertyName == null || e.PropertyName.Contains(\"Error\"))\n                {\n                    return;\n                }\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.First().ErrorMessage ?? \"error\";\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(Password):\n                        PasswordError = errorMessage;\n                        break;\n                    case nameof(ConfirmPassword):\n                        ConfirmPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ResetPassword()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult validationResult in propertyErrors)\n                        {\n                            SetErrorValue(\n                                validationResult.MemberNames.ElementAt(0),\n                                validationResult.ErrorMessage\n                            );\n                        }\n                        return;\n                    }\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                await ResetVendorPasswordAsync();\n\n                await AlertHelper.ShowSnackBar(\"The new password has been reset\");\n\n                await popupNavigation.PopAsync();\n\n                Email = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task ResetVendorPasswordAsync()\n        {\n            AppConfiguration? appConfiguration = null;\n\n            string environment = AppConstants.Environment;\n            if (environment == \"development\")\n            {\n                appConfiguration = new AppConfiguration(\"vendor_dev-bmltl\");\n            }\n            else if (environment == \"production\")\n            {\n                appConfiguration = new AppConfiguration(\"vendor_prod-iozmv\");\n            }\n\n            Realms.Sync.App AdminRealmApp = Realms.Sync.App.Create(appConfiguration);\n            // reset password using function\n            await AdminRealmApp.EmailPasswordAuth.CallResetPasswordFunctionAsync(Email, Password);\n        }\n    }\n}\n","path":null,"size_bytes":5574,"size_tokens":null},"Admin/View/Account/ChangePasswordView.cs":{"content":"namespace Admin.View.Account;\n\npublic class ChangePasswordView : ContentPage\n{\n    public ChangePasswordView(ChangePasswordViewModel viewModel)\n    {\n        try\n        {\n            Title = \"Change Password\";\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n\n            Content = new VerticalStackLayout\n            {\n                Spacing = 10,\n                Padding = 20,\n\n                HorizontalOptions = LayoutOptions.Center,\n                Children =\n                {\n                    new Regular20Label { Text = \"New password\" }.Margins(10, 20, 0, 0),\n                    new DualImageBorderedEntry { WidthRequest = 500, HeightRequest = 70 }\n                        .Bind(DualImageBorderedEntry.EntryTextProperty, nameof(viewModel.Password), BindingMode.TwoWay, source: viewModel)\n                        .Margins(0, 0, 0, 0)\n                        .Row(BodyRow.second),\n                    new Regular16Label\n                    {\n                        TextColor = Colors.Red,\n                        LineBreakMode = LineBreakMode.WordWrap,\n                    }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            static (ChangePasswordViewModel vm) => vm.PasswordError,\n                            source: viewModel\n                        )\n                        .Bind(\n                            Label.IsVisibleProperty,\n                            nameof(viewModel.PasswordError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.third)\n                        .Margins(10, 0, 0, 0),\n                    new Regular20Label { Text = \"Confirm new password\" }.Margins(10, 20, 0, 0),\n                    new DualImageBorderedEntry { WidthRequest = 500, HeightRequest = 70 }\n                        .Bind(\n                            DualImageBorderedEntry.EntryTextProperty,\n                            nameof(viewModel.ConfirmPassword),\n                            BindingMode.TwoWay,\n                            source: viewModel\n                        )\n                        .Margins(0, 0, 0, 0)\n                        .Row(BodyRow.fourth),\n                    new Regular16Label\n                    {\n                        TextColor = Colors.Red,\n                        LineBreakMode = LineBreakMode.WordWrap,\n                    }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            static (ChangePasswordViewModel vm) => vm.ConfirmPasswordError,\n                            source: viewModel\n                        )\n                        .Bind(\n                            Label.IsVisibleProperty,\n                            nameof(viewModel.ConfirmPasswordError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.fifth)\n                        .Margins(10, 0, 0, 0),\n                    new RegularButton\n                    {\n                        Text = \"CHANGE PASSWORD\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                    }\n                        .BindCommand(static (ChangePasswordViewModel vm) => vm.ResetPasswordCommand, source: viewModel)\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.sixth),\n                    new RegularButton\n                    {\n                        Text = \"CANCEL\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                        Background = Colors.Black,\n                    }\n                        .BindCommand(static (ChangePasswordViewModel vm) => vm.CancelCommand, source: viewModel)\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.seventh),\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":4426,"size_tokens":null},"Dome.Shared/Services/Implementations/SecretsService.cs":{"content":"﻿using System.Reflection;\nusing Amazon;\nusing Amazon.Runtime;\nusing Amazon.SecretsManager;\nusing Amazon.SecretsManager.Extensions.Caching;\n\nnamespace Dome.Shared.Services.Implementations\n{\n    public class SecretsService : ISecretsService\n    {\n        private SecretsManagerCache? cache;\n\n        IConfiguration? configuration;\n\n        public string? TwilioAccountSid { get; set; }\n\n        public string? TwilioAccountAuthToken { get; set; }\n\n        public string? TwilioVerifyServiceSid { get; set; }\n\n        public string? SendGridAPIKey { get; set; }\n\n        public string? AWSS3AccessKey { get; set; }\n\n        public string? AWSS3SecretAccessKey { get; set; }\n\n        public string? AWSS3BucketName { get; set; }\n\n        public string? RealmPlayerAppId { get; set; }\n\n        public string? RealmAdminAppId { get; set; }\n\n        public string? RealmVendorAppId { get; set; }\n\n        public string? StripeSecretKey { get; set; }\n\n        public SecretsService()\n        {\n            var a = Assembly.GetExecutingAssembly();\n            using var stream = a.GetManifestResourceStream(\"Dome.Shared.appsettings.json\");\n            configuration = new ConfigurationBuilder().AddJsonStream(stream).Build();\n\n            string? accessKey = configuration[\"accessKey\"];\n            string? secretKey = configuration[\"secretKey\"];\n            string? region = configuration[\"region\"];\n\n            // AWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\n            // IAmazonSecretsManager amazonSecretsManager = new AmazonSecretsManagerClient(\n            //     credentials,\n            //     RegionEndpoint.GetBySystemName(region)\n            // );\n            // SecretCacheConfiguration cacheConfig = new SecretCacheConfiguration\n            // {\n            //     // the TTL cache refresh duration to 24 hours\n            //     CacheItemTTL = 86400000,\n            // };\n\n            // cache = new SecretsManagerCache(amazonSecretsManager, cacheConfig);\n        }\n\n        public async Task LoadAllSecrets()\n        {\n            string secretName = string.Empty;\n            string environment = AppConstants.Environment;\n\n            if (environment == \"production\")\n            {\n                // stripe\n                // StripeSecretKey = await GetSecret(\"prod/DomeMobile/StripeLiveSecretKey\");\n                // StripeSecretKey = await GetSecret(\"dev/DomeMobile/StripeTestSecretKey\");\n\n                // // mongo DB\n                // RealmPlayerAppId = await GetSecret(\"prod/DomeMobile/MongoDBAppId\");\n                // RealmAdminAppId = await GetSecret(\"prod/DomeAdmin/MongoDBAppId\");\n                // RealmVendorAppId = await GetSecret(\"prod/DomeVendor/MongoDBAppId\");\n\n                // stripe\n                //StripeSecretKey = configuration[\"stripeSecretKey\"];\n                StripeSecretKey = configuration[\"stripeSecretKey\"];\n\n                // mongo DB\n                RealmPlayerAppId = configuration[\"realmPlayerAppId\"];\n                RealmAdminAppId = configuration[\"realmAdminAppId\"];\n                RealmVendorAppId = configuration[\"realmVendorAppId\"];\n            }\n            else if (environment == \"development\")\n            {\n                // stripe\n                // StripeSecretKey = await GetSecret(\"dev/DomeMobile/StripeTestSecretKey\");\n\n                // // mongo DB\n                // RealmPlayerAppId = await GetSecret(\"dev/DomeMobile/MongoDBAppId\");\n                // RealmAdminAppId = await GetSecret(\"dev/DomeAdmin/MongoDBAppId\");\n                // RealmVendorAppId = await GetSecret(\"dev/DomeVendor/MongoDBAppId\");\n\n                StripeSecretKey = configuration[\"stripeSecretKeyDev\"];\n\n                // mongo DB\n                // RealmPlayerAppId = configuration[\"realmPlayerAppIdDev\"];\n                // RealmAdminAppId = configuration[\"realmAdminAppIdDev\"];\n                // RealmVendorAppId = configuration[\"realmVendorAppIdDev\"];\n\n                RealmPlayerAppId = configuration[\"realmPlayerAppId\"];\n                RealmAdminAppId = configuration[\"realmAdminAppId\"];\n                RealmVendorAppId = configuration[\"realmVendorAppId\"];\n            }\n\n            // twilio\n            TwilioAccountSid = configuration[\"twilioAccountSid\"];\n            TwilioAccountAuthToken = configuration[\"twilioAccountAuthToken\"];\n            TwilioVerifyServiceSid = configuration[\"twilioVerifyServiceSid\"];\n\n            // sendgrid\n            SendGridAPIKey = configuration[\"sendGridAPIKey\"];\n\n            // aws s3\n            AWSS3AccessKey = configuration[\"awsS3AccessKey\"];\n            AWSS3SecretAccessKey = configuration[\"awsS3SecretAccessKey\"];\n            AWSS3BucketName = configuration[\"awsS3BucketName\"];\n        }\n\n        public async Task<string> GetSecret(string secretName)\n        {\n            string response = string.Empty;\n\n            try\n            {\n                response = await cache.GetSecretString(secretName);\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n\n            return response;\n        }\n    }\n}\n","path":null,"size_bytes":5147,"size_tokens":null},"Admin/CustomControls/Entries/SingleImageBorderedEntry.cs":{"content":"namespace Admin.CustomControls.Entries;\n\npublic class SingleImageBorderedEntry : Border\n{\n    public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n        nameof(EntryText),\n        typeof(string),\n        typeof(SingleImageBorderedEntry),\n        string.Empty,\n        BindingMode.TwoWay\n    );\n\n    public string EntryText\n    {\n        get => (string)GetValue(EntryTextProperty);\n        set => SetValue(EntryTextProperty, value);\n    }\n\n    public static readonly BindableProperty ImgSourceProperty = BindableProperty.Create(\n        nameof(ImgSource),\n        typeof(string),\n        typeof(SingleImageBorderedEntry),\n        string.Empty,\n        BindingMode.TwoWay\n    );\n\n    public string ImgSource\n    {\n        get => (string)GetValue(ImgSourceProperty);\n        set => SetValue(ImgSourceProperty, value);\n    }\n\n    protected override void OnPropertyChanged([CallerMemberName] string? propertyName = null)\n    {\n        base.OnPropertyChanged(propertyName);\n        if (entry != null)\n        {\n            if (propertyName == EntryTextProperty.PropertyName)\n            {\n                entry.Text = EntryText;\n            }\n        }\n        if (image != null)\n            if (propertyName == ImgSourceProperty.PropertyName)\n            {\n                image.Source = ImgSource;\n            }\n    }\n\n    Entry entry;\n    Image image;\n\n    public SingleImageBorderedEntry()\n    {\n        StrokeThickness = .5;\n        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(30) };\n        Padding = new Thickness(0);\n        Background = Colors.Transparent;\n        this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n        entry = new Entry\n        {\n            FontFamily = \"InterRegular\",\n            FontSize = 25,\n            Background = Colors.Transparent,\n            HeightRequest = 70,\n            VerticalOptions = LayoutOptions.Fill,\n            HorizontalOptions = LayoutOptions.Fill,\n        }\n            .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n            .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n            .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n\n        this.AppThemeBinding(Entry.BackgroundProperty, Colors.White, Colors.Black);\n\n        image = new Image { Margin = new Thickness(5, 5, 0, 5) }.Bind(\n            Image.SourceProperty,\n            nameof(ImgSource),\n            BindingMode.TwoWay,\n            source: this\n        );\n\n        Content = new Grid\n        {\n            RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n            ColumnDefinitions = Columns.Define((BodyColumn.first, Auto), (BodyColumn.second, Star)),\n\n            Children = { image, entry.Column(BodyColumn.second) },\n        };\n    }\n}\n","path":null,"size_bytes":2833,"size_tokens":null},"Dome.Shared/Synced/Player/JoinRequest.cs":{"content":"using System;\n\nnamespace Dome.Shared.Synced.Player;\n\npublic partial class JoinRequest : IEmbeddedObject\n{\n    [MapTo(\"appliedBy\")]\n    public VenueUser? AppliedBy { get; set; }\n\n    [MapTo(\"isApproved\")]\n    public bool IsApproved { get; set; }\n\n    [MapTo(\"applicantMessage\")]\n    public string? ApplicantMessage { get; set; }\n}\n","path":null,"size_bytes":330,"size_tokens":null},"Player/ViewModels/LoadDataViewModel.cs":{"content":"﻿using CommunityToolkit.Maui.Core;\n\nnamespace Player.ViewModels\n{\n    public partial class LoadDataViewModel : ObservableObject\n    {\n        Realm realmInstance;\n\n        IRealmService realmService;\n        INavigationService navigationService;\n        IConnectivity connectivity;\n\n        public LoadDataViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n\n                if (App.Current.UserAppTheme == AppTheme.Dark)\n                {\n                    CommunityToolkit.Maui.Core.Platform.StatusBar.SetColor(\n                        Color.FromArgb(\"#23262A\")\n                    );\n                    CommunityToolkit.Maui.Core.Platform.StatusBar.SetStyle(\n                        StatusBarStyle.LightContent\n                    );\n                    Shell.SetTabBarUnselectedColor(Shell.Current, Colors.White);\n                }\n                else if (App.Current.UserAppTheme == AppTheme.Light)\n                {\n                    CommunityToolkit.Maui.Core.Platform.StatusBar.SetColor(Colors.White);\n                    CommunityToolkit.Maui.Core.Platform.StatusBar.SetStyle(\n                        StatusBarStyle.DarkContent\n                    );\n                    Shell.SetTabBarUnselectedColor(Shell.Current, Colors.Black);\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    // await  StartTimer();\n                }\n                realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n                await realmInstance.Subscriptions.WaitForSynchronizationAsync();\n\n                await FindNextView();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task FindNextView()\n        {\n            try\n            {\n                VenueUser? Player = realmInstance\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                if (\n                    Player == null\n                    || string.IsNullOrWhiteSpace(Player.FirstName)\n                    || string.IsNullOrWhiteSpace(Player.LastName)\n                    || string.IsNullOrWhiteSpace(Player.Email)\n                    || string.IsNullOrWhiteSpace(Player.MobileNumber)\n                    || string.IsNullOrWhiteSpace(Player?.Address?.Province)\n                    || string.IsNullOrWhiteSpace(Player.Address.City)\n                )\n                {\n                    await navigationService.NavigateToAsync(nameof(NewProfileView));\n                }\n                else if (Player.AgeGroup == null || Player.FavouriteGames.Count == 0)\n                {\n                    await navigationService.NavigateToAsync(nameof(NewAgeAndInterestView));\n                }\n                else\n                {\n                    await navigationService.NavigateToAsync(\"///LoggedInBar\");\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3727,"size_tokens":null},"Player/ViewModels/MyBookingsViewModel.cs":{"content":"﻿using CommunityToolkit.Maui.Core;\nusing CommunityToolkit.Maui.Extensions;\nusing Stripe;\n\nnamespace Player.ViewModels\n{\n    public partial class MyBookingsViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        ObservableCollection<PlannedBooking> plannedBookings;\n\n        [ObservableProperty]\n        ObservableCollection<byte[]> plannedBookingImages;\n\n        [ObservableProperty]\n        ObservableCollection<Booking> upComingBookings;\n\n        [ObservableProperty]\n        ObservableCollection<byte[]> upComingBookingImages;\n\n        [ObservableProperty]\n        ObservableCollection<Booking> pastBookings;\n\n        [ObservableProperty]\n        ObservableCollection<byte[]> pastBookingImages;\n\n        [ObservableProperty]\n        ObservableCollection<Booking> cancelledBookings;\n\n        [ObservableProperty]\n        ObservableCollection<byte[]> cancelledBookingImages;\n\n        [ObservableProperty]\n        Booking? selectedBooking;\n\n        [ObservableProperty]\n        int selectedIndex;\n\n        [ObservableProperty]\n        string? userName;\n\n        readonly Realm realm;\n\n        VenueUser? Player;\n\n        readonly IDisposable bookingsToken;\n\n        readonly IDisposable joinedBookingsToken;\n\n        readonly IDisposable plannedBookingsToken;\n\n        readonly IDisposable appliedBookings;\n\n        IDisposable? emailBookingsToken;\n\n        private readonly IImageService imageService;\n        private readonly IPopupNavigation popupNavigation;\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n        private readonly IStripeService stripeService;\n\n        public MyBookingsViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IImageService imageService,\n            IPopupNavigation popupNavigation,\n            IStripeService stripeService\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.imageService = imageService;\n                this.popupNavigation = popupNavigation;\n                this.stripeService = stripeService;\n\n                PlannedBookings = new ObservableCollection<PlannedBooking>();\n                UpComingBookings = new ObservableCollection<Booking>();\n                PastBookings = new ObservableCollection<Booking>();\n                CancelledBookings = new ObservableCollection<Booking>();\n\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n\n                realm = Realm.GetInstance(realmService.Config);\n\n                Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                // Observe collection notifications\n                bookingsToken = Player.Bookings.SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await FilterBookings();\n\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await FilterBookings();\n                            return;\n                        }\n                        foreach (int i in changes.NewModifiedIndices)\n                        {\n                            // ... handle modifications ...\n                            await FilterBookings();\n                            return;\n                        }\n                    }\n                );\n\n                // Observe collection notifications\n                joinedBookingsToken = Player.JoinedBookings.SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await FilterBookings();\n\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await FilterBookings();\n                            return;\n                        }\n                        foreach (int i in changes.NewModifiedIndices)\n                        {\n                            // ... handle modifications ...\n                            await FilterBookings();\n                            return;\n                        }\n                    }\n                );\n\n                // Observe collection notifications\n                plannedBookingsToken = Player.PlannedBookings.SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await FilterBookings();\n\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await FilterBookings();\n                            return;\n                        }\n                        foreach (int i in changes.NewModifiedIndices)\n                        {\n                            // ... handle modifications ...\n                            await FilterBookings();\n                            return;\n                        }\n                    }\n                );\n\n                // Observe collection notifications\n                appliedBookings = Player.AppliedBookings.SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await FilterBookings();\n\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await FilterBookings();\n                            return;\n                        }\n                        foreach (int i in changes.NewModifiedIndices)\n                        {\n                            // ... handle modifications ...\n                            await FilterBookings();\n                            return;\n                        }\n                    }\n                );\n\n                // Observe bookings matched by customerEmail for web-created bookings\n                if (!string.IsNullOrEmpty(Player?.Email))\n                {\n                    string playerEmail = Player.Email.ToLowerInvariant();\n                    IQueryable<Booking> emailBookings = realm\n                        .All<Booking>()\n                        .Where(b => b.CustomerEmail == playerEmail);\n\n                    emailBookingsToken = emailBookings.AsRealmCollection().SubscribeForNotifications(\n                        async (sender, changes) =>\n                        {\n                            if (changes == null)\n                                return;\n\n                            await FilterBookings();\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                UserName = Player?.FirstName;\n                PlayerImage = Player?.ProfileImage;\n                await FilterBookings();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        async Task FilterBookings()\n        {\n            try\n            {\n                ObservableCollection<JoinRequest> joinRequests =\n                    Player.AppliedBookings.ToObservableCollection();\n                PlannedBookings = Player.PlannedBookings.ToObservableCollection();\n                foreach (JoinRequest joinRequest in joinRequests)\n                {\n                    PlannedBooking plannedBooking = (PlannedBooking)joinRequest.Parent;\n                    plannedBooking.IsApplied = true;\n                    if (joinRequest.IsApproved == true)\n                    {\n                        plannedBooking.IsApproved = true;\n                    }\n                    PlannedBookings.Add(plannedBooking);\n                }\n                PlannedBookings = PlannedBookings\n                    .OrderByDescending(d => d.PlannedDate)\n                    .ToObservableCollection();\n\n                // Collect email-matched bookings (web-created bookings that may not have the player link set)\n                IEnumerable<Booking> emailMatchedBookings = Enumerable.Empty<Booking>();\n                if (!string.IsNullOrEmpty(Player?.Email))\n                {\n                    string playerEmail = Player.Email.ToLowerInvariant();\n                    emailMatchedBookings = realm\n                        .All<Booking>()\n                        .Where(b => b.CustomerEmail == playerEmail);\n                }\n\n                // --- Upcoming ---\n                IEnumerable<Booking> upComingJoinedBookings = Player.JoinedBookings.Where(b =>\n                    b.BookingStatus == Dome.Shared.Constants.AppConstants.Booked\n                );\n                UpComingBookings = Player\n                    .Bookings.Where(b => b.BookingStatus == AppConstants.Booked)\n                    .ToObservableCollection();\n                HashSet<ObjectId> upcomingIds = new HashSet<ObjectId>(UpComingBookings.Select(b => b.Id));\n                foreach (Booking booking in upComingJoinedBookings)\n                {\n                    if (!upcomingIds.Contains(booking.Id))\n                    {\n                        booking.IsJoined = true;\n                        UpComingBookings.Add(booking);\n                        upcomingIds.Add(booking.Id);\n                    }\n                }\n                foreach (Booking booking in emailMatchedBookings.Where(b => b.BookingStatus == AppConstants.Booked))\n                {\n                    if (!upcomingIds.Contains(booking.Id))\n                    {\n                        UpComingBookings.Add(booking);\n                        upcomingIds.Add(booking.Id);\n                    }\n                }\n                UpComingBookings = UpComingBookings\n                    .OrderByDescending(d => d.StartTime)\n                    .ToObservableCollection();\n\n                // --- Past ---\n                IEnumerable<Booking> pastJoinedBookings = Player.JoinedBookings.Where(b =>\n                    b.BookingStatus == Dome.Shared.Constants.AppConstants.Completed\n                );\n                PastBookings = Player\n                    .Bookings.Where(b => b.BookingStatus == AppConstants.Completed)\n                    .ToObservableCollection();\n                HashSet<ObjectId> pastIds = new HashSet<ObjectId>(PastBookings.Select(b => b.Id));\n                foreach (Booking booking in pastJoinedBookings)\n                {\n                    if (!pastIds.Contains(booking.Id))\n                    {\n                        booking.IsJoined = true;\n                        PastBookings.Add(booking);\n                        pastIds.Add(booking.Id);\n                    }\n                }\n                foreach (Booking booking in emailMatchedBookings.Where(b => b.BookingStatus == AppConstants.Completed))\n                {\n                    if (!pastIds.Contains(booking.Id))\n                    {\n                        PastBookings.Add(booking);\n                        pastIds.Add(booking.Id);\n                    }\n                }\n                PastBookings = PastBookings\n                    .OrderByDescending(d => d.StartTime)\n                    .ToObservableCollection();\n\n                // --- Cancelled ---\n                IEnumerable<Booking> cancelledJoinedBookings = Player.JoinedBookings.Where(b =>\n                    b.BookingStatus == Dome.Shared.Constants.AppConstants.Cancelled\n                );\n                CancelledBookings = Player\n                    .Bookings.Where(b => b.BookingStatus == AppConstants.Cancelled)\n                    .ToObservableCollection();\n                HashSet<ObjectId> cancelledIds = new HashSet<ObjectId>(CancelledBookings.Select(b => b.Id));\n                foreach (Booking booking in cancelledJoinedBookings)\n                {\n                    if (!cancelledIds.Contains(booking.Id))\n                    {\n                        booking.IsJoined = true;\n                        CancelledBookings.Add(booking);\n                        cancelledIds.Add(booking.Id);\n                    }\n                }\n                foreach (Booking booking in emailMatchedBookings.Where(b => b.BookingStatus == AppConstants.Cancelled))\n                {\n                    if (!cancelledIds.Contains(booking.Id))\n                    {\n                        CancelledBookings.Add(booking);\n                        cancelledIds.Add(booking.Id);\n                    }\n                }\n                CancelledBookings = CancelledBookings\n                    .OrderByDescending(d => d.StartTime)\n                    .ToObservableCollection();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Navigate to the team view when a booking is selected from the list of Purchased upcoming bookings\n        /// </summary>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task SelectionChanged()\n        {\n            if (SelectedBooking != null)\n            {\n                ShellNavigationQueryParameters query = new ShellNavigationQueryParameters\n                {\n                    { \"booking\", SelectedBooking },\n                };\n                await navigationService.NavigateToAsync(nameof(TeamView), query);\n            }\n\n            SelectedBooking = null;\n        }\n\n        /// <summary>\n        ///  Navigate to the join requests view when the review requests button is clicked from the planned booking\n        /// </summary>\n        /// <param name=\"plannedBooking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task ReviewRequests(PlannedBooking plannedBooking)\n        {\n            try\n            {\n                if (plannedBooking != null)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(JoinRequestsView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"plannedBookingId\", plannedBooking.Id },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n       \n\n        /// <summary>\n        /// Connect the game with the Planned Booking.\n        /// </summary>\n        /// <param name=\"booking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task ShareGame(Booking booking)\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(\n                    nameof(PlannedBookingsListView),\n                    new ShellNavigationQueryParameters { { \"Id\", booking.Id } }\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Quit the game when the user is joined in the game\n        /// </summary>\n        /// <param name=\"booking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task QuitGame(Booking booking)\n        {\n            try\n            {\n                bool result = await Shell.Current.DisplayAlert(\n                    \"Quit Game\",\n                    \"Are you sure you want to quit the game?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        booking.JoinedPlayers.Remove(Player);\n                    });\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        \n\n        /// <summary>\n        /// Cancel the upcoming purchased booking and initiate refund\n        /// </summary>\n        /// <param name=\"booking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task CancelBooking(Booking booking)\n        {\n            try\n            {\n                if (booking.AppliedCoupon != null || booking.IsFirstBookingCouponApplied)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Error\",\n                        \"You cannot cancel a discounted booking\",\n                        \"Okay\"\n                    );\n                    return;\n                }\n\n                bool result = await Shell.Current.DisplayAlert(\n                    \"Hey, Wait!!!\",\n                    \"Are you sure you want to cancel this \\n booking?\",\n                    \"Yes\",\n                    \"No\"\n                );\n\n                if (result)\n                {\n                    // call api to cancel booking and initiate refund\n                    string idInString = booking.Id.ToString();\n                    List<string> bookingIdsInString = new List<string> { idInString };\n\n                    RequestWithBookingIds request = new RequestWithBookingIds(\n                        bookingIds: bookingIdsInString,\n                        environment: AppConstants.Environment\n                    );\n\n                    CancelBookingResponse? cancelBookingResponse =\n                        await stripeService.CancelBooking(request);\n\n                    if (cancelBookingResponse.BookingIds != null)\n                    {\n                        await Shell.Current.DisplayAlert(\n                            \"Booking cancelled and refund has been initiated\",\n                            \"\",\n                            \"OK\"\n                        );\n                    }\n                    else if (cancelBookingResponse.BookingIds == null)\n                    {\n                        MainThread.BeginInvokeOnMainThread(() =>\n                            Shell.Current.DisplayAlert(\n                                \"API Error\",\n                                cancelBookingResponse?.Error,\n                                \"OK\"\n                            )\n                        );\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Cancel the planned booking\n        /// </summary>\n        /// <param name=\"plannedBooking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task CancelPlannedBooking(PlannedBooking plannedBooking)\n        {\n            try\n            {\n                bool result = await Shell.Current.DisplayAlert(\n                    \"Cancel Game\",\n                    \"Are you sure you want to cancel the game?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Remove(plannedBooking);\n                    });\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Quit the planned booking\n        /// </summary>\n        /// <param name=\"plannedBooking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task QuitPlannedBooking(PlannedBooking plannedBooking)\n        {\n            try\n            {\n                bool result = await Shell.Current.DisplayAlert(\n                    \"Quit Game\",\n                    \"Are you sure you want to quit the game?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    JoinRequest? joinRequest = plannedBooking\n                        .JoinRequests.Where(j => j.AppliedBy == Player)\n                        .FirstOrDefault();\n                    if (joinRequest != null)\n                    {\n                        await realm.WriteAsync(() =>\n                        {\n                            plannedBooking.JoinRequests.Remove(joinRequest);\n                        });\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Navigate to the chat view from the planned booking\n        /// </summary>\n        /// <param name=\"plannedBooking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task ChatFromPlannedBooking(PlannedBooking plannedBooking)\n        {\n            try\n            {\n                if (plannedBooking.IsApplied && !plannedBooking.IsApproved)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Not approved\",\n                        \"You can only chat with the team if your application is approved\",\n                        \"OK\"\n                    );\n                }\n                else\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(ChatView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"plannedBookingId\", plannedBooking.Id },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        /// <summary>\n        /// Navigate to the chat view from the purchased booking\n        /// </summary>\n        /// <param name=\"booking\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task ChatFromPurchasedBooking(Booking booking)\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(\n                    nameof(ChatView),\n                    new ShellNavigationQueryParameters { { \"purchasedBookingId\", booking.Id } }\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":25630,"size_tokens":null},"Player/Services/Interfaces/IAddToCartService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface IAddToCartService\n    {\n        Task<bool> IsSlotAvailableAsync(\n            ObjectId selectedVenueId,\n            string selectedFieldName,\n            DateTime selectedDate,\n            DateTime selectedStartTime,\n            DateTime selectedEndTime\n        );\n    }\n}\n","path":null,"size_bytes":335,"size_tokens":null},"Dome.Shared/Services/Implementations/TwilioService.cs":{"content":"﻿namespace Dome.Shared.Services.Implementations\n{\n    public class TwilioService : ITwilioService\n    {\n        readonly string? verifyServiceSid;\n\n        public TwilioService(ISecretsService secretsService)\n        {\n            string? accountSid = secretsService?.TwilioAccountSid;\n            string? authToken = secretsService?.TwilioAccountAuthToken;\n            verifyServiceSid = secretsService?.TwilioVerifyServiceSid;\n\n            //To take advantage of Twilio's Global Infrastructure, specify the target Region\n            // TwilioClient.SetRegion(\"us1\");\n            TwilioClient.Init(accountSid, authToken);\n        }\n\n        public async Task SendEmailOTP(string email)\n        {\n            VerificationResource verification = VerificationResource.Create(\n                to: email,\n                channel: \"email\",\n                pathServiceSid: verifyServiceSid\n            );\n        }\n\n        public async Task<string> VerifyEmailOTP(string email, string otp)\n        {\n            VerificationCheckResource verificationCheck = VerificationCheckResource.Create(\n                to: email,\n                code: otp,\n                pathServiceSid: verifyServiceSid\n            );\n\n            return verificationCheck.Status;\n        }\n\n        public async Task SendSMSOTP(string phoneNumber)\n        {\n            var verification = VerificationResource.Create(\n                to: phoneNumber,\n                channel: \"sms\",\n                pathServiceSid: verifyServiceSid\n            );\n        }\n\n        public async Task<string> VerifySMSOTP(string phoneNumber, string otp)\n        {\n            var verificationCheck = VerificationCheckResource.Create(\n                to: phoneNumber,\n                code: otp,\n                pathServiceSid: verifyServiceSid\n            );\n            return verificationCheck.Status;\n        }\n    }\n}\n","path":null,"size_bytes":1877,"size_tokens":null},"Dome.Shared/Services/Interfaces/Authentication/IRegistrationService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Interfaces.Authentication;\n\npublic interface IRegistrationService\n{\n    Task<ClientRegistrationFlow> CreateRegistrationFlow();\n\n    Task<ClientSuccessfulNativeRegistration> RegisterUser(\n        Dictionary<string, object> registrationTraits,\n        string registrationPassword,\n        string flowId\n    );\n}\n","path":null,"size_bytes":356,"size_tokens":null},"Player/Resources/VisualStates/SelectedItemVisualState.cs":{"content":"namespace Player.Resources.VisualStates\n{\n    public class SelectedItemVisualState : ResourceDictionary\n    {\n        public static Style BorderVisualState = new Style<Border>(\n            (\n                VisualStateManager.VisualStateGroupsProperty,\n                new VisualStateGroupList\n                {\n                    new VisualStateGroup\n                    {\n                        Name = nameof(VisualStateManager.CommonStates),\n                        States =\n                        {\n                            new VisualState\n                            {\n                                Name = VisualStateManager.CommonStates.Selected,\n                                Setters =\n                                {\n                                    new Setter\n                                    {\n                                        Property = Border.BackgroundProperty,\n                                        Value = Color.FromArgb(\"#EF2F50\"),\n                                    },\n                                    //new Setter\n                                    //{\n                                    //    TargetName=\"label\",\n                                    //    Property = Label.TextColorProperty,\n                                    //    Value = Colors.White,\n                                    //},\n                                },\n                            },\n                            new VisualState\n                            {\n                                Name = VisualStateManager.CommonStates.Normal,\n                                Setters =\n                                {\n                                    new Setter\n                                    {\n                                        Property = Border.BackgroundProperty,\n                                        Value = Colors.LightGray,\n                                    },\n                                    // new Setter\n                                    //{\n                                    //    TargetName=\"label\",\n                                    //    Property = Label.TextColorProperty,\n                                    //    Value = Colors.Black,\n                                    //},\n                                },\n                            },\n                        },\n                    },\n                }\n            ),\n            (Border.StrokeThicknessProperty, 0),\n            (Border.PaddingProperty, 10),\n            (Border.StrokeShapeProperty, new RoundRectangle { CornerRadius = new CornerRadius(8) })\n        ).ApplyToDerivedTypes(true);\n    }\n}\n","path":null,"size_bytes":2631,"size_tokens":null},"Player/Models/APIServer/CreateBookingsRequest.cs":{"content":"﻿\n\nnamespace Player.Models.APIServer\n{\n    public class CreateBookingsRequest\n    {\n        public CreateBookingsRequest(List<NewBooking> bookingData, string environment)\n        {\n            BookingData = bookingData;\n            Environment = environment;\n        }\n\n        [JsonPropertyName(\"bookingData\")]\n        public List<NewBooking> BookingData { get; set; }\n\n        [JsonPropertyName(\"environment\")]\n        public string Environment { get; set; }\n    }\n}\n","path":null,"size_bytes":471,"size_tokens":null},"Player/Views/Account/AccountBaseView.cs":{"content":"namespace Player.Views.Account\n{\n    public class AccountBaseView : ContentPage\n    {\n        public AccountBaseView(AccountBaseViewModel viewModel)\n        {\n            try\n            {\n                this.AppThemeBinding(\n                    ContentPage.BackgroundProperty,\n                    Colors.White,\n                    Colors.Black\n                );\n\n                BindingContext = viewModel;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":574,"size_tokens":null},"Player/Views/Account/LoginView.cs":{"content":"namespace Player.Views.Account;\n\npublic class LoginView : AccountBaseView\n{\n    public LoginView(LoginViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 165),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto),\n                        (BodyRow.seventh, Auto),\n                        (BodyRow.eighth, Auto),\n                        (BodyRow.ninth, Auto),\n                        (BodyRow.tenth, Star)\n                    ),\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first),\n                        new ExtraBold28Label { Text = \"Log In\" }\n                            .Row(BodyRow.second)\n                            .Margins(20, 10, 20, 10),\n                        new SingleImageBorderedEntry { PlaceholderText = \"Email Address\" }\n                            .AppThemeBinding(\n                                SingleImageBorderedEntry.ImgSourceProperty,\n                                \"email_light_theme.png\",\n                                \"email_dark_theme.png\"\n                            )\n                            .Row(BodyRow.third)\n                            .Margins(20, 20, 20, 10)\n                            .Bind(\n                                SingleImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.Email),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            ),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Label.TextProperty,\n                                nameof(viewModel.EmailError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.EmailError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fourth)\n                            .Margins(20, 0, 20, 10),\n                        new DualImageBorderedEntry { PlaceholderText = \"Password\" }\n                            .Bind(\n                                DualImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.Password),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fifth)\n                            .Margins(20, 20, 20, 10),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Label.TextProperty,\n                                nameof(viewModel.PasswordError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.PasswordError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.sixth)\n                            .Margins(20, 0, 20, 10),\n                        new Button\n                        {\n                            Text = \"Forgot Password?\",\n                            Background = Colors.Transparent,\n                            FontSize = 10,\n                            FontFamily = \"InterSemiBold\",\n                            TextColor = Color.FromArgb(\"#EF2F50\"),\n                            HorizontalOptions = LayoutOptions.End,\n                            VerticalOptions = LayoutOptions.Start,\n                        }\n                            .BindCommand(nameof(viewModel.ForgotPasswordCommand), source: viewModel)\n                            .Row(BodyRow.seventh)\n                            .Margins(20, 0, 20, 10),\n                        new MediumButton { Text = \"LOG IN\", WidthRequest = 257 }\n                            .BindCommand(nameof(viewModel.LoginCommand), source: viewModel)\n                            .Row(BodyRow.eighth)\n                            .Margins(20, 20, 20, 10),\n                        new CompanyNameControl().Row(BodyRow.ninth).Margins(40, 80, 0, 0),\n                        new Label\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            VerticalOptions = LayoutOptions.End,\n                            FormattedText = new FormattedString\n                            {\n                                Spans =\n                                {\n                                    new Span\n                                    {\n                                        Text = \"Don't have an account? \",\n                                        FontFamily = \"InterMedium\",\n                                        FontSize = 14,\n                                    }.AppThemeBinding(\n                                        Span.TextColorProperty,\n                                        Colors.Black,\n                                        Color.FromArgb(\"#BBBBBB\")\n                                    ),\n                                    new Span\n                                    {\n                                        Text = \"Sign Up\",\n                                        TextColor = Color.FromArgb(\"#EF2F50\"),\n                                        FontFamily = \"InterBold\",\n                                        FontSize = 14,\n                                    }.BindTapGesture(\n                                        nameof(viewModel.SignUpCommand),\n                                        commandSource: viewModel\n                                    ),\n                                },\n                            },\n                        }\n                            .Row(BodyRow.tenth)\n                            .Margins(0, 2, 0, 0),\n                    },\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":6737,"size_tokens":null},"Player/Services/Interfaces/IStripeService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface IStripeService\n    {\n        Task<CustomerCreateResponse?> CreateCustomer(CustomerCreateRequest customerCreateRequest);\n\n        Task<ValidateAvailabilityResponse?> CreateBooking(CreateBookingsRequest request);\n\n        Task<PaymentIntentCreateResponse?> FetchPaymentIntent(RequestWithBookingIds request);\n\n        Task<CancelPaymentIntentResponse?> CancelPaymentIntent(RequestWithBookingIds request);\n\n        Task<CancelBookingResponse?> CancelBooking(RequestWithBookingIds request);\n    }\n}\n","path":null,"size_bytes":557,"size_tokens":null},"Player/Models/APIServer/APIResponse.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public class APIResponse<T>\n    {\n        public bool Success { get; set; }\n        public string? Message { get; set; }\n        public T? Data { get; set; }\n    }\n}\n","path":null,"size_bytes":209,"size_tokens":null},"Player/Models/Chat/LoadMessagesResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class LoadMessagesResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"author\")]\n    public string? Author { get; set; }\n\n    [JsonPropertyName(\"body\")]\n    public string? Body { get; set; }\n\n    [JsonPropertyName(\"timestamp\")]\n    public string? TimeStamp { get; set; }\n\n    [Ignored]\n    public bool IsMine { get; set; }\n\n    [Ignored]\n    public string? DateSend { get; set; }\n\n    [Ignored]\n    public string? TimeSend { get; set; }\n\n    [Ignored]\n    public string? AuthorName { get; set; }\n}\n","path":null,"size_bytes":604,"size_tokens":null},"Admin/Popups/TimePopup.cs":{"content":"using System.Threading.Tasks;\n\nnamespace Admin.Popups;\n\npublic class TimePopup : Popup<DateTimeOffset>\n{\n    int hour = 0;\n    int minute = 0;\n\n    public TimePopup()\n    {\n        try\n        {\n            Resources.Add(\n                new Style<Border>(\n                    (\n                        VisualStateManager.VisualStateGroupsProperty,\n                        new VisualStateGroupList\n                        {\n                            new VisualStateGroup\n                            {\n                                Name = nameof(VisualStateManager.CommonStates),\n                                States =\n                                {\n                                    new VisualState\n                                    {\n                                        Name = VisualStateManager.CommonStates.Selected,\n                                        Setters =\n                                        {\n                                            new Setter\n                                            {\n                                                Property = Border.BackgroundProperty,\n                                                Value = Color.FromArgb(\"#EF2F50\"),\n                                            },\n                                        },\n                                    },\n                                    new VisualState\n                                    {\n                                        Name = VisualStateManager.CommonStates.Normal,\n                                        Setters =\n                                        {\n                                            new Setter\n                                            {\n                                                Property = Border.BackgroundProperty,\n                                                Value = Colors.Gray,\n                                            },\n                                        },\n                                    },\n                                },\n                            },\n                        }\n                    ),\n                    (Border.StrokeThicknessProperty, 0),\n                    (Border.PaddingProperty, new Thickness(8, 4)),\n                    (\n                        Border.StrokeShapeProperty,\n                        new RoundRectangle { CornerRadius = new CornerRadius(10) }\n                    )\n                )\n            );\n\n            // Color = Color.FromArgb(\"#F3F4F6\");\n\n            WidthRequest = 420;\n            HeightRequest = 600;\n\n            ObservableCollection<LocalTimeData> HourList = new ObservableCollection<LocalTimeData>\n            {\n                new LocalTimeData(time: 0),\n                new LocalTimeData(time: 1),\n                new LocalTimeData(time: 2),\n                new LocalTimeData(time: 3),\n                new LocalTimeData(time: 4),\n                new LocalTimeData(time: 5),\n                new LocalTimeData(time: 6),\n                new LocalTimeData(time: 7),\n                new LocalTimeData(time: 8),\n                new LocalTimeData(time: 9),\n                new LocalTimeData(time: 10),\n                new LocalTimeData(time: 11),\n                new LocalTimeData(time: 12),\n                new LocalTimeData(time: 13),\n                new LocalTimeData(time: 14),\n                new LocalTimeData(time: 15),\n                new LocalTimeData(time: 16),\n                new LocalTimeData(time: 17),\n                new LocalTimeData(time: 18),\n                new LocalTimeData(time: 19),\n                new LocalTimeData(time: 20),\n                new LocalTimeData(time: 21),\n                new LocalTimeData(time: 22),\n                new LocalTimeData(time: 23),\n            };\n\n            CollectionView hoursCollection = new CollectionView\n            {\n                ItemsSource = HourList,\n                SelectionMode = SelectionMode.Single,\n                ItemsLayout = new GridItemsLayout(6, ItemsLayoutOrientation.Vertical)\n                {\n                    HorizontalItemSpacing = 5,\n                    VerticalItemSpacing = 5,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        Content = new Regular18Label { HorizontalOptions = LayoutOptions.Center }\n                            .Bind(Regular18Label.TextProperty, static (LocalTimeData data) => data.Time)\n                            .AppThemeBinding(\n                                Regular16Label.TextColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            ),\n                    };\n                }),\n            };\n            hoursCollection.SelectedItem = HourList[0];\n\n            //hoursCollection.SelectionChanged -= HoursCollection_SelectionChanged;\n            hoursCollection.SelectionChanged += HoursCollection_SelectionChanged;\n\n            ObservableCollection<LocalTimeData> MinuteList = new ObservableCollection<LocalTimeData>\n            {\n                new LocalTimeData(time: 0),\n                new LocalTimeData(time: 30),\n            };\n\n            CollectionView minutesCollection = new CollectionView\n            {\n                // ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                SelectionMode = SelectionMode.Single,\n                HorizontalOptions = LayoutOptions.Start,\n                ItemsLayout = new GridItemsLayout(1, ItemsLayoutOrientation.Vertical)\n                {\n                    HorizontalItemSpacing = 5,\n                    VerticalItemSpacing = 5,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        Content = new Regular18Label\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            VerticalOptions = LayoutOptions.Center,\n                        }\n                            .Bind(Regular18Label.TextProperty, static (LocalTimeData data) => data.Time)\n                            .AppThemeBinding(\n                                Regular16Label.TextColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            ),\n                    };\n                }),\n\n                ItemsSource = MinuteList,\n            };\n            // minutesCollection.SelectionChanged -= MinutesCollection_SelectionChanged;\n            minutesCollection.SelectionChanged += MinutesCollection_SelectionChanged;\n            minutesCollection.SelectedItem = MinuteList[0];\n\n            Content = new VerticalStackLayout\n            {\n                Padding = new Thickness(20),\n                Children =\n                {\n                    new Bold20Label { Text = \"Select Hour\" },\n                    hoursCollection.Margins(0, 10, 0, 0),\n                    new Bold20Label { Text = \"Select Minute\" }.Margins(0, 20, 0, 0),\n                    minutesCollection.Margins(0, 10, 0, 0),\n                    new RegularButton { Text = \"DONE\" }\n                        .Invoke(button => button.Clicked += DoneButton_Clicked)\n                        .Margins(0, 50, 0, 0),\n                    new RegularButton { Text = \"Cancel\", Background = Colors.Black }\n                        .Invoke(button => button.Clicked += CancelButton_Clicked)\n                        .Margins(0, 10, 0, 0),\n                },\n            }.AppThemeBinding(VisualElement.BackgroundProperty, Colors.White, Colors.Black);\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void DoneButton_Clicked(object? sender, EventArgs e)\n    {\n        DateTimeOffset date = new DateTimeOffset(\n            2020,\n            2,\n            2,\n            hour,\n            minute,\n            0,\n            new TimeSpan(0, 0, 0)\n        );\n        await CloseAsync(date);\n    }\n\n    private async void CancelButton_Clicked(object? sender, EventArgs e)\n    {\n        await CloseAsync();\n    }\n\n    private void HoursCollection_SelectionChanged(object? sender, SelectionChangedEventArgs e)\n    {\n        LocalTimeData? localTimeData = e.CurrentSelection.FirstOrDefault() as LocalTimeData;\n        if (localTimeData != null)\n        {\n            hour = localTimeData.Time;\n        }\n    }\n\n    private void MinutesCollection_SelectionChanged(object? sender, SelectionChangedEventArgs e)\n    {\n        LocalTimeData? localTimeData = e.CurrentSelection.FirstOrDefault() as LocalTimeData;\n        if (localTimeData != null)\n        {\n            minute = localTimeData.Time;\n        }\n    }\n}\n","path":null,"size_bytes":8820,"size_tokens":null},"Admin/View/Account/AuthenticateEmailForLoginView.cs":{"content":"namespace Admin.View.Account;\n\npublic class AuthenticateEmailForLoginView : ContentPage\n{\n    private readonly AuthenticateEmailForLoginViewModel viewModel;\n\n    public AuthenticateEmailForLoginView(AuthenticateEmailForLoginViewModel viewModel)\n    {\n        try\n        {\n            Title = \"Authenticate Email\";\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            this.viewModel = viewModel;\n            Shell.SetFlyoutBehavior(this, FlyoutBehavior.Disabled);\n            Content = new VerticalStackLayout\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                Margin = new Thickness(20, 10, 20, 10),\n                Children =\n                {\n                    new BorderedEntry\n                    {\n                        PlaceholderText = \"Enter OTP here\",\n                        WidthRequest = 500,\n                        HeightRequest = 70,\n                    }\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                    new Regular16Label { }\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span { Text = \"You can resend the OTP after \" },\n                                new Span { TextColor = Colors.Red }.Bind(\n                                    Span.TextProperty,\n                                    static (AuthenticateEmailForLoginViewModel vm) => vm.TimeLeft,\n                                    source: viewModel\n                                ),\n                                new Span { Text = \" seconds\" },\n                            }\n                        )\n                        .Bind(IsVisibleProperty, static (AuthenticateEmailForLoginViewModel vm) => vm.TimerStarted, source: viewModel),\n                    new RegularButton\n                    {\n                        Text = \"Send OTP\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                    }\n                        .Bind(\n                            RegularButton.BackgroundProperty,\n                            static (AuthenticateEmailForLoginViewModel vm) => vm.SendButtonColor,\n                            source: viewModel\n                        )\n                        .BindCommand(static (AuthenticateEmailForLoginViewModel vm) => vm.SendEmailOTPCommand, source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                    new RegularButton\n                    {\n                        Text = \"Authenticate Email\",\n                        WidthRequest = 300,\n                        HeightRequest = 50,\n                        FontSize = 25,\n                    }\n                        .BindCommand(static (AuthenticateEmailForLoginViewModel vm) => vm.VerifyEmailOTPCommand, source: viewModel)\n                        .Margins(0, 20, 0, 0),\n                },\n            };\n\n            BindingContext = viewModel;\n\n            Loaded += AuthenticateEmailForLoginView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    private async void AuthenticateEmailForLoginView_Loaded(object? sender, EventArgs e)\n    {\n        viewModel.SendEmailOTPCommand.Execute(null);\n    }\n}\n","path":null,"size_bytes":3588,"size_tokens":null},"Player/Views/NoInternetView.cs":{"content":"namespace Player.Views;\n\npublic class NoInternetView : ContentPage\n{\n    NoInternetViewModel? viewModel;\n\n    public NoInternetView()\n    {\n        try\n        {\n            this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n            NoInternetViewModel? viewModel =\n                Shell.Current.Handler?.MauiContext?.Services.GetRequiredService<NoInternetViewModel>();\n            Shell.SetTabBarIsVisible(this, false);\n            this.viewModel = viewModel;\n            Content = new VerticalStackLayout\n            {\n                VerticalOptions = LayoutOptions.Center,\n                Padding = 20,\n                Children =\n                {\n                    new Image { }.AppThemeBinding(Image.SourceProperty, \"cat_white\", \"cat_black\"),\n                    new ExtraBold32Label\n                    {\n                        TextColor = Color.FromArgb(\"#5F5F5F\"),\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"Oooops!\",\n                    }.Margins(0, 40, 0, 20),\n                    new Medium14Label\n                    {\n                        TextColor = Color.FromArgb(\"#5F5F5F\"),\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"No Internet Connection Found\",\n                    },\n                    new Medium12Label\n                    {\n                        TextColor = Color.FromArgb(\"#5F5F5F\"),\n                        HorizontalOptions = LayoutOptions.Center,\n                        Text = \"Please check your connection\",\n                    },\n                    new MediumButton\n                    {\n                        Text = \"Try Again\",\n                        FontFamily = \"InterMedium\",\n                        FontSize = 15,\n                        HeightRequest = 50,\n                    }\n                        .BindCommand(static (NoInternetViewModel vm) => vm.CheckConnectivityCommand, source: viewModel)\n                        .Margins(45, 40, 45, 0),\n                },\n            };\n\n            BindingContext = viewModel;\n\n            Loaded += NoInternetView_Loaded;\n\n            Unloaded += NoInternetView_Unloaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void NoInternetView_Loaded(object? sender, EventArgs e)\n    {\n        if (viewModel != null)\n            await viewModel.StartTimer();\n    }\n\n    private async void NoInternetView_Unloaded(object? sender, EventArgs e)\n    {\n        if (viewModel != null)\n            await viewModel.StopTimer();\n    }\n}\n","path":null,"size_bytes":2670,"size_tokens":null},"Player/ViewModels/NoInternetViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class NoInternetViewModel : ObservableObject\n    {\n        private readonly IConnectivity connectivity;\n        private readonly INavigationService navigationService;\n        PeriodicTimer? timer;\n\n        public NoInternetViewModel(IConnectivity connectivity, INavigationService navigationService)\n        {\n            this.connectivity = connectivity;\n            this.navigationService = navigationService;\n        }\n\n        public async Task StartTimer()\n        {\n            try\n            {\n                timer = new PeriodicTimer(TimeSpan.FromSeconds(5));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    await CheckConnectivity();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task StopTimer()\n        {\n            try\n            {\n                timer?.Dispose();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        public async Task CheckConnectivity()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess == NetworkAccess.Internet)\n                {\n                    await navigationService.PopAsync();\n                    timer.Dispose();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1684,"size_tokens":null},"Player/ViewModels/Account/RegisterViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class RegisterViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        string email = String.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmPassword))]\n        string password = String.Empty;\n\n        string confirmPassword = String.Empty;\n\n        [Required]\n        [Compare(nameof(Password), ErrorMessage = \"Passwords do not match\")]\n        public string ConfirmPassword\n        {\n            get => confirmPassword;\n            set => SetProperty(ref confirmPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string passwordError = string.Empty;\n\n        [ObservableProperty]\n        string confirmPasswordError = string.Empty;\n\n        private readonly INavigationService navigationService;\n        private readonly IConnectivity connectivity;\n        private readonly IPopupNavigation? popupNavigation;\n\n        public RegisterViewModel(\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            IPopupNavigation? popupNavigation\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n                this.popupNavigation = popupNavigation;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == null)\n                {\n                    return;\n                }\n                if (e.PropertyName.Contains(\"Error\"))\n                    return;\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.FirstOrDefault()?.ErrorMessage;\n                    if (errorMessage != null)\n                        SetErrorValue(e.PropertyName, errorMessage);\n                    else\n                        SetErrorValue(e.PropertyName, \"error\");\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(Email):\n                        EmailError = errorMessage;\n                        break;\n                    case nameof(Password):\n                        PasswordError = errorMessage;\n                        break;\n                    case nameof(ConfirmPassword):\n                        ConfirmPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RegisterUser()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n\n                    foreach (ValidationResult result in propertyErrors)\n                    {\n                        if (result.ErrorMessage != null)\n                            SetErrorValue(result.MemberNames.ElementAt(0), result.ErrorMessage);\n                        else\n                            SetErrorValue(result.MemberNames.ElementAt(0), \"error\");\n                    }\n                }\n                else if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                }\n                else\n                {\n                    Email = Email.ToLower();\n                    await navigationService.NavigateToAsync(\n                        nameof(ConfirmEmailToRegisterItView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"UserEmail\", Email },\n                            { \"Password\", Password },\n                        }\n                    );\n                    Email = string.Empty;\n                    Password = string.Empty;\n                    ConfirmPassword = string.Empty;\n                }\n\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task SignIn()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///{nameof(LoginView)}\");\n                Email = string.Empty;\n                Password = string.Empty;\n                ConfirmPassword = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6330,"size_tokens":null},"Dome.Shared/Local/Country.cs":{"content":"﻿namespace Dome.Shared.Local\n{\n    /// <summary>\n    /// the country model is used to bind the country's phone code and flag image with the UI when filling the user's mobile number\n    /// </summary>\n    public class Country\n    {\n        public Country(string countryName, string code, string flagImage)\n        {\n            CountryName = countryName;\n            Code = code;\n            FlagImage = flagImage;\n        }\n\n        public string CountryName { get; set; }\n\n        public string Code { get; set; }\n\n        public string FlagImage { get; set; }\n    }\n}\n","path":null,"size_bytes":572,"size_tokens":null},"Dome.Shared/Local/VenueDate.cs":{"content":"﻿namespace Dome.Shared.Local\n{\n    /// <summary>\n    /// represent dates and times when booking a venue in vendor and mobile app\n    /// </summary>\n    public partial class VenueDate : ObservableObject\n    {\n        public VenueDate(DateTimeOffset date)\n        {\n            Date = date;\n        }\n\n        public DateTimeOffset Date { get; set; }\n\n        [ObservableProperty]\n        bool isSelected;\n\n        [ObservableProperty]\n        string timeStatus;\n    }\n}\n","path":null,"size_bytes":471,"size_tokens":null},"Player/ViewModels/Connect/ChatViewModel.cs":{"content":"using System;\nusing Player.Models.Chat;\n\nnamespace Player.ViewModels.Connect;\n\npublic partial class ChatViewModel : BaseViewModel, IQueryAttributable\n{\n    [ObservableProperty]\n    public PlannedBooking? futureBooking;\n\n    [ObservableProperty]\n    public Booking? purchasedBooking;\n\n    [ObservableProperty]\n    string? venueName;\n\n    [ObservableProperty]\n    string? bookingInformation;\n\n    [ObservableProperty]\n    bool isHost;\n\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    [ObservableProperty]\n    string? text;\n\n    [ObservableProperty]\n    bool displayJoinButton;\n\n    [ObservableProperty]\n    string? cityProvince;\n\n    [ObservableProperty]\n    ObservableCollection<LoadMessagesResponse>? messages;\n\n    //string? conversationId;\n\n    string? userEmail;\n\n    VenueUser player;\n\n    PeriodicTimer? timer;\n\n    Realm realm;\n\n    private readonly INavigationService navigationService;\n\n    private readonly IRealmService realmService;\n\n    private readonly IConnectivity connectivity;\n\n    private readonly IChatService chatService;\n\n    private readonly IPopupNavigation popupNavigation;\n\n    public ChatViewModel(\n        INavigationService navigationService,\n        IRealmService realmService,\n        IConnectivity connectivity,\n        IChatService chatService,\n        IPopupNavigation popupNavigation\n    )\n        : base(navigationService, realmService, connectivity)\n    {\n        this.navigationService = navigationService;\n        this.realmService = realmService;\n        this.connectivity = connectivity;\n        this.chatService = chatService;\n        this.popupNavigation = popupNavigation;\n\n        Messages = new ObservableCollection<LoadMessagesResponse>();\n\n        realm = Realm.GetInstance(realmService.Config);\n\n        player = realm.All<VenueUser>().First(x => x.OwnerId == realmService.RealmUser.Id);\n        userEmail = realmService.RealmUser.Profile.Email;\n    }\n\n    public async void ApplyQueryAttributes(IDictionary<string, object> query)\n    {\n        try\n        {\n            if (query.TryGetValue(\"plannedBookingId\", out object? id))\n            {\n                if (id != null)\n                {\n                    ObjectId objectId = ObjectId.Parse(id.ToString());\n                    FutureBooking = realm.Find<PlannedBooking>(objectId);\n                    await Initialize();\n                }\n            }\n            if (query.TryGetValue(\"purchasedBookingId\", out object? bookingId))\n            {\n                if (bookingId != null)\n                {\n                    ObjectId objectId = ObjectId.Parse(bookingId.ToString());\n                    PurchasedBooking = realm.Find<Booking>(objectId);\n                    await Initialize();\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    public async Task Initialize()\n    {\n        try\n        {\n            if (FutureBooking != null)\n            {\n                VenueName = FutureBooking.SelectedVenue.FullName;\n                string date = FutureBooking.PlannedDate.ToString(\"dd, MMM, yyyy\");\n                string timing = FutureBooking.TimingDisplay;\n                string playerCount = FutureBooking.NumberOfPlayers.ToString();\n                BookingInformation = $\"{date} | {timing} | {playerCount} players\";\n                IsHost = FutureBooking.Host.OwnerId == realmService.RealmUser.Id;\n                // conversationId= FutureBooking.ConversationId;\n                if (!IsHost && FutureBooking.ConnectedBooking != null)\n                {\n                    DisplayJoinButton = true;\n                    PurchasedBooking = FutureBooking.ConnectedBooking;\n                    CityProvince =\n                        $\"{PurchasedBooking.Venue.Address.City}, {PurchasedBooking.Venue.Address.Province}\";\n                }\n            }\n            else if (PurchasedBooking != null)\n            {\n                VenueName = PurchasedBooking.Venue.FullName;\n                string date = PurchasedBooking.StartTime.ToString(\"dd, MMM, yyyy\");\n                string startTime = PurchasedBooking.StartTime.ToString(\"HH:mm\");\n                string endTime = PurchasedBooking.EndTime.ToString(\"HH:mm\");\n                string timing = $\"{startTime} - {endTime}\";\n                string playerCount = PurchasedBooking.NumberOfPlayersRequiredForHosting.ToString();\n                BookingInformation = $\"{date} | {timing} | {playerCount} players\";\n                IsHost = PurchasedBooking.Player.OwnerId == realmService.RealmUser.Id;\n                // conversationId= PurchasedBooking.ConversationId;\n            }\n\n            if (player != null)\n            {\n                PlayerImage = player.ProfileImage;\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    public async Task LoadMessages()\n    {\n        try\n        {\n            //a new conversation Id is created whenever a user joins a game in JoinRequestsViewModel\n            string conversationId = string.Empty;\n            if (FutureBooking != null)\n            {\n                conversationId = FutureBooking.ConversationId;\n            }\n            else if (PurchasedBooking != null)\n            {\n                conversationId = PurchasedBooking.ConversationId;\n            }\n            if (!string.IsNullOrWhiteSpace(conversationId))\n            {\n                timer ??= new(TimeSpan.FromSeconds(3));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    List<LoadMessagesResponse?> apiResponse = await chatService.LoadMessages(\n                        conversationId\n                    );\n                    if (apiResponse == null)\n                    {\n                        return;\n                    }\n                    // because every api call returns the entire list of messages, we need to keep track of the messages that have already been loaded and only load the new messages\n                    int localMessageCount = Messages.Count;\n                    int remoteMessageCount = apiResponse.Count;\n                    DateTime previousDate = DateTime.Today;\n                    while (localMessageCount < remoteMessageCount)\n                    {\n                        LoadMessagesResponse remoteMessage = apiResponse.ElementAt(\n                            localMessageCount\n                        );\n                        DateTime messageDate = DateTime.Parse(remoteMessage.TimeStamp);\n                        remoteMessage.TimeSend = messageDate.ToString(\"HH:mm\");\n                        if (\n                            messageDate.Date < DateTime.Today\n                            && (\n                                previousDate.Date == DateTime.Today\n                                || previousDate.Date != messageDate.Date\n                            )\n                        )\n                        {\n                            previousDate = messageDate;\n                            remoteMessage.DateSend = messageDate.ToString(\"dd, MMM, yyyy\");\n                        }\n                        else if (\n                            messageDate.Date == DateTime.Today\n                            && previousDate.Date != DateTime.Today\n                        )\n                        {\n                            previousDate = messageDate;\n                            remoteMessage.DateSend = \"Today\";\n                        }\n                        else\n                        {\n                            remoteMessage.DateSend = string.Empty;\n                        }\n                        if (remoteMessage.Author == userEmail)\n                        {\n                            remoteMessage.IsMine = true;\n                        }\n\n                        remoteMessage.AuthorName = realm\n                            .All<VenueUser>()\n                            .Where(x => x.Email == remoteMessage.Author)\n                            .First()\n                            .FullName;\n\n                        Messages.Insert(localMessageCount, remoteMessage);\n                        localMessageCount++;\n                    }\n                }\n                ;\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    public async Task Unload()\n    {\n        try\n        {\n            timer?.Dispose();\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    [RelayCommand]\n    public async Task JoinGame()\n    {\n        try\n        {\n            if (PurchasedBooking != null)\n            {\n                if (PurchasedBooking.JoinedPlayers.Contains(player))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Joined\",\n                        \"You have already joined this game\",\n                        \"OK\"\n                    );\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new ReviewGameBeforeJoiningPopup(this));\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// This method is called when the user clicks on the join button in the ReviewGameBeforeJoiningPopup. The user is added to the list of joined players in the shared booking\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task Join()\n    {\n        try\n        {\n            Booking booking = FutureBooking.ConnectedBooking;\n            // one seat is reserved for the host so the joined players should be equal to the number of players required for hosting minus 1\n            if (booking.NumberOfPlayersRequiredForHosting - 1 == booking.JoinedPlayers.Count)\n            {\n                await popupNavigation.PopAllAsync();\n                await Shell.Current.DisplayAlert(\n                    \"Seats Full\",\n                    \"the required number of players have already joined\",\n                    \"OK\"\n                );\n            }\n            else\n            {\n                await realm.WriteAsync(() =>\n                {\n                    booking.JoinedPlayers.Add(player);\n                });\n                await popupNavigation.PopAllAsync();\n            }\n        }\n        catch (Exception ex)\n        {\n            await popupNavigation.PopAllAsync();\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Cancel()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    public async Task Review()\n    {\n        try\n        {\n            if (FutureBooking != null)\n            {\n                await navigationService.NavigateToAsync(\n                    nameof(JoinRequestsView),\n                    new ShellNavigationQueryParameters { { \"plannedBookingId\", FutureBooking.Id } }\n                );\n            }\n            else if (PurchasedBooking != null)\n            {\n                await navigationService.NavigateToAsync(\n                    nameof(JoinRequestsView),\n                    new ShellNavigationQueryParameters\n                    {\n                        { \"purchasedBookingId\", PurchasedBooking.Id },\n                    }\n                );\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    public async Task SendMessage()\n    {\n        try\n        {\n            if (!string.IsNullOrWhiteSpace(Text))\n            {\n                //a new conversation Id is created whenever a user joins a game in JoinRequestsViewModel\n                string conversationId = string.Empty;\n                if (FutureBooking != null)\n                {\n                    conversationId = FutureBooking.ConversationId;\n                }\n                else if (PurchasedBooking != null)\n                {\n                    conversationId = PurchasedBooking.ConversationId;\n                }\n                SendMessageResponse? apiResponse = await chatService.SendMessage(\n                    userEmail,\n                    conversationId,\n                    Text\n                );\n                if (apiResponse != null)\n                {\n                    if (apiResponse.Status == \"Message sent\")\n                    {\n                        Text = string.Empty;\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task NavigateBack()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":13319,"size_tokens":null},"Dome.Shared/Services/Implementations/Authentication/RecoveryService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Implementations.Authentication;\n\npublic class RecoveryService\n{\n    private readonly FrontendApi _frontendApi;\n\n    public RecoveryService()\n    {\n        var configuration = new Configuration { BasePath = AppConstants.BaseUrl };\n\n        _frontendApi = new FrontendApi(configuration);\n    }\n\n    public async Task<ClientRecoveryFlow> CreateRecoveryFlow()\n    {\n        try\n        {\n            return await _frontendApi.CreateNativeRecoveryFlowAsync();\n        }\n        catch (ApiException e)\n        {\n            Console.WriteLine($\"Error creating registration flow: {e.Message}\");\n            throw;\n        }\n    }\n\n    public async Task<ClientRecoveryFlow> RecoverPassword(string email, string flowId)\n    {\n        try\n        {\n            var recoveryBody = new ClientUpdateRecoveryFlowBody(\n                new ClientUpdateRecoveryFlowWithLinkMethod(\n                    method: ClientUpdateRecoveryFlowWithLinkMethod.MethodEnum.Link,\n                    email: email\n                )\n            );\n\n            return await _frontendApi.UpdateRecoveryFlowAsync(flowId, recoveryBody);\n        }\n        catch (ApiException e)\n        {\n            Console.WriteLine($\"Error recovering password: {e.Message}\");\n            throw;\n        }\n    }\n}\n","path":null,"size_bytes":1307,"size_tokens":null},"Admin/Platforms/MacCatalyst/AppDelegate.cs":{"content":"﻿using Foundation;\n\nnamespace Admin;\n\n[Register(\"AppDelegate\")]\npublic class AppDelegate : MauiUIApplicationDelegate\n{\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":202,"size_tokens":null},"Admin/Services/Implementations/SettingsService.cs":{"content":"﻿namespace Admin.Services.Implementations\n{\n    public class SettingsService : ISettingsService\n    {\n        // keys\n        private const string IsEmailVerificationPendingKey = \"isEmailVerificationPending\";\n\n        //Dafault Values\n        private readonly bool IsEmailVerificationPendingDefault = false;\n\n        //Properties\n        public bool IsEmailVerificationPending\n        {\n            get =>\n                Preferences.Get(IsEmailVerificationPendingKey, IsEmailVerificationPendingDefault);\n            set => Preferences.Set(IsEmailVerificationPendingKey, value);\n        }\n    }\n}\n","path":null,"size_bytes":599,"size_tokens":null},"Dome.Shared/Services/Implementations/Authentication/LoginStatusService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Implementations.Authentication;\n\npublic class LoginStatusService : ILoginStatusService\n{\n    private readonly FrontendApi _frontendApi;\n\n    private readonly ISecureStorage _secureStorage;\n\n    public bool IsLoggedIn { get; set; }\n\n    public LoginStatusService(ISecureStorage secureStorage)\n    {\n        var configuration = new Configuration { BasePath = AppConstants.BaseUrl };\n\n        _frontendApi = new FrontendApi(configuration);\n        _secureStorage = secureStorage;\n\n        Task.Run(async () => await IsUserLoggedIn()).GetAwaiter().GetResult();\n    }\n\n    public async Task IsUserLoggedIn()\n    {\n        string? sessionToken = await _secureStorage.GetAsync(\"sessionToken\");\n        if (sessionToken == null)\n        {\n            IsLoggedIn = false;\n            return;\n        }\n        ClientSession session = await _frontendApi.ToSessionAsync(sessionToken);\n\n        IsLoggedIn = session != null;\n    }\n}\n","path":null,"size_bytes":967,"size_tokens":null},"Player/Views/OnBoarding/OnBoardPage2.cs":{"content":"namespace Player.Views.OnBoarding;\n\npublic class OnBoardPage2 : ContentPage\n{\n    INavigationService navigationService;\n\n    public OnBoardPage2(INavigationService navigationService)\n    {\n        this.navigationService = navigationService;\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n        Content = new ScrollView\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto)\n                ),\n\n                Children =\n                {\n                    new Image { HorizontalOptions = LayoutOptions.Start }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"dome_logo.png\",\n                            \"dome_logo_white.png\"\n                        )\n                        .Row(BodyRow.first)\n                        .Margins(23, 24, 0, 16),\n                    new Image { Source = \"onboardsecondimage.png\" }\n                        .Row(BodyRow.second)\n                        .Margins(0, 0, 0, 0),\n                    new Bold30Label { Text = \"Find sport facilities \\naround you\" }\n                        .Row(BodyRow.third)\n                        .Margins(36, 33, 0, 0),\n                    new Medium16Label\n                    {\n                        Text =\n                            \"Effortlessly discover sports venues and book them with a few clicks!\",\n                    }\n                        .Row(BodyRow.fourth)\n                        .Margins(36, 7, 39, 0),\n                    new MediumButton\n                    {\n                        Text = \"Next\",\n                        HeightRequest = 40,\n                        WidthRequest = 308,\n                        HorizontalOptions = LayoutOptions.Center,\n                        CornerRadius = 20,\n                    }\n                        .Invoke(button => button.Clicked += Button_Clicked)\n                        .Margins(0, 60, 0, 15)\n                        .Row(BodyRow.fifth),\n                    new Regular16Label\n                    {\n                        Text = \"BACK\",\n                        HorizontalOptions = LayoutOptions.Center,\n                        TextDecorations = TextDecorations.Underline,\n                    }\n                        .Invoke(label =>\n                        {\n                            label.GestureRecognizers.Add(\n                                new TapGestureRecognizer\n                                {\n                                    Command = new Command(async () =>\n                                        await navigationService.PopAsync()\n                                    ),\n                                }\n                            );\n                        })\n                        .Row(BodyRow.sixth),\n                },\n            },\n        };\n    }\n\n    private async void Button_Clicked(object? sender, EventArgs e)\n    {\n        await navigationService.NavigateToAsync(nameof(OnBoardPage3));\n    }\n}\n","path":null,"size_bytes":3293,"size_tokens":null},"Player/ViewModels/Book/VenuesListViewModel.cs":{"content":"﻿using Dome.Shared.Synced;\n\nnamespace Player.ViewModels\n{\n    public partial class VenuesListViewModel : BaseViewModel, IQueryAttributable\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string? selectedGameName;\n\n        [ObservableProperty]\n        byte[]? selectedGameImage;\n\n        [ObservableProperty]\n        byte[]? lightGameImage;\n\n        [ObservableProperty]\n        byte[]? darkGameImage;\n\n        [ObservableProperty]\n        string? selectedCityName;\n\n        [ObservableProperty]\n        Venue? choosenVendor;\n\n        [ObservableProperty]\n        string? searchQuery;\n\n        [ObservableProperty]\n        ObservableCollection<Venue>? filteredVendors;\n\n        VenueUser? venueUser;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly ILocationService? locationService;\n        private readonly IImageService? imageService;\n\n        private readonly Realm? realm;\n\n        readonly IDisposable? venuesToken;\n\n        public VenuesListViewModel(\n            ILocationService locationService,\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            IImageService imageService\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n                this.locationService = locationService;\n                this.imageService = imageService;\n\n                realm = Realm.GetInstance(realmService.Config);\n                FilteredVendors = new ObservableCollection<Venue>();\n\n                venueUser = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                // Observe collection notifications\n                venuesToken = realm\n                    .All<Venue>()\n                    .SubscribeForNotifications(\n                        async (sender, changes) =>\n                        {\n                            if (changes == null)\n                            {\n                                // This is the case when the notification is called\n                                // for the first time.\n                                // Populate tableview/listview with all the items\n                                // from `collection`\n\n                                return;\n                            }\n                            //Handle individual changes\n\n                            foreach (int i in changes.DeletedIndices)\n                            {\n                                // ... handle deletions ...\n\n                                await FilterVenues();\n                                return;\n                            }\n                            foreach (int i in changes.InsertedIndices)\n                            {\n                                // ... handle insertions ...\n\n                                await FilterVenues();\n                                return;\n                            }\n                            foreach (int i in changes.NewModifiedIndices)\n                            {\n                                // ... handle modifications ...\n                                await FilterVenues();\n                                return;\n                            }\n                        }\n                    );\n\n                App.Current.RequestedThemeChanged += Current_RequestedThemeChanged;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void Current_RequestedThemeChanged(object? sender, AppThemeChangedEventArgs e)\n        {\n            await SetImages();\n        }\n\n        partial void OnSearchQueryChanged(string? value)\n        {\n            try\n            {\n                FilterVenues();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                if (query.TryGetValue(nameof(SelectedGameName), out object? gameName))\n                {\n                    if (gameName != null)\n                    {\n                        if (gameName is string)\n                        {\n                            SelectedGameName = gameName.ToString();\n                            await FilterVenues();\n                        }\n                    }\n                }\n\n                if (query.TryGetValue(nameof(SelectedCityName), out object? cityName))\n                {\n                    if (cityName != null)\n                    {\n                        if (cityName is string)\n                        {\n                            SelectedCityName = cityName.ToString();\n                            await FilterVenues();\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task SetImages()\n        {\n            AppTheme Theme = App.Current.RequestedTheme;\n            if (Theme == AppTheme.Dark)\n            {\n                SelectedGameImage = DarkGameImage;\n            }\n            else\n            {\n                SelectedGameImage = LightGameImage;\n            }\n        }\n\n        public async Task LoadData()\n        {\n            PlayerImage = venueUser?.ProfileImage;\n            Game? game = realm\n                ?.All<Game>()\n                .Where(n => n.GameName == SelectedGameName)\n                .FirstOrDefault();\n            if (game != null)\n            {\n                LightGameImage = game.LightModeGameIcon;\n                DarkGameImage = game.DarkModeGameIcon;\n                await SetImages();\n            }\n        }\n\n        async Task FilterVenues()\n        {\n            try\n            {\n                IEnumerable<Venue> AllVendors = realm.All<Venue>();\n                if (SelectedCityName == null && SelectedGameName != null)\n                {\n                    FilteredVendors = AllVendors\n                        ?.Where(a => a.AvailableGames.Any(n => n.Name == SelectedGameName))\n                        .ToObservableCollection();\n                    if (!string.IsNullOrWhiteSpace(SearchQuery))\n                    {\n                        FilteredVendors = FilteredVendors\n                            ?.Where(a =>\n                                a.FullName.Contains(\n                                    SearchQuery,\n                                    StringComparison.CurrentCultureIgnoreCase\n                                )\n                                || a.Address.City.Contains(\n                                    SearchQuery,\n                                    StringComparison.CurrentCultureIgnoreCase\n                                )\n                            )\n                            .ToObservableCollection();\n                    }\n                }\n                else if (\n                    SelectedGameName != null\n                    && SelectedCityName != null\n                    && string.IsNullOrWhiteSpace(SearchQuery)\n                )\n                {\n                    FilteredVendors = AllVendors\n                        ?.Where(a => a.AvailableGames.Any(n => n.Name == SelectedGameName))\n                        .OrderBy(i => i.IsPromoted)\n                        .ToObservableCollection();\n                    FilteredVendors = FilteredVendors\n                        ?.Where(a => a.Address?.City == SelectedCityName)\n                        .OrderBy(i => i.IsPromoted)\n                        .ToObservableCollection();\n                }\n\n                foreach (Venue venue in FilteredVendors)\n                {\n                    foreach (AvailableGame availableGame in venue.AvailableGames)\n                    {\n                        if (availableGame.Name == SelectedGameName)\n                        {\n                            string? imageName = availableGame.FirstImageName;\n                            if (!string.IsNullOrEmpty(imageName))\n                            {\n                                byte[]? imageBytes = await imageService.GetImageFromLocalStorageAsync(\n                                    imageName\n                                );\n                                if (imageBytes == null)\n                                {\n                                    await imageService.DownloadImageFromAWSS3Async(imageName);\n                                    imageBytes = await imageService.GetImageFromLocalStorageAsync(\n                                        imageName\n                                    );\n                                }\n                                venue.SelectedGamesImage = imageBytes;\n                            }\n                            venue.SelectedGamesName = availableGame.Name;\n                            this.OnPropertyChanged(nameof(venue));\n                            break;\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VenueDetails(Venue venue)\n        {\n            try\n            {\n                // the parameter ChoosenVendor is coming from the SelectableItemsView.SelectedItemProperty in the VenuesListView.cs\n                if (ChoosenVendor != null)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VenueDetailsView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"gameName\", SelectedGameName },\n                            { \"venueId\", ChoosenVendor.Id },\n                        }\n                    );\n                    ChoosenVendor = null;\n                }\n\n                // the parameter venue is coming from the Image Button in the VenuesListView.cs\n                if (venue != null)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VenueDetailsView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"gameName\", SelectedGameName },\n                            { \"venueId\", venue.Id },\n                        }\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":11510,"size_tokens":null},"Dome.Shared/Synced/Province.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the province is a class that represents the province where the Sport Venue is located. The provinces are pre stored in the database and the admin select the province where the venue is located from all the stored provinces while creating the venue.\n    /// </summary>\n    public partial class Province : IRealmObject\n    {\n        private Province() { }\n\n        public Province(ObjectId id, string provinceName)\n        {\n            Id = id;\n            ProvinceName = provinceName;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"provinceName\")]\n        public string ProvinceName { get; set; }\n\n        //embedded\n        [MapTo(\"cities\")]\n        public IList<City> Cities { get; }\n    }\n}\n","path":null,"size_bytes":820,"size_tokens":null},"Player/Views/Account/NewProfileView.cs":{"content":"namespace Player.Views.Account;\n\npublic class NewProfileView : AccountBaseView\n{\n    NewProfileViewModel viewModel;\n\n    public NewProfileView(NewProfileViewModel viewModel)\n        : base(viewModel)\n    {\n        this.viewModel = viewModel;\n\n        CustomPicker cityPicker = new CustomPicker { }\n            .Bind(CustomPicker.PickerItemSourceProperty, static (NewProfileViewModel vm) => vm.Cities, source: viewModel)\n            .Bind(\n                CustomPicker.CustomPickerSelectedItemProperty,\n                static (NewProfileViewModel vm) => vm.SelectedCity,\n                source: viewModel,\n                mode: BindingMode.TwoWay\n            )\n            .Margins(20, 10, 10, 0);\n        cityPicker.picker.ItemDisplayBinding = new Binding(nameof(City.CityName));\n\n        CustomPicker provincePicker = new CustomPicker { }\n            .Bind(CustomPicker.PickerItemSourceProperty, static (NewProfileViewModel vm) => vm.AllProvinces, source: viewModel)\n            .Bind(\n                CustomPicker.CustomPickerSelectedItemProperty,\n                static (NewProfileViewModel vm) => vm.SelectedProvince,\n                source: viewModel,\n                mode: BindingMode.TwoWay\n            )\n            .Margins(10, 10, 20, 0);\n        provincePicker.picker.ItemDisplayBinding = new Binding(nameof(Province.ProvinceName));\n\n        Content = new ScrollView\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, 165),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto),\n                    (BodyRow.tenth, Auto),\n                    (BodyRow.eleventh, Auto),\n                    (BodyRow.twelfth, Auto)\n                ),\n\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Star),\n                    (BodyColumn.second, Star)\n                ),\n\n                Children =\n                {\n                    new AccountTopControl().Row(BodyRow.first).ColumnSpan(2),\n                    new ExtraBold28Label { Text = \"Create Profile\" }\n                        .Margins(20, 20, 0, 0)\n                        .Row(BodyRow.second)\n                        .ColumnSpan(2),\n                    new AvatarView\n                    {\n                        BorderWidth = 1,\n                        BorderColor = Colors.Black,\n                        Background = Colors.White,\n                        WidthRequest = 130,\n                        HeightRequest = 130,\n                        CornerRadius = 65,\n                        Padding = 0,\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Bind(\n                            AvatarView.ImageSourceProperty,\n                            nameof(viewModel.PlayerImage),\n                            converter: new ByteArrayToImageSourceConverter(),\n                            targetNullValue: \"profile_image_fallback\"\n                        )\n                        .BindTapGesture(nameof(viewModel.AddImageCommand))\n                        .Row(BodyRow.third)\n                        .ColumnSpan(2),\n                    new BorderedEntry { PlaceholderText = \"First Name\" }\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.FirstName), BindingMode.TwoWay, source: viewModel)\n                        .Margins(20, 20, 20, 0)\n                        .Row(BodyRow.fourth)\n                        .ColumnSpan(2),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.FirstNameError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.FirstNameError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.fifth)\n                        .ColumnSpan(2)\n                        .Margins(20, 0, 20, 0),\n                    new BorderedEntry { PlaceholderText = \"Last Name\" }\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.LastName), BindingMode.TwoWay, source: viewModel)\n                        .Margins(20, 10, 20, 0)\n                        .Row(BodyRow.sixth)\n                        .ColumnSpan(2),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.LastNameError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.LastNameError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.seventh)\n                        .ColumnSpan(2)\n                        .Margins(20, 0, 20, 0),\n                    new Border\n                    {\n                        StrokeThickness = .5,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Padding = new Thickness(0),\n                        Stroke = Brush.Black,\n                        Content = new HorizontalStackLayout\n                        {\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Label\n                                {\n                                    Margin = new Thickness(5, 7, 0, 7),\n                                    VerticalOptions = LayoutOptions.Center,\n                                    FontSize = 20,\n                                }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        $\"{nameof(viewModel.SelectedCountry)}.{nameof(viewModel.SelectedCountry.FlagImage)}\",\n                                        source: viewModel\n                                    )\n                                    .AppThemeBinding(\n                                        Label.TextColorProperty,\n                                        Colors.Black,\n                                        Colors.White\n                                    ),\n                                new Medium15Label { VerticalOptions = LayoutOptions.Center }.Bind(\n                                    Medium15Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedCountry)}.{nameof(viewModel.SelectedCountry.Code)}\",\n                                    source: viewModel\n                                ),\n                                new CustomEntry\n                                {\n                                    Placeholder = \"Mobile Number\",\n                                    Keyboard = Keyboard.Telephone,\n                                    VerticalOptions = LayoutOptions.Center,\n                                }.Bind(Entry.TextProperty, static (NewProfileViewModel vm) => vm.MobileNumber, source: viewModel),\n                            },\n                        }.Margins(10, 0, 0, 0),\n                    }\n                        .AppThemeBinding(\n                            Border.BackgroundProperty,\n                            Colors.White,\n                            Color.FromArgb(\"#23262A\")\n                        )\n                        .Margins(20, 10, 20, 0)\n                        .Row(BodyRow.eighth)\n                        .ColumnSpan(2),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.MobileNumberError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.MobileNumberError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.ninth)\n                        .ColumnSpan(2)\n                        .Margins(20, 0, 20, 0),\n                    cityPicker.Row(BodyRow.tenth).Column(BodyColumn.first),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.CityError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.CityError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.eleventh)\n                        .Column(BodyColumn.first)\n                        .Margins(10, 0, 20, 0),\n                    provincePicker.Row(BodyRow.tenth).Column(BodyColumn.second),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.ProvinceError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.ProvinceError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.eleventh)\n                        .Column(BodyColumn.second)\n                        .Margins(10, 0, 20, 0),\n                    new MediumButton\n                    {\n                        Text = \"NEXT\",\n                        WidthRequest = 284,\n                        HeightRequest = 47,\n                    }\n                        .Row(BodyRow.twelfth)\n                        .ColumnSpan(2)\n                        .BindCommand(nameof(viewModel.SaveCommand), source: viewModel)\n                        .Margins(0, 50, 0, 0),\n                },\n            },\n        };\n\n        Loaded += NewProfileView_Loaded;\n    }\n\n    private async void NewProfileView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.InitializeAsync();\n    }\n}\n","path":null,"size_bytes":11134,"size_tokens":null},"Admin/CustomControls/Labels/CutomBoldLabel.cs":{"content":"﻿namespace Admin.CustomControls.Labels\n{\n    public class CutomBoldLabel : Label\n    {\n        public CutomBoldLabel()\n        {\n            FontFamily = \"InterBold\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class Bold10Label : CutomBoldLabel\n    {\n        public Bold10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class Bold12Label : CutomBoldLabel\n    {\n        public Bold12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class Bold14Label : CutomBoldLabel\n    {\n        public Bold14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class Bold16Label : CutomBoldLabel\n    {\n        public Bold16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class Bold18Label : CutomBoldLabel\n    {\n        public Bold18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class Bold20Label : CutomBoldLabel\n    {\n        public Bold20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class Bold22Label : CutomBoldLabel\n    {\n        public Bold22Label()\n        {\n            FontSize = 22;\n        }\n    }\n\n    public class Bold24Label : CutomBoldLabel\n    {\n        public Bold24Label()\n        {\n            FontSize = 24;\n        }\n    }\n\n    public class Bold32Label : CutomBoldLabel\n    {\n        public Bold32Label()\n        {\n            FontSize = 32;\n        }\n    }\n\n    public class Bold40Label : CutomBoldLabel\n    {\n        public Bold40Label()\n        {\n            FontSize = 40;\n        }\n    }\n}\n","path":null,"size_bytes":1676,"size_tokens":null},"Dome.Shared/Services/Interfaces/Authentication/ILoginStatusService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Interfaces.Authentication;\n\npublic interface ILoginStatusService\n{\n    bool IsLoggedIn { get; set; }\n}\n","path":null,"size_bytes":149,"size_tokens":null},"Player/Popups/JoinGameConfirmPopup.cs":{"content":"using System.Threading.Tasks;\nusing CommunityToolkit.Maui.Extensions;\n\nnamespace Player.Popups;\n\npublic class JoinGameConfirmPopup : Popup<bool>\n{\n    public JoinGameConfirmPopup()\n    {\n        Background = Colors.Transparent;\n\n        Content = new Border\n        {\n            HorizontalOptions = LayoutOptions.Center,\n            VerticalOptions = LayoutOptions.Center,\n            StrokeThickness = 0,\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(16) },\n            Stroke = new SolidColorBrush(Color.FromArgb(\"#020202\")),\n            Padding = new Thickness(26, 16, 38, 21),\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto)\n                ),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Star),\n                    (BodyColumn.second, Star)\n                ),\n                ColumnSpacing = 15,\n                Children =\n                {\n                    new ExtraBold20Label { Text = \"Way to Go!\" }\n                        .Row(BodyRow.first)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new ExtraBold12Label { Text = \"Are you sure you want to join this game?\" }\n                        .Row(BodyRow.second)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new MediumButton\n                    {\n                        Text = \"Yes\",\n                        FontSize = 11,\n                        CornerRadius = 16,\n                    }\n                        .Invoke(yesButton => yesButton.Clicked += YesButton_Clicked)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.first)\n                        .Margins(0, 25, 0, 0),\n                    new MediumButton\n                    {\n                        Text = \"No\",\n                        FontSize = 11,\n                        Background = Colors.Black,\n                        BorderColor = Color.FromArgb(\"#EF2F50\"),\n                        CornerRadius = 16,\n                    }\n                        .Invoke(noButton => noButton.Clicked += NoButton_Clicked)\n                        .AppThemeBinding(MediumButton.BorderWidthProperty, 0, 1)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.second)\n                        .Margins(0, 25, 0, 0),\n                },\n            },\n        }\n            .AppThemeBinding(\n                Border.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            )\n            .AppThemeBinding(Border.StrokeThicknessProperty, 0, 1);\n    }\n\n    private async void NoButton_Clicked(object? sender, EventArgs e)\n    {\n        await CloseAsync(false);\n    }\n\n    private async void YesButton_Clicked(object? sender, EventArgs e)\n    {\n        await CloseAsync(true);\n    }\n}\n","path":null,"size_bytes":3084,"size_tokens":null},"Player/Platforms/iOS/Program.cs":{"content":"﻿using UIKit;\n\nnamespace Player\n{\n    public class Program\n    {\n        // This is the main entry point of the application.\n        static void Main(string[] args)\n        {\n            // if you want to use a different Application Delegate class from \"AppDelegate\"\n            // you can specify it here.\n            UIApplication.Main(args, null, typeof(AppDelegate));\n        }\n    }\n}\n","path":null,"size_bytes":392,"size_tokens":null},"Player/Models/APIServer/CustomerCreateRequest.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public class CustomerCreateRequest\n    {\n        public CustomerCreateRequest(string customerName, string customerEmail, string environment)\n        {\n            CustomerName = customerName;\n            CustomerEmail = customerEmail;\n            Environment = environment;\n        }\n\n        [JsonPropertyName(\"customerName\")]\n        public string CustomerName { get; set; }\n\n        [JsonPropertyName(\"customerEmail\")]\n        public string CustomerEmail { get; set; }\n\n        [JsonPropertyName(\"environment\")]\n        public string Environment { get; set; }\n    }\n}\n","path":null,"size_bytes":614,"size_tokens":null},"Player/CustomControls/CollectionViews/CancelledBookingsTemplate.cs":{"content":"namespace Player.CustomControls.CollectionViews\n{\n    public class CancelledBookingsTemplate : CollectionView\n    {\n        public CancelledBookingsTemplate()\n        {\n            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n            {\n                ItemSpacing = 10,\n            };\n            SelectionMode = SelectionMode.Single;\n\n            EmptyView = new Regular16Label\n            {\n                Text = \"No Cancelled Bookings\",\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.Center,\n            };\n            ItemTemplate = new DataTemplate(() =>\n            {\n                return new Border\n                {\n                    StrokeThickness = 0,\n                    StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto)\n                        ),\n\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Star),\n                            (BodyColumn.second, Star)\n                        ),\n\n                        Padding = new Thickness(8),\n                        Children =\n                        {\n                            new Regular14Label { }\n                                .Bind(Regular14Label.TextProperty, nameof(Booking.GameName))\n                                .Row(BodyRow.first)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new SemiBold12Label { }\n                                .Bind(\n                                    SemiBold12Label.TextProperty,\n                                    $\"{nameof(Booking.Venue)}.{nameof(Booking.Venue.FullName)}\"\n                                )\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Medium16Label\n                            {\n                                HorizontalOptions = LayoutOptions.End,\n                                VerticalOptions = LayoutOptions.Center,\n                            }\n                                .AppThemeBinding(\n                                    Medium10Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"#E0E0E0\")\n                                )\n                                .Bind(\n                                    Medium16Label.TextProperty,\n                                    nameof(Booking.TotalPrice),\n                                    stringFormat: \"{0:C}\"\n                                )\n                                .Row(BodyRow.fourth)\n                                .RowSpan(2)\n                                .Column(BodyColumn.third),\n                            new SemiBold12Label { }\n                                .Bind(SemiBold10Label.TextProperty, nameof(Booking.BookingInfo))\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(0, 0, 0, 20),\n                            new HorizontalStackLayout\n                            {\n                                Spacing = 10,\n                                Children =\n                                {\n                                    new Medium12Label { VerticalOptions = LayoutOptions.Center }\n                                        .Bind(\n                                            Medium12Label.TextProperty,\n                                            nameof(Booking.TeamStatus)\n                                        )\n                                        .Bind(\n                                            Medium12Label.IsVisibleProperty,\n                                            nameof(Booking.JoinedPlayers),\n                                            convert: (IList<VenueUser>? joinedPlayers) =>\n                                                joinedPlayers?.Count > 0 ? true : false\n                                        ),\n                                    new CollectionView\n                                    {\n                                        HeightRequest = 40,\n                                        HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                                        WidthRequest = 150,\n                                        ItemsLayout = new LinearItemsLayout(\n                                            ItemsLayoutOrientation.Horizontal\n                                        )\n                                        {\n                                            ItemSpacing = 0,\n                                        },\n                                        // the image is misplaced in iOS\n                                        Header = new AvatarView\n                                        {\n                                            HeightRequest = 35,\n                                            WidthRequest = 35,\n                                            CornerRadius = 17,\n                                            Padding = 0,\n                                        }\n                                            .Bind(\n                                                AvatarView.ImageSourceProperty,\n                                                \"PlayerImage\",\n                                                converter: new ByteArrayToImageSourceConverter(),\n                                                fallbackValue: \"profile_image_fallback\",\n                                                targetNullValue: \"profile_image_fallback\"\n                                            )\n                                            .Bind(\n                                                AvatarView.IsVisibleProperty,\n                                                nameof(Booking.JoinedPlayers),\n                                                convert: (IList<VenueUser>? joinedPlayers) =>\n                                                    joinedPlayers?.Count > 0 ? true : false\n                                            ),\n\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new AvatarView\n                                            {\n                                                HeightRequest = 35,\n                                                WidthRequest = 35,\n                                                CornerRadius = 17,\n                                                Padding = 0,\n                                            }.Bind(\n                                                AvatarView.ImageSourceProperty,\n                                                nameof(VenueUser.ProfileImage),\n                                                converter: new ByteArrayToImageSourceConverter(),\n                                                fallbackValue: \"profile_image_fallback\",\n                                                targetNullValue: \"profile_image_fallback\"\n                                            );\n                                        }),\n                                    }.Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(Booking.JoinedPlayers)\n                                    ),\n                                },\n                            }\n                                .Row(BodyRow.third)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(0, 0, 0, 10),\n                            new Medium12Label { }\n                                .Bind(Medium12Label.TextProperty, nameof(Booking.PlayerName))\n                                .AppThemeBinding(\n                                    Medium10Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"#E0E0E0\")\n                                )\n                                .Row(BodyRow.fourth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new MediumButton\n                            {\n                                Padding = new Thickness(10, 5),\n                                FontFamily = \"InterRegular\",\n                                FontSize = 8,\n                                HorizontalOptions = LayoutOptions.End,\n                            }\n                                .Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsHosted))\n                                .Bind(\n                                    MediumButton.TextProperty,\n                                    nameof(Booking.IsJoined),\n                                    convert: (bool joined) => joined == true ? \"Joined\" : \"Hosted\"\n                                )\n                                .Row(BodyRow.second)\n                                .Column(BodyColumn.third),\n                        },\n                    },\n                }.AppThemeBinding(\n                    Border.BackgroundProperty,\n                    Colors.White,\n                    Color.FromArgb(\"#23262A\")\n                );\n            });\n            this.Bind(\n                ItemsView.ItemsSourceProperty,\n                \"BindingContext.CancelledBookings\",\n                source: this\n            );\n            this.Bind(\n                SelectableItemsView.SelectionChangedCommandProperty,\n                \"BindingContext.SelectionChangedCommand\",\n                source: this\n            );\n            this.Bind(\n                SelectableItemsView.SelectedItemProperty,\n                \"BindingContext.SelectedBooking\",\n                source: this\n            );\n        }\n    }\n}\n","path":null,"size_bytes":10487,"size_tokens":null},"Admin/Services/Interfaces/IImageService.cs":{"content":"﻿namespace Dome.Admin.Services.Interfaces\n{\n    public interface IImageService\n    {\n        Task UploadImageToAWSS3Async(byte[] imageBytes, string imageName);\n\n        Task DownloadImageFromAWSS3Async(string imageName);\n\n        Task<byte[]?> GetImageFromLocalStorageAsync(string imageName);\n\n        Task DeleteImageFromAWSS3Async(string imageName);\n\n        Task<Dictionary<string, object>?> PickImageAsync();\n    }\n}\n","path":null,"size_bytes":423,"size_tokens":null},"Dome.Shared/Services/Interfaces/INavigationService.cs":{"content":"﻿namespace Dome.Shared.Services.Interfaces\n{\n    public interface INavigationService\n    {\n        Task InitializeAsync();\n\n        Task NavigateToAsync(string route, ShellNavigationQueryParameters? routeParameters = null);\n\n        Task PopAsync();\n    }\n}\n","path":null,"size_bytes":260,"size_tokens":null},"Player/Models/Chat/DeleteConversationResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class DeleteConversationResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"message\")]\n    public string? Message { get; set; }\n}\n","path":null,"size_bytes":237,"size_tokens":null},"Dome.Shared/Services/Interfaces/Authentication/IRecoveryService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Interfaces.Authentication;\n\npublic interface IRecoveryService\n{\n    Task<ClientRecoveryFlow> CreateRecoveryFlow();\n    Task<ClientRecoveryFlow> RecoverPassword(string email, string flowId);\n}\n","path":null,"size_bytes":238,"size_tokens":null},"Dome.Shared/Local/Enum.cs":{"content":"﻿namespace Dome.Shared.Local\n{\n    public class Enums\n    {\n        // this is the enum to define the rows in a grid\n        public enum BodyRow\n        {\n            first,\n            second,\n            third,\n            fourth,\n            fifth,\n            sixth,\n            seventh,\n            eighth,\n            ninth,\n            tenth,\n            eleventh,\n            twelfth,\n            thirteenth,\n            fourteenth,\n            fifteenth,\n            sixteenth,\n            seventeenth,\n            eighteenth,\n            nineteenth,\n            twentieth,\n            twentyfirst,\n            twentysecond,\n            twentythird,\n            twentyfourth,\n            twentyfifth,\n            twentysixth,\n            twentyseventh,\n            twentyeighth,\n            twentyninth,\n            thirty,\n            thirtyone,\n            thirtytwo,\n            thirtythree,\n            thirtyfour,\n            thirtyfive,\n            thirtysix,\n            thirtyseven,\n            thirtyeight,\n            thirtynine,\n            forty,\n            fortyone,\n            fortytwo,\n            fortythree,\n            fortyfour,\n            fortyfive,\n            fortysix,\n            fortyseven,\n            fortyeight\n        }\n\n        // this is the enum to define the columns in a grid\n        public enum BodyColumn\n        {\n            first,\n            second,\n            third,\n            fourth,\n            fifth,\n            sixth,\n            seventh,\n            eighth,\n            ninth,\n            tenth,\n        }\n\n        public enum CouponPosition\n        {\n            unused,\n            reserve,\n            used,\n            expired,\n        }\n    }\n}\n","path":null,"size_bytes":1714,"size_tokens":null},"Player/Views/Connect/HostingSuccessView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class HostingSuccessView : ContentPage\n{\n    public HostingSuccessView(HostingSuccessViewModel viewModel)\n    {\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n\n        Content = new VerticalStackLayout\n        {\n            VerticalOptions = LayoutOptions.Center,\n            Children =\n            {\n                new Image\n                {\n                    Source = \"hosting_success.png\",\n                    HeightRequest = 100,\n                    WidthRequest = 100,\n                },\n                new SemiBold24Label { Text = \"Event Hosted\" }\n                    .AppThemeBinding(\n                        Picker.TextColorProperty,\n                        Color.FromArgb(\"#626262\"),\n                        Color.FromArgb(\"#F0F0F0\")\n                    )\n                    .CenterHorizontal()\n                    .Margins(0, 20, 0, 0),\n                new Regular14Label { Text = \"Users can join the game from the chat window\" }\n                    .AppThemeBinding(\n                        Picker.TextColorProperty,\n                        Color.FromArgb(\"#626262\"),\n                        Color.FromArgb(\"#A2A2A2\")\n                    )\n                    .Margins(0, 5, 0, 0),\n                new MediumButton\n                {\n                    Text = \"Done\",\n                    Background = Colors.Transparent,\n                    BorderWidth = .5,\n                    WidthRequest = 100,\n                }\n                    .AppThemeColorBinding(\n                        MediumButton.TextColorProperty,\n                        Colors.Black,\n                        Colors.White\n                    )\n                    .AppThemeColorBinding(\n                        MediumButton.BorderColorProperty,\n                        Colors.Black,\n                        Colors.White\n                    )\n                    .BindCommand(nameof(viewModel.CompleteCommand))\n                    .Margins(0, 20, 0, 0),\n            },\n        }.CenterHorizontal();\n\n        BindingContext = viewModel;\n    }\n}\n","path":null,"size_bytes":2112,"size_tokens":null},"Player/Views/Connect/ChatView.cs":{"content":"using Microsoft.Maui.Graphics.Text;\nusing Player.Models.Chat;\n\nnamespace Player.Views.Connect;\n\npublic class ChatView : BaseView\n{\n    ChatViewModel? viewModel;\n\n    Editor messageEditor = new Editor\n    {\n        TextColor = Colors.Black,\n        Placeholder = \"Type a message\",\n        PlaceholderColor = Color.FromArgb(\"#4E4E4E\"),\n        FontFamily = \"InterRegular\",\n        FontSize = 14,\n        MaxLength = 100,\n        Background = Colors.Transparent,\n    };\n\n    CollectionView? messagesView;\n\n    public ChatView(ChatViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            // Hide the keyboard when tapped outside of an Entry or Editor. if this is enabled it causes the collapse of Keyboard when the user taps on the Send button instead of sending the message\n            //  HideSoftInputOnTapped=true;\n            messageEditor.Bind(Editor.TextProperty, nameof(viewModel.Text));\n            messagesView = new CollectionView\n            {\n                ItemsUpdatingScrollMode = ItemsUpdatingScrollMode.KeepLastItemInView,\n\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                {\n                    ItemSpacing = 10,\n                    SnapPointsType = SnapPointsType.MandatorySingle,\n                    SnapPointsAlignment = SnapPointsAlignment.End,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Grid\n                    {\n                        RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Auto)),\n                        Children =\n                        {\n                            new Regular10Label { HorizontalOptions = LayoutOptions.Center }\n                                .Bind(\n                                    Regular10Label.TextProperty,\n                                    nameof(LoadMessagesResponse.DateSend)\n                                )\n                                .Row(BodyRow.first),\n                            new Border\n                            {\n                                Margin = new Thickness(0, 10, 0, 0),\n                                MaximumWidthRequest = 300,\n                                StrokeThickness = 0,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(7),\n                                },\n                                Padding = new Thickness(10),\n                                Content = new VerticalStackLayout\n                                {\n                                    Spacing = 7,\n\n                                    Children =\n                                    {\n                                        new Regular12Label\n                                        {\n                                            TextColor = Color.FromArgb(\"#EF2F50\"),\n                                        }.Bind(\n                                            Label.TextProperty,\n                                            nameof(LoadMessagesResponse.AuthorName)\n                                        ),\n                                        new Regular14Label { }.Bind(\n                                            Label.TextProperty,\n                                            nameof(LoadMessagesResponse.Body)\n                                        ),\n                                        new Regular10Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.End,\n                                        }.Bind(\n                                            Regular10Label.TextProperty,\n                                            nameof(LoadMessagesResponse.TimeSend)\n                                        ),\n                                    },\n                                },\n                            }\n                                .Bind(\n                                    Border.HorizontalOptionsProperty,\n                                    nameof(LoadMessagesResponse.IsMine),\n                                    convert: (bool mine) =>\n                                        mine == true ? LayoutOptions.End : LayoutOptions.Start\n                                )\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.second),\n                        },\n                    };\n                }),\n            }\n                .Row(BodyRow.fourth)\n                .Margins(16, 10, 16, 10)\n                .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.Messages));\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new ScrollView\n                {\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Star),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto)\n                        ),\n\n                        Children =\n                        {\n                            new Grid\n                            {\n                                ColumnDefinitions = Columns.Define(\n                                    (BodyColumn.first, Star),\n                                    (BodyColumn.second, Auto)\n                                ),\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, Auto),\n                                    (BodyRow.second, Auto)\n                                ),\n                                ColumnSpacing = 10,\n                                Children =\n                                {\n                                    new Regular14Label { }\n                                        .Bind(Label.TextProperty, nameof(viewModel.VenueName))\n                                        .Row(BodyRow.first),\n                                    new Regular14Label { }\n                                        .Bind(\n                                            Label.TextProperty,\n                                            nameof(viewModel.BookingInformation)\n                                        )\n                                        .Row(BodyRow.second),\n                                    new ImageButton\n                                    {\n                                        HorizontalOptions = LayoutOptions.End,\n                                        VerticalOptions = LayoutOptions.Center,\n                                    }\n                                        .BindCommand(nameof(viewModel.ReviewCommand))\n                                        .Bind(\n                                            ImageButton.IsVisibleProperty,\n                                            nameof(viewModel.IsHost)\n                                        )\n                                        .AppThemeBinding(\n                                            ImageButton.SourceProperty,\n                                            \"review_requests_black.png\",\n                                            \"review_requests_white.png\"\n                                        )\n                                        .Row(BodyRow.first)\n                                        .RowSpan(2)\n                                        .Column(BodyColumn.second),\n                                    new MediumButton\n                                    {\n                                        Text = \"Join\",\n                                        HorizontalOptions = LayoutOptions.End,\n                                        VerticalOptions = LayoutOptions.Center,\n                                    }\n                                        .BindCommand(nameof(viewModel.JoinGameCommand))\n                                        .Bind(\n                                            MediumButton.IsVisibleProperty,\n                                            nameof(viewModel.DisplayJoinButton)\n                                        )\n                                        .Row(BodyRow.first)\n                                        .RowSpan(2)\n                                        .Column(BodyColumn.second),\n                                },\n                            }\n                                .Row(BodyRow.first)\n                                .Margins(16, 0, 16, 10),\n                            new Rectangle\n                            {\n                                HeightRequest = 2,\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                            }.Row(BodyRow.second),\n                            new Border\n                            {\n                                StrokeThickness = 0,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(7),\n                                },\n                                Padding = new Thickness(10),\n                                Content = new Regular10Label\n                                {\n                                    Text =\n                                        \"This is a temporary group that will be automatically deleted 7 days after the game concludes.\",\n                                },\n                            }\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.third)\n                                .Margins(16, 10, 16, 0),\n                            messagesView,\n                            new Rectangle\n                            {\n                                HeightRequest = 2,\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                VerticalOptions = LayoutOptions.End,\n                            }.Row(BodyRow.fifth),\n                            new Grid\n                            {\n                                Background = Colors.White,\n\n                                Padding = new Thickness(10),\n                                VerticalOptions = LayoutOptions.End,\n                                ColumnDefinitions = Columns.Define(\n                                    (BodyColumn.first, Star),\n                                    (BodyColumn.second, 50)\n                                ),\n\n                                ColumnSpacing = 10,\n                                Children =\n                                {\n                                    new Border\n                                    {\n                                        StrokeThickness = 0,\n                                        HeightRequest = 45,\n                                        StrokeShape = new RoundRectangle\n                                        {\n                                            CornerRadius = new CornerRadius(7),\n                                        },\n                                        Padding = new Thickness(0),\n                                        Content = messageEditor,\n                                    },\n                                    new ImageButton\n                                    {\n                                        Source = \"send.png\",\n                                        HeightRequest = 30,\n                                        WidthRequest = 30,\n                                    }\n                                        .Invoke(btn => btn.Clicked += SendButtonPressed)\n                                        .Column(BodyColumn.second)\n                                        .Margins(0, 0, 0, 0),\n                                },\n                            }.Row(BodyRow.sixth),\n                        },\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += async (sender, e) => await viewModel.LoadMessages();\n            Unloaded += async (sender, e) => await viewModel.Unload();\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    private async void SendButtonPressed(object? sender, EventArgs e)\n    {\n        if (sender is ImageButton btn)\n        {\n            await Task.Delay(500);\n\n            messageEditor.Focus();\n        }\n        await viewModel.SendMessageCommand.ExecuteAsync(null);\n    }\n}\n","path":null,"size_bytes":13673,"size_tokens":null},"Player/Platforms/MacCatalyst/Program.cs":{"content":"﻿using ObjCRuntime;\nusing UIKit;\n\nnamespace Player;\n\npublic class Program\n{\n    // This is the main entry point of the application.\n    static void Main(string[] args)\n    {\n        // if you want to use a different Application Delegate class from \"AppDelegate\"\n        // you can specify it here.\n        UIApplication.Main(args, null, typeof(AppDelegate));\n    }\n}\n","path":null,"size_bytes":369,"size_tokens":null},"Dome.Shared/Synced/AvailableGame.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the available game model is the model that is used to store the information about the games that are available to be played at the venue.\n    /// Embedded inside Venue.\n    /// </summary>\n    public partial class AvailableGame : IEmbeddedObject\n    {\n        private AvailableGame() { }\n\n        public AvailableGame(\n            string name,\n            int peoplePerGame,\n            string fieldType,\n            int fieldsCount,\n            decimal weekdayHourlyRate,\n            decimal weekdayPeakHoursHourlyRate,\n            decimal weekendHourlyRate,\n            decimal weekendPeakHoursHourlyRate\n        )\n        {\n            Name = name;\n            PeoplePerGame = peoplePerGame;\n            FieldType = fieldType;\n            FieldsCount = fieldsCount;\n            WeekdayHourlyRate = weekdayHourlyRate;\n            WeekdayPeakHoursHourlyRate = weekdayPeakHoursHourlyRate;\n            WeekendHourlyRate = weekendHourlyRate;\n            WeekendPeakHoursHourlyRate = weekendPeakHoursHourlyRate;\n        }\n\n        [MapTo(\"name\")]\n        public string Name { get; set; }\n\n        [MapTo(\"firstGameImageName\")]\n        public string? FirstImageName { get; set; }\n\n        [MapTo(\"secondGameImageName\")]\n        public string? SecondImageName { get; set; }\n\n        [MapTo(\"peoplePerGame\")]\n        public int PeoplePerGame { get; set; }\n\n        [MapTo(\"fieldType\")]\n        public string FieldType { get; set; }\n\n        [MapTo(\"fieldsCount\")]\n        public int FieldsCount { get; set; } = 0;\n\n        // rate\n        [MapTo(\"weekdayHourlyRate\")]\n        public decimal WeekdayHourlyRate { get; set; }\n\n        [MapTo(\"weekdayPeakHoursHourlyRate\")]\n        public decimal WeekdayPeakHoursHourlyRate { get; set; }\n\n        [MapTo(\"weekendHourlyRate\")]\n        public decimal WeekendHourlyRate { get; set; }\n\n        [MapTo(\"weekendPeakHoursHourlyRate\")]\n        public decimal WeekendPeakHoursHourlyRate { get; set; }\n\n        // embedded objects\n        [MapTo(\"timing\")]\n        public GameTiming? Timing { get; set; }\n\n        /// <summary>\n        /// Embedded fields that belong to this game.\n        /// </summary>\n        [MapTo(\"fields\")]\n        public IList<Field> Fields { get; }\n\n        //Local\n        // this field is to show the information about the game in the Admin app while creating and editing the venue\n        [Ignored]\n        public string FieldInformation =>\n            $\"{FieldsCount} {FieldType}s | {PeoplePerGame} Players / {FieldType}\";\n\n        private bool isSelected;\n\n        // use to highlight the selected game while booking the field in the venue app\n        public bool IsSelected\n        {\n            get => isSelected;\n            set\n            {\n                if (value != isSelected)\n                {\n                    isSelected = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n\n        [Ignored]\n        public byte[]? FirstImageBytes { get; set; }\n\n        [Ignored]\n        public string? FirstImageExtension { get; set; }\n\n        [Ignored]\n        public byte[]? SecondImageBytes { get; set; }\n\n        [Ignored]\n        public string? SecondImageExtension { get; set; }\n    }\n}\n","path":null,"size_bytes":3257,"size_tokens":null},"Admin/ViewModels/Account/ForgotPasswordViewModel.cs":{"content":"﻿namespace Admin.ViewModels.Account\n{\n    public partial class ForgotPasswordViewModel : ObservableValidator\n    {\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        [ObservableProperty]\n        string email = String.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmNewPassword))]\n        string newPassword = String.Empty;\n\n        string confirmNewPassword = String.Empty;\n\n        [Required]\n        [Compare(\n            nameof(NewPassword),\n            ErrorMessage = \"The confirm password is not equal to password\"\n        )]\n        public string ConfirmNewPassword\n        {\n            get => confirmNewPassword;\n            set => SetProperty(ref confirmNewPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string emailError;\n\n        [ObservableProperty]\n        string newPasswordError;\n\n        [ObservableProperty]\n        string confirmNewPasswordError = string.Empty;\n\n        private readonly IConnectivity connectivity;\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n\n        public ForgotPasswordViewModel(\n            IRealmService realmService,\n            IConnectivity connectivity,\n            INavigationService navigationService\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (\n                    e == null\n                    || e.PropertyName == null\n                    || e.PropertyName.Contains(\"Error\")\n                    || e.PropertyName == \"VisibilityImage\"\n                )\n                {\n                    return;\n                }\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.First().ErrorMessage ?? \"error\";\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"Email\":\n                        EmailError = errorMessage;\n                        break;\n                    case \"NewPassword\":\n                        NewPasswordError = errorMessage;\n                        break;\n                    case \"ConfirmNewPassword\":\n                        ConfirmNewPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ResetPassword()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult validationResult in propertyErrors)\n                        {\n                            SetErrorValue(\n                                validationResult.MemberNames.ElementAt(0),\n                                validationResult.ErrorMessage\n                            );\n                        }\n                        return;\n                    }\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await navigationService.NavigateToAsync(\n                    nameof(VerifyEmailForPasswordResetView),\n                    new ShellNavigationQueryParameters\n                    {\n                        { \"UserEmail\", Email },\n                        { \"NewPassword\", NewPassword },\n                    }\n                );\n\n                Email = string.Empty;\n                NewPassword = string.Empty;\n                ConfirmNewPassword = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task CancelPasswordReset()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///Login\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5938,"size_tokens":null},"Player/Services/Interfaces/IImageService.cs":{"content":"﻿namespace Dome.Player.Services.Interfaces\n{\n    public interface IImageService\n    {\n        Task UploadImageToAWSS3Async(byte[] imageBytes, string imageName);\n\n        Task DownloadImageFromAWSS3Async(string imageName);\n\n        Task<byte[]?> GetImageFromLocalStorageAsync(string imageName);\n\n        Task DeleteImageFromAWSS3Async(string imageName);\n\n        Task<Dictionary<string, object>?> PickImageAsync();\n    }\n}\n","path":null,"size_bytes":424,"size_tokens":null},"Dome.Shared/Synced/City.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the city is a class that represents the city where the Sport Venue is located. The cities are pre stored in the database and the admin select the city where the venue is located from all the stored cities while creating the venue.\n    /// </summary>\n    public partial class City : IEmbeddedObject\n    {\n        private City() { }\n\n        public City(string cityName)\n        {\n            CityName = cityName;\n        }\n\n        [MapTo(\"cityName\")]\n        public string CityName { get; set; }\n    }\n}\n","path":null,"size_bytes":564,"size_tokens":null},"Admin/View/VendorYardView.cs":{"content":"using System.Threading.Tasks;\nusing Twilio.TwiML.Messaging;\n\nnamespace Admin.View;\n\npublic class VendorYardView : BaseView\n{\n    VendorYardViewModel viewModel;\n\n    int count = 0;\n\n    public VendorYardView(VendorYardViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            Title = \"Partner Yard\";\n\n            Padding = new Thickness(20);\n            Content = new ScrollView\n            {\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Orientation = ScrollOrientation.Both,\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 50),\n                        (BodyRow.second, 110),\n                        (BodyRow.third, 30),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, 30),\n                        (BodyRow.sixth, Auto)\n                    ),\n\n                    WidthRequest = 1250,\n                    RowSpacing = 20,\n                    Children =\n                    {\n                        new RegularButton\n                        {\n                            HorizontalOptions = LayoutOptions.End,\n                            FontFamily = \"InterBold\",\n                            WidthRequest = 186,\n                            FontSize = 20,\n                            Text = \"+ ADD PARTNER\",\n                        }\n                            .BindCommand(\n                                static (VendorYardViewModel vm) => vm.AddVendorCommand,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.first)\n                            .Margins(0, 0, 155, 0),\n                        new CustomBorder\n                        {\n                            WidthRequest = 1100,\n                            HeightRequest = 109,\n                            HorizontalOptions = LayoutOptions.Start,\n                            Padding = new Thickness(20, 10, 20, 10),\n                            Content = new Grid\n                            {\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, 35),\n                                    (BodyRow.second, 35)\n                                ),\n                                ColumnDefinitions = Columns.Define(\n                                    (BodyColumn.first, 257),\n                                    (BodyColumn.second, 230),\n                                    (BodyColumn.third, 450),\n                                    (BodyColumn.fourth, 40)\n                                ),\n                                ColumnSpacing = 20,\n                                Children =\n                                {\n                                    new Regular16Label\n                                    {\n                                        Text = \"Select Sports\",\n                                        VerticalOptions = LayoutOptions.Center,\n                                        HorizontalOptions = LayoutOptions.Start,\n                                    }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.first),\n                                    new Picker { FontSize = 20, FontFamily = \"InterRegular\" }\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (VendorYardViewModel vm) => vm.GameNames,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (VendorYardViewModel vm) => vm.SelectedGame,\n                                            source: viewModel\n                                        )\n                                        .Row(BodyRow.second)\n                                        .Column(BodyColumn.first),\n                                    new Regular16Label\n                                    {\n                                        Text = \"Select Region\",\n                                        VerticalOptions = LayoutOptions.Center,\n                                        HorizontalOptions = LayoutOptions.Start,\n                                    }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.second),\n                                    new Picker { FontSize = 20, FontFamily = \"InterRegular\" }\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (VendorYardViewModel vm) => vm.CityNames,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (VendorYardViewModel vm) => vm.SelectedCity,\n                                            source: viewModel\n                                        )\n                                        .Row(BodyRow.second)\n                                        .Column(BodyColumn.second),\n                                    new Regular16Label\n                                    {\n                                        Text = \"Search Partner\",\n                                        VerticalOptions = LayoutOptions.Center,\n                                        HorizontalOptions = LayoutOptions.Start,\n                                    }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.third),\n                                    new Picker\n                                    {\n                                        FontSize = 20,\n                                        FontFamily = \"InterRegular\",\n                                        ItemDisplayBinding = new Binding(nameof(Venue.FullName)),\n                                    }\n                                        .Bind(\n                                            Picker.ItemsSourceProperty,\n                                            static (VendorYardViewModel vm) => vm.ActiveVendors,\n                                            source: viewModel\n                                        )\n                                        .Bind(\n                                            Picker.SelectedItemProperty,\n                                            static (VendorYardViewModel vm) => vm.SelectedVendor,\n                                            source: viewModel\n                                        )\n                                        .Row(BodyRow.second)\n                                        .Column(BodyColumn.third),\n                                    new ImageButton\n                                    {\n                                        Source = \"cancel.png\",\n                                        HeightRequest = 40,\n                                        WidthRequest = 40,\n                                        VerticalOptions = LayoutOptions.Center,\n                                    }\n                                        .BindCommand(\n                                            static (VendorYardViewModel vm) =>\n                                                vm.ClearSearchCommand,\n                                            source: viewModel\n                                        )\n                                        .Margins(20, 0, 0, 0)\n                                        .Row(BodyRow.first)\n                                        .RowSpan(2)\n                                        .Column(BodyColumn.fourth),\n                                },\n                            },\n                        }.Row(BodyRow.second),\n                        new Bold24Label { Text = \"Active Partners\" }.Row(BodyRow.third),\n                        new CollectionView\n                        {\n                            // ItemSizingStrategy= ItemSizingStrategy.MeasureFirstItem,\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new CustomBorder\n                                {\n                                    Padding = new Thickness(20, 10, 20, 10),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 30),\n                                            (BodyRow.third, 30),\n                                            (BodyRow.fourth, 30),\n                                            (BodyRow.fifth, 60)\n                                        ),\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 80),\n                                            (BodyColumn.second, 150)\n                                        ),\n                                        ColumnSpacing = 15,\n                                        RowSpacing = 10,\n\n                                        Children =\n                                        {\n                                            new Bold24Label { }\n                                                .Bind(\n                                                    Bold24Label.TextProperty,\n                                                    static (Venue venue) => venue.FullName\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular21Label { }\n                                                .Bind(\n                                                    Regular21Label.TextProperty,\n                                                    static (Venue venue) => venue.Address.City\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new HorizontalStackLayout\n                                            {\n                                                Children =\n                                                {\n                                                    new CheckBox\n                                                    {\n                                                        Color = Color.FromArgb(\"#EF2F50\"),\n                                                    }\n                                                        .Bind(\n                                                            CheckBox.IsCheckedProperty,\n                                                            static (Venue venue) => venue.IsActive,\n                                                            mode: BindingMode.OneWay\n                                                        )\n                                                        .Invoke(activeCheckBox =>\n                                                            activeCheckBox.CheckedChanged +=\n                                                                ActiveCheckBox_CheckedChanged\n                                                        ),\n                                                    new Regular16Label\n                                                    {\n                                                        Text = \"Active\",\n                                                        VerticalOptions = LayoutOptions.Center,\n                                                    }.Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new HorizontalStackLayout\n                                            {\n                                                Children =\n                                                {\n                                                    new CheckBox\n                                                    {\n                                                        Color = Color.FromArgb(\"#EF2F50\"),\n                                                    }\n                                                        .Bind(\n                                                            CheckBox.IsCheckedProperty,\n                                                            static (Venue venue) =>\n                                                                venue.IsPromoted,\n                                                            mode: BindingMode.OneWay\n                                                        )\n                                                        .Invoke(promotedCheckBox =>\n                                                            promotedCheckBox.CheckedChanged +=\n                                                                PromotedCheckBox_CheckedChanged\n                                                        ),\n                                                    new Regular16Label\n                                                    {\n                                                        Text = \"Promoted\",\n                                                        VerticalOptions = LayoutOptions.Center,\n                                                    }.Margins(5, 0, 0, 0),\n                                                },\n                                            }\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new RegularButton\n                                            {\n                                                Text = \"EDIT\",\n                                                Background = Colors.Black,\n                                                HeightRequest = 50,\n                                                FontSize = 18,\n                                                FontFamily = \"InterBold\",\n                                                WidthRequest = 80,\n                                                Padding = new Thickness(4),\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.Start,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.EditVendorCommand),\n                                                    source: viewModel,\n                                                    parameterPath: \".\"\n                                                )\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                        },\n                                    },\n                                };\n                            }),\n                            ItemsLayout = new GridItemsLayout(3, ItemsLayoutOrientation.Vertical)\n                            {\n                                HorizontalItemSpacing = 20,\n                                VerticalItemSpacing = 20,\n                            },\n                        }\n                            .Bind(\n                                ItemsView.ItemsSourceProperty,\n                                static (VendorYardViewModel vm) => vm.FilteredVendors,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fourth),\n                        new Bold24Label { Text = \"InActive Partners\" }.Row(BodyRow.fifth),\n                        new CollectionView\n                        {\n                            ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new CustomBorder\n                                {\n                                    Padding = new Thickness(20, 10, 20, 10),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 30),\n                                            (BodyRow.third, 30),\n                                            (BodyRow.fourth, 60)\n                                        ),\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 80),\n                                            (BodyColumn.second, 150),\n                                            (BodyColumn.third, 80)\n                                        ),\n                                        ColumnSpacing = 15,\n                                        RowSpacing = 10,\n\n                                        Children =\n                                        {\n                                            new Bold24Label { }\n                                                .Bind(\n                                                    Bold24Label.TextProperty,\n                                                    static (Venue venue) => venue.FullName\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(3),\n                                            new Regular21Label { }\n                                                .Bind(\n                                                    Regular21Label.TextProperty,\n                                                    static (Venue venue) => venue.Address.City\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new HorizontalStackLayout\n                                            {\n                                                new CheckBox { Color = Color.FromArgb(\"#EF2F50\") }\n                                                    .Bind(\n                                                        CheckBox.IsCheckedProperty,\n                                                        static (Venue venue) => venue.IsActive,\n                                                        mode: BindingMode.OneWay\n                                                    )\n                                                    .Invoke(activeCheckBox =>\n                                                        activeCheckBox.CheckedChanged +=\n                                                            ActiveCheckBox_CheckedChanged\n                                                    ),\n                                                new Regular16Label\n                                                {\n                                                    Text = \"Active:\",\n                                                    VerticalOptions = LayoutOptions.Center,\n                                                    HorizontalOptions = LayoutOptions.Start,\n                                                }.Margins(5, 0, 0, 0),\n                                                new CheckBox { Color = Color.FromArgb(\"#EF2F50\") }\n                                                    .Bind(\n                                                        CheckBox.IsCheckedProperty,\n                                                        static (Venue venue) => venue.IsPromoted,\n                                                        mode: BindingMode.OneWay\n                                                    )\n                                                    .Invoke(promotedCheckBox =>\n                                                        promotedCheckBox.CheckedChanged +=\n                                                            PromotedCheckBox_CheckedChanged\n                                                    )\n                                                    .Margins(20, 0, 0, 0),\n                                                new Regular16Label\n                                                {\n                                                    Text = \"Promoted:\",\n                                                    VerticalOptions = LayoutOptions.Center,\n                                                    HorizontalOptions = LayoutOptions.Start,\n                                                }.Margins(5, 0, 0, 0),\n                                            }\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(3),\n                                            new RegularButton\n                                            {\n                                                Text = \"EDIT\",\n                                                Background = Colors.Black,\n                                                HeightRequest = 50,\n                                                FontSize = 18,\n                                                FontFamily = \"InterBold\",\n                                                WidthRequest = 80,\n                                                Padding = new Thickness(4),\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.Start,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.EditVendorCommand),\n                                                    source: viewModel,\n                                                    parameterPath: \".\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first),\n                                        },\n                                    },\n                                };\n                            }),\n                            ItemsLayout = new GridItemsLayout(3, ItemsLayoutOrientation.Vertical)\n                            {\n                                HorizontalItemSpacing = 20,\n                                VerticalItemSpacing = 20,\n                            },\n                        }\n                            .Bind(\n                                ItemsView.ItemsSourceProperty,\n                                static (VendorYardViewModel vm) => vm.DormantVendors,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.sixth),\n                    },\n                },\n            };\n\n            Loaded += VendorYardView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void VendorYardView_Loaded(object? sender, EventArgs e)\n    {\n        if (count == 0)\n        {\n            await viewModel.Initialize();\n            count++;\n        }\n    }\n\n    private async void ActiveCheckBox_CheckedChanged(object? sender, CheckedChangedEventArgs e)\n    {\n        bool isChecked = e.Value;\n        CheckBox? checkBox = (CheckBox)sender;\n        Venue? venue = (Venue)checkBox.BindingContext;\n        if (venue != null)\n        {\n            if (venue.IsActive != isChecked)\n            {\n                if (isChecked)\n                {\n                    bool isActionIntended = await Shell.Current.DisplayAlert(\n                        \"Confirmation\",\n                        \"Are you sure you want to activate this vendor?\",\n                        \"Yes\",\n                        \"No\"\n                    );\n                    if (isActionIntended)\n                    {\n                        await viewModel.ActivateVendorCommand.ExecuteAsync(venue);\n                    }\n                    else\n                    {\n                        checkBox.IsChecked = venue.IsActive;\n                    }\n                }\n                else if (!isChecked)\n                {\n                    bool isActionIntended = await Shell.Current.DisplayAlert(\n                        \"Confirmation\",\n                        \"Are you sure you want to deactivate this vendor?\",\n                        \"Yes\",\n                        \"No\"\n                    );\n                    if (isActionIntended)\n                    {\n                        await viewModel.DeactivateVendorCommand.ExecuteAsync(venue);\n                    }\n                    else\n                    {\n                        checkBox.IsChecked = venue.IsActive;\n                    }\n                }\n            }\n        }\n    }\n\n    private async void PromotedCheckBox_CheckedChanged(object? sender, CheckedChangedEventArgs e)\n    {\n        bool isChecked = e.Value;\n        CheckBox? checkBox = (CheckBox)sender;\n        Venue? venue = (Venue)checkBox.BindingContext;\n        if (venue != null)\n        {\n            if (venue.IsPromoted != isChecked)\n            {\n                if (isChecked)\n                {\n                    bool isActionIntended = await Shell.Current.DisplayAlert(\n                        \"Confirmation\",\n                        \"Are you sure you want to promote this vendor?\",\n                        \"Yes\",\n                        \"No\"\n                    );\n                    if (isActionIntended)\n                    {\n                        await viewModel.PromoteVendorCommand.ExecuteAsync(venue);\n                    }\n                    else\n                    {\n                        checkBox.IsChecked = venue.IsPromoted;\n                    }\n                }\n                else if (!isChecked)\n                {\n                    bool isActionIntended = await Shell.Current.DisplayAlert(\n                        \"Confirmation\",\n                        \"Are you sure you don't want to promote this vendor?\",\n                        \"Yes\",\n                        \"No\"\n                    );\n                    if (isActionIntended)\n                    {\n                        await viewModel.UnPromoteVendorCommand.ExecuteAsync(venue);\n                    }\n                    else\n                    {\n                        checkBox.IsChecked = venue.IsPromoted;\n                    }\n                }\n            }\n        }\n    }\n}\n","path":null,"size_bytes":28128,"size_tokens":null},"Player/ViewModels/Book/PaymentViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class PaymentViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        IEnumerable<Booking>? bookedBookings;\n\n        [ObservableProperty]\n        IList<Booking>? selectedBookings;\n\n        [ObservableProperty]\n        IEnumerable<Booking>? createdBookings;\n\n        [ObservableProperty]\n        IEnumerable<Booking>? reservedBookings;\n\n        [ObservableProperty]\n        string? venueName;\n\n        [ObservableProperty]\n        string? venueAddress;\n\n        [ObservableProperty]\n        DateTimeOffset startTime;\n\n        [ObservableProperty]\n        DateTimeOffset endTime;\n\n        [ObservableProperty]\n        ObservableCollection<string>? selectedFields;\n\n        [ObservableProperty]\n        string? fields;\n\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        // properties for coupon\n        [ObservableProperty]\n        decimal? discount;\n\n        [ObservableProperty]\n        string? couponCode;\n\n        [ObservableProperty]\n        bool fixedCouponCode;\n\n        [ObservableProperty]\n        Coupon? selectedCoupon;\n\n        [ObservableProperty]\n        string? couponType;\n\n        readonly Realm? syncRealm;\n\n        [ObservableProperty]\n        decimal? bookingPrice;\n\n        [ObservableProperty]\n        decimal? taxes;\n\n        [ObservableProperty]\n        decimal? convenienceFee;\n\n        [ObservableProperty]\n        decimal? totalAmount;\n\n        [ObservableProperty]\n        VenueUser? gamer;\n\n        readonly IDisposable? bookingsToken;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private IPaymentSheet? paymentSheet;\n        private IStripeService? stripeService;\n\n        public PaymentViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IPaymentSheet paymentSheet,\n            IStripeService stripeService\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n                this.paymentSheet = paymentSheet;\n                this.stripeService = stripeService;\n\n                syncRealm = Realm.GetInstance(realmService.Config);\n\n                Gamer = syncRealm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                PlayerImage = Gamer?.ProfileImage;\n\n                // Observe collection notifications\n                bookingsToken = Gamer?.Bookings.SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await Init();\n\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await Init();\n                            return;\n                        }\n                    }\n                );\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task Init()\n        {\n            try\n            {\n                CreatedBookings = new ObservableCollection<Booking>();\n                ReservedBookings = new ObservableCollection<Booking>();\n                SelectedBookings = new List<Booking>();\n                bookedBookings = new ObservableCollection<Booking>();\n                SelectedFields = new ObservableCollection<string>();\n\n                BookedBookings = Gamer?.Bookings.Where(g =>\n                    g.BookingStatus == Dome.Shared.Constants.AppConstants.Booked\n                    || g.BookingStatus == Dome.Shared.Constants.AppConstants.Completed\n                );\n\n                CreatedBookings = Gamer?.Bookings.Where(g =>\n                    g.BookingStatus == Dome.Shared.Constants.AppConstants.Created\n                );\n                ReservedBookings = Gamer?.Bookings.Where(g =>\n                    g.BookingStatus == Dome.Shared.Constants.AppConstants.Reserved\n                );\n                SelectedBookings.Clear();\n\n                if (CreatedBookings?.Any() == true && ReservedBookings?.Any() != true)\n                {\n                    SelectedBookings = Gamer\n                        .Bookings.Where(g => g.BookingStatus == AppConstants.Created)\n                        .ToObservableCollection();\n                }\n                else if (CreatedBookings?.Any() != true && ReservedBookings?.Any() == true)\n                {\n                    SelectedBookings = Gamer\n                        .Bookings.Where(g => g.BookingStatus == AppConstants.Reserved)\n                        .ToObservableCollection();\n                }\n                else if (CreatedBookings?.Any() == true && ReservedBookings?.Any() == true)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \"Please select either Created or Reserved Bookings\",\n                        \"OK\"\n                    );\n                }\n\n                if (SelectedBookings.Any())\n                {\n                    VenueName = SelectedBookings.Select(g => g.Venue.FullName).FirstOrDefault();\n                    await SetValues();\n                }\n                else\n                {\n                    await navigationService.PopAsync();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        partial void OnCouponCodeChanged(string? value)\n        {\n            // if user clear the coupon code, set the values to default\n            if (String.IsNullOrWhiteSpace(value))\n            {\n                SelectedCoupon = null;\n                SetValues();\n            }\n        }\n\n        [RelayCommand]\n        async Task ApplyCoupon()\n        {\n            try\n            {\n                if (String.IsNullOrWhiteSpace(CouponCode))\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter a coupon code\", \"OK\");\n                    return;\n                }\n\n                if (BookedBookings.Count() == 0)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \"20% discount for first time booking is already applied\",\n                        \"OK\"\n                    );\n                }\n                else\n                {\n                    string? unUsedStatus = CouponPosition.unused.ToString();\n                    List<Coupon> ActiveCoupons = syncRealm\n                        .All<Coupon>()\n                        .Where(c => c.CouponStatus == unUsedStatus)\n                        .ToList();\n                    Coupon? coupon = ActiveCoupons\n                        .Where(c => c.CouponCode == CouponCode)\n                        .FirstOrDefault();\n                    if (coupon == null)\n                    {\n                        await Shell.Current.DisplayAlert(\"Alert\", \"Invalid Coupon Code\", \"OK\");\n                    }\n                    else\n                    {\n                        SelectedCoupon = coupon;\n                        await SetValues();\n\n                        await Shell.Current.DisplayAlert(\"Alert\", \"Coupon Applied\", \"OK\");\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        public async Task Cancel()\n        {\n            try\n            {\n                bool result = await Shell.Current.DisplayAlert(\n                    \"Your selection will be cleared\",\n                    \"Do you want to clear your selection?\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (result)\n                {\n                    if (CreatedBookings.Any() && !ReservedBookings.Any())\n                    {\n                        await syncRealm.WriteAsync(() =>\n                        {\n                            foreach (Booking selectedBooking in SelectedBookings)\n                            {\n                                syncRealm.Remove(selectedBooking);\n                            }\n                        });\n\n                        await navigationService.PopAsync();\n                    }\n                    else if (!CreatedBookings.Any() && ReservedBookings.Any())\n                    {\n                        // call api to cancel the payment Intent and delete the reserved bookings of the user\n                        List<string> bookingIdsInString = new List<string>();\n                        List<ObjectId> Ids = SelectedBookings.Select(g => g.Id).ToList();\n                        foreach (ObjectId id in Ids)\n                        {\n                            string idInString = id.ToString();\n                            bookingIdsInString.Add(idInString);\n                        }\n                        RequestWithBookingIds request = new RequestWithBookingIds(\n                            bookingIds: bookingIdsInString,\n                            environment: AppConstants.Environment\n                        );\n\n                        CancelPaymentIntentResponse? cancelPaymentIntentResponse =\n                            await stripeService.CancelPaymentIntent(request);\n\n                        if (cancelPaymentIntentResponse.BookingIds == null)\n                        {\n                            MainThread.BeginInvokeOnMainThread(() =>\n                                Shell.Current.DisplayAlert(\n                                    \"API Error\",\n                                    cancelPaymentIntentResponse?.Error,\n                                    \"OK\"\n                                )\n                            );\n                        }\n                        else\n                        {\n                            await navigationService.PopAsync();\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task SetValues()\n        {\n            try\n            {\n                StartTime = SelectedBookings.Select(g => g.StartTime).FirstOrDefault();\n                EndTime = SelectedBookings.Select(g => g.EndTime).FirstOrDefault();\n                SelectedFields = SelectedBookings.Select(g => g.FieldName).ToObservableCollection();\n                for (int i = 0; i < SelectedFields.Count; i++)\n                {\n                    if (i == 0)\n                    {\n                        Fields = SelectedFields[i];\n                    }\n                    else\n                    {\n                        Fields = Fields + \", \" + SelectedFields[i];\n                    }\n                }\n                VenueAddress? address = SelectedBookings\n                    .Select(g => g.Venue?.Address)\n                    .FirstOrDefault();\n                VenueAddress =\n                    address != null\n                        ? $\"{address.Street}, {address.City}, {address.Province}, {address.PostCode}\"\n                        : string.Empty;\n\n                decimal discountPercentage = 0;\n                Discount = 0;\n\n                if (!BookedBookings.Any())\n                {\n                    CouponCode = \"FIRST20\";\n                    FixedCouponCode = true;\n                    // for first time booking, 20% discount is applied\n                    discountPercentage = 20;\n                    SelectedCoupon = null;\n                }\n                else if (BookedBookings.Any())\n                {\n                    if (SelectedCoupon != null)\n                    {\n                        discountPercentage = SelectedCoupon.DiscountPercentage;\n                    }\n                }\n\n                // Ensure discount percentage never exceeds 100%\n                if (discountPercentage > 100)\n                {\n                    discountPercentage = 100;\n                }\n\n                // Determine the maximum discount amount\n                decimal maxDiscountAmount = SelectedCoupon?.MaximumDiscount ?? 100;\n\n                // the payable amount is calculated by deducting the discount from price and then adding the convenience fee to the discounted price. Finally adding the taxes to the price after adding the convenience fee\n\n                foreach (Booking selectedBooking in SelectedBookings)\n                {\n                    await syncRealm.WriteAsync(() =>\n                    {\n                        if (discountPercentage != 0)\n                        {\n                            if (Discount == 0)\n                            {\n                                selectedBooking.DiscountPercentage = discountPercentage;\n                                selectedBooking.Discount = Math.Round(\n                                    (selectedBooking.Price / 100) * discountPercentage,\n                                    2\n                                );\n\n                                // Cap the discount at maximum allowed amount\n                                if (selectedBooking.Discount > maxDiscountAmount)\n                                {\n                                    selectedBooking.Discount = maxDiscountAmount;\n                                }\n                            }\n                            else if (Discount > 0)\n                            {\n                                decimal? discountForABooking = Discount / SelectedBookings.Count();\n                                selectedBooking.Discount = Math.Round(\n                                    (decimal)discountForABooking,\n                                    2\n                                );\n                            }\n                            selectedBooking.PriceAfterDeductingDiscount = Math.Round(\n                                (decimal)(selectedBooking.Price - selectedBooking.Discount),\n                                2\n                            );\n                        }\n                        // if no discount than the price after deducting discount is the actual price\n                        else\n                        {\n                            selectedBooking.PriceAfterDeductingDiscount = selectedBooking.Price;\n                        }\n\n                        selectedBooking.ConvenienceFee = Math.Round(\n                            (decimal)(\n                                selectedBooking.Price\n                                * selectedBooking.ConvenienceFeePercentage\n                                / 100\n                            ),\n                            2\n                        );\n                        selectedBooking.PriceAfterAddingConvenienceFee = Math.Round(\n                            (decimal)(\n                                selectedBooking.PriceAfterDeductingDiscount\n                                + selectedBooking.ConvenienceFee\n                            ),\n                            2\n                        );\n                        selectedBooking.Tax = Math.Round(\n                            (decimal)(\n                                selectedBooking.PriceAfterAddingConvenienceFee\n                                * selectedBooking.TaxPercentage\n                                / 100\n                            ),\n                            2\n                        );\n                        selectedBooking.TotalPrice = Math.Round(\n                            (decimal)(\n                                selectedBooking.PriceAfterAddingConvenienceFee + selectedBooking.Tax\n                            ),\n                            2\n                        );\n                    });\n                }\n\n                //this is the actual price of the booking\n                BookingPrice = Math.Round((decimal)SelectedBookings.Select(g => g.Price).Sum(), 2);\n\n                // this is the total discount for the booking\n                Discount = Math.Round((decimal)SelectedBookings.Select(g => g.Discount).Sum(), 2);\n\n                // this is the convenience fee for the booking\n                ConvenienceFee = Math.Round(\n                    (decimal)SelectedBookings.Select(g => g.ConvenienceFee).Sum(),\n                    2\n                );\n\n                // this is the total taxes for the booking\n                Taxes = Math.Round((decimal)SelectedBookings.Select(g => g.Tax).Sum(), 2);\n\n                // this is the total amount after adding the taxes\n                TotalAmount = Math.Round(\n                    (decimal)SelectedBookings.Select(g => g.TotalPrice).Sum(),\n                    2\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ProceedToPay()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                if (SelectedBookings.Any())\n                {\n                    if (BookedBookings.Any() || SelectedCoupon != null)\n                    {\n                        if (SelectedCoupon != null)\n                        {\n                            await syncRealm.WriteAsync(() =>\n                            {\n                                foreach (Booking reservedBooking in SelectedBookings)\n                                {\n                                    reservedBooking.AppliedCoupon = SelectedCoupon;\n                                }\n                            });\n                        }\n                    }\n                    else if (!BookedBookings.Any())\n                    {\n                        await syncRealm.WriteAsync(() =>\n                        {\n                            foreach (Booking reservedBooking in SelectedBookings)\n                            {\n                                reservedBooking.IsFirstBookingCouponApplied = true;\n                            }\n                        });\n                    }\n\n                    string? clientSecret = await GetClientSecretFromServer();\n                    if (clientSecret != null)\n                    {\n                        await DisplayPaymentSheet(clientSecret);\n                    }\n                }\n                else\n                {\n                    await navigationService.PopAsync();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task<string?> GetClientSecretFromServer()\n        {\n            try\n            {\n                string? gameName = SelectedBookings.Select(g => g.GameName).FirstOrDefault();\n                string? venueName = SelectedBookings.Select(g => g.Venue.FullName).FirstOrDefault();\n                string bookingDate = SelectedBookings\n                    .Select(g => g.BookingDate)\n                    .FirstOrDefault()\n                    .ToString(\"dd/MM/yyyy\");\n                string startTime = SelectedBookings\n                    .Select(g => g.StartTime)\n                    .FirstOrDefault()\n                    .ToString(\"HH:mm \");\n                string endTime = SelectedBookings\n                    .Select(g => g.EndTime)\n                    .FirstOrDefault()\n                    .ToString(\"HH:mm \");\n                string? connectedAccountId = SelectedBookings\n                    .Select(g => g.Venue.StripeUserId)\n                    .FirstOrDefault();\n                string? cartId = SelectedBookings.Select(g => g.CartId).FirstOrDefault();\n\n                List<string> bookingIdsInString = new List<string>();\n                List<ObjectId> Ids = SelectedBookings.Select(g => g.Id).ToList();\n                foreach (ObjectId id in Ids)\n                {\n                    string idInString = id.ToString();\n                    bookingIdsInString.Add(idInString);\n                }\n\n                if (string.IsNullOrWhiteSpace(connectedAccountId))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \" Stripe Connect Account Id is missing for the vendor\",\n                        \"OK\"\n                    );\n                    return null;\n                }\n\n                RequestWithBookingIds request = new RequestWithBookingIds(\n                    bookingIds: bookingIdsInString,\n                    environment: AppConstants.Environment\n                );\n\n                // The helper method comes from the downloaded source code\n                PaymentIntentCreateResponse? apiResponse = await stripeService.FetchPaymentIntent(\n                    request\n                );\n                if (apiResponse?.ClientSecret == null)\n                {\n                    MainThread.BeginInvokeOnMainThread(() =>\n                        Shell.Current.DisplayAlert(\"API Error\", apiResponse?.Error, \"OK\")\n                    );\n                }\n                else\n                {\n                    return apiResponse.ClientSecret;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n            return null;\n        }\n\n        private async Task DisplayPaymentSheet(string clientSecret)\n        {\n            try\n            {\n                var configuration = new Configuration(\"Dome Sports\");\n\n                PaymentSheetResult result = await paymentSheet.PresentWithPaymentIntentAsync(\n                    clientSecret,\n                    configuration\n                );\n\n                switch (result)\n                {\n                    // if payment is successful, navigate to payment success page. The server will update the booking status to booked\n                    case PaymentSheetResult.Completed:\n\n                        await navigationService.NavigateToAsync(nameof(PaymentSuccessView));\n                        break;\n                    case PaymentSheetResult.Canceled:\n                        await Shell.Current.DisplayAlert(\"Payment Result\", \"Payment failed!\", \"Ok\");\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":23869,"size_tokens":null},"Player/ViewModels/Connect/PlannedBookingsListViewModel.cs":{"content":"using System;\nusing Microsoft.Maui.Controls.PlatformConfiguration;\n\nnamespace Player.ViewModels.Connect;\n\n/// <summary>\n/// This class represents the view model for the PlannedBookingsList. It is used to display the planned bookings list from which the user can select a planned booking to host (connect the planned booking with the purchased booking)\n/// </summary>\npublic partial class PlannedBookingsListViewModel : BaseViewModel, IQueryAttributable\n{\n    [ObservableProperty]\n    public Booking? purchasedBooking;\n\n    [ObservableProperty]\n    ObservableCollection<PlannedBooking> plannedBookings;\n\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    string? conversationId;\n\n    VenueUser? player;\n\n    Realm realm;\n\n    IDisposable? plannedBookingsToken;\n\n    private readonly INavigationService? navigationService;\n\n    private readonly IRealmService? realmService;\n\n    private readonly IConnectivity? connectivity;\n\n    public PlannedBookingsListViewModel(\n        INavigationService navigationService,\n        IRealmService realmService,\n        IConnectivity connectivity\n    )\n        : base(navigationService, realmService, connectivity)\n    {\n        try\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n\n            PlannedBookings = new ObservableCollection<PlannedBooking>();\n\n            realm = Realm.GetInstance(realmService.Config);\n\n            player = realm\n                .All<VenueUser>()\n                .Where(g => g.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n\n            realm = Realm.GetInstance(realmService.Config);\n\n            plannedBookingsToken = realm\n                .All<PlannedBooking>()\n                .SubscribeForNotifications(\n                    async (sender, changes) =>\n                    {\n                        if (changes == null)\n                        {\n                            // This is the case when the notification is called\n                            // for the first time.\n                            // Populate tableview/listview with all the items\n                            // from `collection`\n\n                            return;\n                        }\n                        //Handle individual changes\n\n                        foreach (int i in changes.DeletedIndices)\n                        {\n                            // ... handle deletions ...\n\n                            await Initialize();\n                            return;\n                        }\n                        foreach (int i in changes.InsertedIndices)\n                        {\n                            // ... handle insertions ...\n\n                            await Initialize();\n                            return;\n                        }\n                        foreach (int i in changes.NewModifiedIndices)\n                        {\n                            // ... handle modifications ...\n                            await Initialize();\n                            return;\n                        }\n                    }\n                );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    public async void ApplyQueryAttributes(IDictionary<string, object> query)\n    {\n        try\n        {\n            if (query.TryGetValue(\"Id\", out object? id))\n            {\n                if (id != null)\n                {\n                    ObjectId objectId = ObjectId.Parse(id.ToString());\n                    PurchasedBooking = realm.Find<Booking>(objectId);\n                    await Initialize();\n                }\n            }\n            ;\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async Task Initialize()\n    {\n        try\n        {\n            if (player != null)\n            {\n                PlayerImage = player.ProfileImage;\n            }\n            if (PurchasedBooking != null)\n            {\n                PlannedBookings = player\n                    .PlannedBookings.Where(g => g.ConnectedBooking == null)\n                    .ToObservableCollection();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Connect(PlannedBooking plannedBooking)\n    {\n        try\n        {\n            await realm.WriteAsync(() =>\n            {\n                PurchasedBooking.ConnectedPlannedBooking = plannedBooking;\n                plannedBooking.ConnectedBooking = PurchasedBooking;\n                PurchasedBooking.ConversationId = plannedBooking.ConversationId;\n                PurchasedBooking.IsHosted = true;\n                PurchasedBooking.NumberOfPlayersRequiredForHosting = plannedBooking.NumberOfPlayers;\n            });\n\n            await NavigateBack();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task NavigateBack()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":5418,"size_tokens":null},"Player/Views/OnBoarding/OnBoardPage1.cs":{"content":"using CommunityToolkit.Maui.Markup;\n\nnamespace Player.Views.OnBoarding;\n\npublic class OnBoardPage1 : ContentPage\n{\n    INavigationService navigationService;\n\n    public OnBoardPage1(INavigationService navigationService)\n    {\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n        this.navigationService = navigationService;\n        Content = new ScrollView\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto),\n                    (BodyRow.tenth, Auto)\n                ),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, 50),\n                    (BodyColumn.second, Star)\n                ),\n\n                Children =\n                {\n                    new Image { HorizontalOptions = LayoutOptions.Start }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"dome_logo.png\",\n                            \"dome_logo_white.png\"\n                        )\n                        .Row(BodyRow.first)\n                        .ColumnSpan(2)\n                        .Margins(23, 24, 0, 16),\n                    new Image { Source = \"onboardfirstimage.png\" }\n                        .Row(BodyRow.second)\n                        .ColumnSpan(2),\n                    new Bold30Label { Text = \"Welcome to \\nDome!\" }\n                        .Row(BodyRow.third)\n                        .ColumnSpan(2)\n                        .Margins(36, 33, 0, 0),\n                    new Medium16Label { Text = \"Discover sports, playpals and coaches near you\" }\n                        .Row(BodyRow.fourth)\n                        .ColumnSpan(2)\n                        .Margins(36, 7, 39, 0),\n                    new Image\n                    {\n                        HeightRequest = 20,\n                        WidthRequest = 20,\n                        Source = \"findfacilities.png\",\n                    }\n                        .Row(BodyRow.fifth)\n                        .Margins(46, 30, 0, 0),\n                    new Medium14Label { Text = \"Find sport facilities around you\" }\n                        .Row(BodyRow.fifth)\n                        .Column(BodyColumn.second)\n                        .Margins(20, 30, 39, 0),\n                    new Image\n                    {\n                        HeightRequest = 20,\n                        WidthRequest = 20,\n                        Source = \"meetplaymates.png\",\n                    }\n                        .Row(BodyRow.sixth)\n                        .Margins(46, 16, 0, 0),\n                    new Medium14Label { Text = \"Meet up with playpals\" }\n                        .Row(BodyRow.sixth)\n                        .Column(BodyColumn.second)\n                        .Margins(20, 16, 39, 0),\n                    new Image\n                    {\n                        HeightRequest = 20,\n                        WidthRequest = 20,\n                        Source = \"engagewithcoach.png\",\n                    }\n                        .Row(BodyRow.seventh)\n                        .Margins(46, 16, 0, 0),\n                    new Medium14Label { Text = \"Locate and engage with your coach\" }\n                        .Row(BodyRow.seventh)\n                        .Column(BodyColumn.second)\n                        .Margins(20, 16, 39, 0),\n                    new Image\n                    {\n                        HeightRequest = 20,\n                        WidthRequest = 20,\n                        Source = \"onboard_learn.png\",\n                    }\n                        .Row(BodyRow.eighth)\n                        .Margins(46, 16, 0, 0),\n                    new Medium14Label { Text = \"Discover helpful tips and techniques\" }\n                        .Row(BodyRow.eighth)\n                        .Column(BodyColumn.second)\n                        .Margins(20, 16, 39, 0),\n                    new MediumButton\n                    {\n                        Text = \"Get Started\",\n                        HeightRequest = 40,\n                        WidthRequest = 308,\n                        HorizontalOptions = LayoutOptions.Center,\n                        CornerRadius = 20,\n                    }\n                        .Invoke(button => button.Clicked += Button_Clicked)\n                        .Margins(23, 30, 23, 15)\n                        .Row(BodyRow.ninth)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new Regular16Label\n                    {\n                        Text = \"LOGIN\",\n                        HorizontalOptions = LayoutOptions.Center,\n                        TextDecorations = TextDecorations.Underline,\n                    }\n                        .Invoke(label =>\n                        {\n                            label.GestureRecognizers.Add(\n                                new TapGestureRecognizer\n                                {\n                                    Command = new Command(async () =>\n                                        await navigationService.PopAsync()\n                                    ),\n                                }\n                            );\n                        })\n                        .Row(BodyRow.tenth)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                },\n            },\n        };\n    }\n\n    private async void Button_Clicked(object? sender, EventArgs e)\n    {\n        await navigationService.NavigateToAsync(nameof(OnBoardPage2));\n    }\n}\n","path":null,"size_bytes":5976,"size_tokens":null},"Dome.Shared/Services/Interfaces/Authentication/ILogoutService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Interfaces.Authentication;\n\npublic interface ILogoutService\n{\n    Task LogoutUser();\n}\n","path":null,"size_bytes":133,"size_tokens":null},"Player/CustomControls/Buttons/MediumButton.cs":{"content":"namespace Player.CustomControls.Buttons\n{\n    public class MediumButton : Button\n    {\n        public MediumButton()\n        {\n            Background = Color.FromArgb(\"#EF2F50\");\n            FontFamily = \"InterMedium\";\n            FontSize = 15;\n            TextColor = Colors.White;\n            CornerRadius = 10;\n            Padding = new Thickness(10);\n        }\n    }\n}\n","path":null,"size_bytes":374,"size_tokens":null},"Player/Views/Book/BookingTimingView.cs":{"content":"namespace Player.Views.Book;\n\npublic class BookingTimingView : BaseView\n{\n    BookingTimingViewModel viewModel;\n\n    CollectionView FieldsView;\n\n    public BookingTimingView(BookingTimingViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Style<Border> borderStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EF2F50\"),\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EDEDED\"),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            Style<Border> fieldStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EF2F50\"),\n                                        },\n                                        new Setter\n                                        {\n                                            Property = Border.StrokeThicknessProperty,\n                                            Value = 0,\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                        new Setter\n                                        {\n                                            Property = Border.StrokeThicknessProperty,\n                                            Value = .5,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n            this.viewModel = viewModel;\n            this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n            DataTemplate datesTemplate = new DataTemplate(() =>\n            {\n                return new Border\n                {\n                    Padding = 5,\n                    Style = borderStyle,\n                    StrokeThickness = 0,\n                    StrokeShape = new RoundRectangle { CornerRadius = 10 },\n                    Content = new VerticalStackLayout\n                    {\n                        Spacing = 1,\n                        Margin = new Thickness(4),\n                        Children =\n                        {\n                            new Medium10Label { }\n                                .Bind(\n                                    Label.TextProperty,\n                                    nameof(VenueDate.Date),\n                                    stringFormat: \"{0: MMM}\"\n                                )\n                                .Bind(\n                                    Label.TextColorProperty,\n                                    nameof(VenueDate.IsSelected),\n                                    BindingMode.OneWay,\n                                    convert: (bool state) =>\n                                        state == false ? Colors.Black : Colors.White\n                                ),\n                            new Bold16Label { }\n                                .Bind(\n                                    Label.TextProperty,\n                                    nameof(VenueDate.Date),\n                                    stringFormat: \"{0: dd}\"\n                                )\n                                .Bind(\n                                    Label.TextColorProperty,\n                                    nameof(VenueDate.IsSelected),\n                                    BindingMode.OneWay,\n                                    convert: (bool state) =>\n                                        state == false ? Colors.Black : Colors.White\n                                ),\n                            new Medium10Label { }\n                                .Bind(\n                                    Label.TextProperty,\n                                    nameof(VenueDate.Date),\n                                    stringFormat: \"{0: ddd}\"\n                                )\n                                .Bind(\n                                    Label.TextColorProperty,\n                                    nameof(VenueDate.IsSelected),\n                                    BindingMode.OneWay,\n                                    convert: (bool state) =>\n                                        state == false ? Colors.Black : Colors.White\n                                ),\n                        },\n                    },\n                }.Bind(\n                    BackgroundProperty,\n                    nameof(VenueDate.IsSelected),\n                    convert: (bool state) =>\n                        state == false ? Color.FromArgb(\"#EDEDED\") : Color.FromArgb(\"#EF2F50\")\n                );\n            });\n\n            CollectionView DatesCollection = new CollectionView\n            {\n                HeightRequest = 70,\n                SelectionMode = SelectionMode.Single,\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Horizontal)\n                {\n                    ItemSpacing = 5,\n                },\n                ItemTemplate = datesTemplate,\n                SelectionChangedCommand = viewModel.DateSelectedCommand,\n            };\n            DatesCollection.Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.VenueDates));\n            DatesCollection.Bind(\n                SelectableItemsView.SelectedItemProperty,\n                nameof(viewModel.SelectedDate)\n            );\n\n            DataTemplate fieldsTemplate = new DataTemplate(() =>\n            {\n                return new Border\n                {\n                    Style = fieldStyle,\n                    StrokeShape = new RoundRectangle { CornerRadius = 10 },\n                    Padding = new Thickness(7, 5),\n                    Content = new Light14Label\n                    {\n                        VerticalOptions = LayoutOptions.Center,\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Bind(\n                            Light14Label.TextProperty,\n                            nameof(Field.FieldName),\n                            stringFormat: \"{0:mm}\"\n                        )\n                        .Bind(\n                            Light14Label.TextColorProperty,\n                            nameof(Field.IsSelected),\n                            convert: (bool isSelected) =>\n                            {\n                                if (isSelected)\n                                {\n                                    return Colors.White;\n                                }\n                                else\n                                {\n                                    if (App.Current.UserAppTheme == AppTheme.Dark)\n                                    {\n                                        return Colors.White;\n                                    }\n                                    else if (App.Current.UserAppTheme == AppTheme.Light)\n                                    {\n                                        return Colors.Black;\n                                    }\n                                }\n                                return Colors.Black;\n                            }\n                        ),\n                }.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.LightGray);\n            });\n\n            FieldsView = new CollectionView\n            {\n                SelectionMode = SelectionMode.Multiple,\n                ItemTemplate = fieldsTemplate,\n                SelectionChangedCommand = viewModel.FieldSelectedCommand,\n                ItemsLayout = new GridItemsLayout(3, ItemsLayoutOrientation.Vertical)\n                {\n                    HorizontalItemSpacing = 10,\n                    VerticalItemSpacing = 10,\n                },\n            };\n\n            FieldsView.Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.AvailableFields));\n            FieldsView.Bind(\n                SelectableItemsView.SelectedItemsProperty,\n                nameof(viewModel.SelectedFields),\n                BindingMode.TwoWay,\n                source: viewModel\n            );\n\n            // empty view set to a label is not visible\n            // FieldsView.EmptyView =new Regular16Label {Text= \"All fields are full in the selected date and time\" } ;\n\n            // empty view set to a string is visible\n            FieldsView.EmptyView = \"No Available slots for selected date and time\";\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new ScrollView\n                {\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto),\n                            (BodyRow.seventh, Auto),\n                            (BodyRow.eighth, Auto),\n                            (BodyRow.ninth, Auto),\n                            (BodyRow.tenth, Auto),\n                            (BodyRow.eleventh, Auto),\n                            (BodyRow.twelfth, Auto),\n                            (BodyRow.thirteenth, Auto)\n                        ),\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Star),\n                            (BodyColumn.second, Auto),\n                            (BodyColumn.third, Star)\n                        ),\n\n                        Children =\n                        {\n                            new Medium14Label { }\n                                .AppThemeBinding(\n                                    Medium14Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"BBBBBB\")\n                                )\n                                .Bind(Label.TextProperty, nameof(viewModel.GameName))\n                                .Margins(34, 20, 20, 6)\n                                .Row(BodyRow.first)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Bold28Label { }\n                                .Bind(\n                                    Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.FullName)}\"\n                                )\n                                .Margins(34, 0, 44, 2)\n                                .Row(BodyRow.second)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Medium12Label { }\n                                .AppThemeBinding(\n                                    Medium14Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"BBBBBB\")\n                                )\n                                .Bind(\n                                    Medium12Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.FullAddress)}\",\n                                    BindingMode.OneWay\n                                )\n                                .Margins(34, 0, 44, 13)\n                                .Row(BodyRow.third)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                HeightRequest = 2,\n                            }\n                                .Row(BodyRow.fourth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Bold14Label { TextColor = Color.FromArgb(\"#EF2F50\") }\n                                .Bind(\n                                    Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedDate)}.{nameof(viewModel.SelectedDate.Date)}\",\n                                    stringFormat: \"{0:dddd dd MMMM yyyy}\"\n                                )\n                                .Margins(34, 16, 44, 0)\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            DatesCollection\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(34, 16, 0, 28),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                HeightRequest = 2,\n                            }\n                                .Row(BodyRow.seventh)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new VerticalStackLayout\n                            {\n                                Padding = new Thickness(0, 10, 0, 25),\n                                VerticalOptions = LayoutOptions.Start,\n                                Spacing = 7,\n                                Children =\n                                {\n                                    new SemiBold12Label\n                                    {\n                                        Text = \"TIME\",\n                                        TextColor = Color.FromArgb(\"#828282\"),\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    },\n                                    new SemiBold16Label\n                                    {\n                                        VerticalOptions = LayoutOptions.Start,\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    }\n                                        .AppThemeBinding(\n                                            SemiBold16Label.TextColorProperty,\n                                            Color.FromArgb(\"#636363\"),\n                                            Color.FromArgb(\"#D4D4D4\")\n                                        )\n                                        .Bind(\n                                            SemiBold16Label.TextProperty,\n                                            $\"{nameof(viewModel.SelectedStartTime)}.{nameof(viewModel.SelectedStartTime.Date)}\",\n                                            converter: new CommunityToolkit.Maui.Converters.DateTimeOffsetConverter(),\n                                            stringFormat: \"{0:HH : mm}\"\n                                        ),\n                                },\n                            }\n                                .BindTapGesture(nameof(viewModel.SelectStartTimeCommand))\n                                .Row(BodyRow.eighth)\n                                .Column(BodyColumn.first),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                WidthRequest = 2,\n                                VerticalOptions = LayoutOptions.Fill,\n                            }\n                                .Row(BodyRow.eighth)\n                                .Column(BodyColumn.second),\n                            new VerticalStackLayout\n                            {\n                                Padding = new Thickness(0, 10, 0, 25),\n                                VerticalOptions = LayoutOptions.Start,\n                                Spacing = 7,\n                                Children =\n                                {\n                                    new SemiBold12Label\n                                    {\n                                        Text = \"DURATION\",\n                                        HorizontalOptions = LayoutOptions.Center,\n                                        TextColor = Color.FromArgb(\"#828282\"),\n                                    },\n                                    new HorizontalStackLayout\n                                    {\n                                        HorizontalOptions = LayoutOptions.Center,\n                                        VerticalOptions = LayoutOptions.Start,\n                                        Spacing = 20,\n                                        Children =\n                                        {\n                                            new ImageButton\n                                            {\n                                                Source = \"substract_time.png\",\n                                                HeightRequest = 24,\n                                                WidthRequest = 23,\n                                            }.BindCommand(nameof(viewModel.SubtractTimeCommand)),\n                                            new SemiBold16Label\n                                            {\n                                                VerticalOptions = LayoutOptions.Center,\n                                            }\n                                                .AppThemeBinding(\n                                                    SemiBold16Label.TextColorProperty,\n                                                    Color.FromArgb(\"#636363\"),\n                                                    Color.FromArgb(\"#D4D4D4\")\n                                                )\n                                                .Bind(\n                                                    SemiBold16Label.TextProperty,\n                                                    nameof(viewModel.BookingDuration),\n                                                    stringFormat: \"{0} min\"\n                                                ),\n                                            new ImageButton\n                                            {\n                                                Source = \"add_time.png\",\n                                                HeightRequest = 24,\n                                                WidthRequest = 23,\n                                            }.BindCommand(nameof(viewModel.AddTimeCommand)),\n                                        },\n                                    },\n                                },\n                            }\n                                .Row(BodyRow.eighth)\n                                .Column(BodyColumn.third),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                HeightRequest = 2,\n                                HorizontalOptions = LayoutOptions.Fill,\n                            }\n                                .Row(BodyRow.ninth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            FieldsView\n                                .Margins(40, 16, 45, 20)\n                                .Row(BodyRow.tenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                HeightRequest = 2,\n                                HorizontalOptions = LayoutOptions.Fill,\n                            }\n                                .Row(BodyRow.eleventh)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new MediumButton\n                            {\n                                Text = \"Next\",\n                                HeightRequest = 40,\n                                Padding = new Thickness(2),\n                            }\n                                .BindCommand(nameof(viewModel.BookNowCommand), source: viewModel)\n                                .Margins(37, 45, 45, 15)\n                                .Row(BodyRow.twelfth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                        },\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":24290,"size_tokens":null},"Player/Models/LocalModels/FavouriteGame.cs":{"content":"﻿namespace Player.Models.LocalModels\n{\n    /// <summary>\n    /// the FavouriteGame is a class that represents the favourite game of the user. The games are created in memory and the user select favourite games from all the games while creating the user profile.\n    /// </summary>\n    public partial class FavouriteGame : ObservableObject\n    {\n        public FavouriteGame(string gameName)\n        {\n            GameName = gameName;\n        }\n\n        public string GameName { get; set; }\n\n        [ObservableProperty]\n        public bool isSelected;\n    }\n}\n","path":null,"size_bytes":562,"size_tokens":null},"Admin/CustomControls/Entries/CustomEntry.cs":{"content":"﻿namespace Admin.CustomControls.Entries\n{\n    public class CustomEntry : Entry\n    {\n        public CustomEntry()\n        {\n            this.AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n            this.FontFamily = \"InterRegular\";\n            this.FontSize = 16;\n        }\n    }\n}\n","path":null,"size_bytes":402,"size_tokens":null},"Admin/Resources/Styles/VisualStates.cs":{"content":"namespace Admin.Resources.Styles\n{\n    public class VisualStates : ResourceDictionary\n    {\n        public VisualStates()\n        {\n            Add(nameof(BorderVisualState), BorderVisualState);\n            Add(nameof(LabelVisualState), LabelVisualState);\n        }\n\n        public static Style BorderVisualState = new Style<Border>(\n            (\n                VisualStateManager.VisualStateGroupsProperty,\n                new VisualStateGroupList\n                {\n                    new VisualStateGroup\n                    {\n                        Name = nameof(VisualStateManager.CommonStates),\n                        States =\n                        {\n                            new VisualState\n                            {\n                                Name = VisualStateManager.CommonStates.Selected,\n                                Setters =\n                                {\n                                    new Setter\n                                    {\n                                        Property = Border.BackgroundProperty,\n                                        Value = Color.FromArgb(\"#EF2F50\"),\n                                    },\n                                },\n                            },\n                            new VisualState\n                            {\n                                Name = VisualStateManager.CommonStates.Normal,\n                                Setters =\n                                {\n                                    new Setter\n                                    {\n                                        Property = Border.BackgroundProperty,\n                                        Value = Colors.LightGray,\n                                    },\n                                },\n                            },\n                        },\n                    },\n                }\n            ),\n            (Border.StrokeThicknessProperty, 0),\n            (Border.PaddingProperty, new Thickness(8, 4)),\n            (Border.StrokeShapeProperty, new RoundRectangle { CornerRadius = new CornerRadius(10) })\n        ).ApplyToDerivedTypes(true);\n\n        public static Style LabelVisualState = new Style<Label>(\n            VisualStateManager.VisualStateGroupsProperty,\n            new VisualStateGroupList\n            {\n                new VisualStateGroup\n                {\n                    Name = nameof(VisualStateManager.CommonStates),\n                    States =\n                    {\n                        new VisualState\n                        {\n                            Name = VisualStateManager.CommonStates.Selected,\n                            Setters =\n                            {\n                                new Setter\n                                {\n                                    Property = Label.TextColorProperty,\n                                    Value = Colors.White,\n                                },\n                            },\n                        },\n                        new VisualState\n                        {\n                            Name = VisualStateManager.CommonStates.Normal,\n                            Setters =\n                            {\n                                new Setter\n                                {\n                                    Property = Label.TextColorProperty,\n                                    Value = Colors.Black,\n                                },\n                            },\n                        },\n                    },\n                },\n            }\n        );\n    }\n}\n","path":null,"size_bytes":3573,"size_tokens":null},"Admin/Services/Implementations/ImageService.cs":{"content":"﻿using Amazon;\nusing Amazon.Runtime;\nusing Amazon.S3;\nusing Amazon.S3.Model;\n\nnamespace Dome.Admin.Services.Implementations\n{\n    public class ImageService : IImageService\n    {\n        readonly string? bucketName;\n        readonly string? accessKey;\n        readonly string? secretAccessKey;\n        readonly string region = \"ca-central-1\";\n\n        readonly IAmazonS3 s3Client;\n        private readonly IMediaPicker? mediaPicker;\n        private readonly IFileSystem? fileSystem;\n\n        public ImageService(\n            IMediaPicker mediaPicker,\n            ISecretsService secretsService,\n            IFileSystem fileSystem\n        )\n        {\n            this.mediaPicker = mediaPicker;\n            this.fileSystem = fileSystem;\n            bucketName = secretsService?.AWSS3BucketName;\n            accessKey = secretsService?.AWSS3AccessKey;\n            secretAccessKey = secretsService?.AWSS3SecretAccessKey;\n\n            var credentials = new BasicAWSCredentials(accessKey, secretAccessKey);\n            var config = new AmazonS3Config\n            {\n                RegionEndpoint = RegionEndpoint.CACentral1,\n                ServiceURL = \"https://s3.ca-central-1.amazonaws.com\",\n            };\n\n            this.s3Client = new AmazonS3Client(credentials, config);\n        }\n\n        public async Task UploadImageToAWSS3Async(byte[] imageBytes, string imageName)\n        {\n            // convert byte[] to Stream\n            using MemoryStream photoStream = new MemoryStream(imageBytes);\n            // get the file extension\n            string extension = System.IO.Path.GetExtension(imageName);\n\n            string type = string.Empty;\n            if (extension == \".jpeg\" || extension == \".jpg\")\n            {\n                type = \"image/jpeg\";\n            }\n            else if (extension == \".png\")\n            {\n                type = \"image/png\";\n            }\n            else if (extension == \".gif\")\n            {\n                type = \"image/gif\";\n            }\n            else if (extension == \".bmp\")\n            {\n                type = \"image/bmp\";\n            }\n\n            var request = new PutObjectRequest\n            {\n                BucketName = bucketName,\n                Key = imageName,\n                InputStream = photoStream,\n                ContentType = type,\n            };\n\n            await s3Client.PutObjectAsync(request);\n        }\n\n        public async Task DownloadImageFromAWSS3Async(string imageName)\n        {\n            var path = fileSystem?.AppDataDirectory;\n            var fullPath = System.IO.Path.Combine(path, imageName);\n\n            var request = new GetObjectRequest { BucketName = bucketName, Key = imageName };\n\n            await Task.Run(async () =>\n            {\n                using GetObjectResponse? response = await s3Client.GetObjectAsync(request);\n                using Stream? responseStream = response.ResponseStream;\n                MemoryStream memoryStream = new MemoryStream();\n                responseStream.CopyTo(memoryStream);\n                memoryStream.Position = 0;\n\n                await File.WriteAllBytesAsync(fullPath, memoryStream.ToArray());\n            });\n        }\n\n        public async Task<byte[]?> GetImageFromLocalStorageAsync(string imageName)\n        {\n            var path = fileSystem?.AppDataDirectory;\n            var fullPath = System.IO.Path.Combine(path, imageName);\n            bool exists = File.Exists(fullPath);\n            if (!exists)\n            {\n                return null;\n            }\n            byte[] imageBytes = await File.ReadAllBytesAsync(fullPath);\n\n            if (imageBytes != null)\n            {\n                return imageBytes;\n            }\n\n            return null;\n        }\n\n        public async Task DeleteImageFromAWSS3Async(string imageName)\n        {\n            var request = new DeleteObjectRequest { BucketName = bucketName, Key = imageName };\n\n            await s3Client.DeleteObjectAsync(request);\n        }\n\n        public async Task<Dictionary<string, object>?> PickImageAsync()\n        {\n            byte[]? selectedImage = null;\n\n            FileResult fileResult = await mediaPicker.PickPhotoAsync(\n                new MediaPickerOptions { Title = \"Please pick a photo\" }\n            );\n\n            if (fileResult != null)\n            {\n                using Stream photoStream = await fileResult.OpenReadAsync();\n\n                if (photoStream != null)\n                {\n                    using MemoryStream memoryStream = new MemoryStream();\n                    photoStream.CopyTo(memoryStream);\n                    memoryStream.Position = 0;\n                    photoStream.Position = 0;\n                    selectedImage = memoryStream.ToArray();\n                    string extension = System.IO.Path.GetExtension(fileResult.FileName);\n                    return new Dictionary<string, object>\n                    {\n                        { \"image\", selectedImage },\n                        { \"extension\", extension },\n                    };\n                }\n            }\n\n            return null;\n        }\n    }\n}\n","path":null,"size_bytes":5092,"size_tokens":null},"Player/Models/Chat/SendMessageResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class SendMessageResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"timestamp\")]\n    public string? TimeStamp { get; set; }\n\n    [JsonPropertyName(\"sender\")]\n    public string? Sender { get; set; }\n\n    [JsonPropertyName(\"status\")]\n    public string? Status { get; set; }\n}\n","path":null,"size_bytes":382,"size_tokens":null},"Player/Services/Implementations/ChatService.cs":{"content":"using System;\nusing Player.Models.Chat;\n\nnamespace Player.Services.Implementations;\n\npublic class ChatService : IChatService\n{\n    HttpClient httpClient = new HttpClient()\n    {\n        BaseAddress = new Uri(\"http://domechat.site/dome/\"),\n    };\n\n    public async Task<ParticipantCreateResponse?> CreateParticipant(string username)\n    {\n        // send a request to the server to create a user using the username in formdata format\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(username), \"username\");\n\n        var response = await httpClient.PostAsync(\"createUser\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<ParticipantCreateResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<ConversationCreateResponse?> CreateOneToOneConversation(\n        string username,\n        string other_user\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(username), \"username\");\n        formData.Add(new StringContent(other_user), \"other_user\");\n\n        var response = await httpClient.PostAsync(\"createConversation\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<ConversationCreateResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<ConversationCreateResponse?> CreateGroupConversation(\n        string username,\n        string other_users\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(username), \"username\");\n        formData.Add(new StringContent(other_users), \"other_users\");\n\n        var response = await httpClient.PostAsync(\"createConversation\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<ConversationCreateResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<AddRemoveUserResponse?> AddConversationUsers(\n        string convo_sid,\n        string username,\n        string other_users\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(convo_sid), \"convo_sid\");\n        formData.Add(new StringContent(username), \"username\");\n        formData.Add(new StringContent(other_users), \"other_users\");\n\n        var response = await httpClient.PostAsync(\"addConversationUsers\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<AddRemoveUserResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<AddRemoveUserResponse?> RemoveConversationUser(\n        string convo_sid,\n        string username,\n        string other_user\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(convo_sid), \"convo_sid\");\n        formData.Add(new StringContent(username), \"username\");\n        formData.Add(new StringContent(other_user), \"other_user\");\n\n        var response = await httpClient.PostAsync(\"removeConversationUser\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<AddRemoveUserResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<SendMessageResponse?> SendMessage(\n        string sender,\n        string convo_sid,\n        string message\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(sender), \"sender\");\n        formData.Add(new StringContent(convo_sid), \"convo_sid\");\n        formData.Add(new StringContent(message), \"message\");\n\n        var response = await httpClient.PostAsync(\"sendMessage\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<SendMessageResponse>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<List<LoadMessagesResponse>?> LoadMessages(string convo_sid)\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(convo_sid), \"convo_sid\");\n\n        var response = await httpClient.PostAsync(\"loadMessages\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<List<LoadMessagesResponse>>(dataInJSON);\n\n        return data;\n    }\n\n    public async Task<DeleteConversationResponse?> DeleteConversation(\n        string convo_sid,\n        string username\n    )\n    {\n        var formData = new MultipartFormDataContent();\n        formData.Add(new StringContent(convo_sid), \"convo_sid\");\n        formData.Add(new StringContent(username), \"username\");\n\n        var response = await httpClient.PostAsync(\"deleteConversation\", formData);\n\n        var dataInJSON = await response.Content.ReadAsStringAsync();\n\n        var data = JsonSerializer.Deserialize<DeleteConversationResponse>(dataInJSON);\n\n        return data;\n    }\n}\n","path":null,"size_bytes":5065,"size_tokens":null},"Player/ViewModels/Account/LoginViewModel.cs":{"content":"﻿using Player.Views.OnBoarding;\n\nnamespace Player.ViewModels.Account\n{\n    public partial class LoginViewModel(\n        INavigationService navigationService,\n        IConnectivity connectivity,\n        ISettingsService settingsService,\n        IPopupNavigation popupNavigation\n    ) : AccountBaseViewModel(navigationService, connectivity, settingsService)\n    {\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        [ObservableProperty]\n        string email = String.Empty;\n\n        [Required(ErrorMessage = \"Password is Empty\")]\n        [ObservableProperty]\n        string password = String.Empty;\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string passwordError = string.Empty;\n\n        private readonly INavigationService navigationService = navigationService;\n        private readonly IConnectivity connectivity = connectivity;\n        private readonly ISettingsService settingsService = settingsService;\n        private readonly IPopupNavigation popupNavigation = popupNavigation;\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == null)\n                {\n                    return;\n                }\n                if (e.PropertyName.Contains(\"Error\") || e.PropertyName == \"VisibilityImage\")\n                {\n                    return;\n                }\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.First().ErrorMessage ?? \"error\";\n\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"Email\":\n                        EmailError = errorMessage;\n                        break;\n                    case \"Password\":\n                        PasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task Login()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n\n                    foreach (ValidationResult validationResult in propertyErrors)\n                    {\n                        string? errorMessage = validationResult.ErrorMessage ?? \"error\";\n                        SetErrorValue(validationResult.MemberNames.ElementAt(0), errorMessage);\n                    }\n                    return;\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                Email = Email.ToLower();\n                User RealmUser = await App.RealmApp.LogInAsync(\n                    Credentials.EmailPassword(Email, Password)\n                );\n                if (RealmUser != null)\n                {\n                    // check if the user is a store tester. If the user is a tester, navigate to LoadDataView, else navigate to AuthenticateEmailForLoginView.\n                    if (Email == \"tester@store.com\")\n                    {\n                        await navigationService.NavigateToAsync($\"///{nameof(LoadDataView)}\");\n                    }\n                    else\n                    {\n                        settingsService.IsLoginAuthenticationPending = true;\n                        await navigationService.NavigateToAsync(\n                            $\"///{nameof(AuthenticateEmailForLoginView)}\"\n                        );\n                    }\n\n                    await popupNavigation.PopAsync();\n                    Email = string.Empty;\n                    Password = string.Empty;\n                }\n                else\n                {\n                    await popupNavigation.PopAsync();\n                    await AlertHelper.ShowSnackBar(\"Sign in fail! please try again\");\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ForgotPassword()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(ForgotPasswordView));\n                Email = string.Empty;\n                Password = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task SignUp()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(OnBoardPage1));\n\n                Email = string.Empty;\n                Password = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6190,"size_tokens":null},"Player/Views/Book/VenueDetailsView.cs":{"content":"namespace Player.Views.Book;\n\npublic class VenueDetailsView : BaseView\n{\n    public VenueDetailsView(VenueDetailsViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n\n            FormattedString weekDayFormattedString = new FormattedString();\n            Span rupeeSpan = new Span { }.Bind(\n                Span.TextProperty,\n                $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.WeekdayHourlyRate)}\",\n                stringFormat: \"${0} \"\n            );\n            Span textSpan = new Span { Text = \"per hour\", FontSize = 9 };\n\n            weekDayFormattedString.Spans.Add(rupeeSpan);\n            weekDayFormattedString.Spans.Add(textSpan);\n\n            FormattedString weekEndFormattedString = new FormattedString();\n            Span weekEndRupeeSpan = new Span { }.Bind(\n                Span.TextProperty,\n                $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.WeekendHourlyRate)}\",\n                stringFormat: \"${0} \"\n            );\n            Span weekEndTextSpan = new Span { Text = \"per hour\", FontSize = 9 };\n\n            weekEndFormattedString.Spans.Add(weekEndRupeeSpan);\n            weekEndFormattedString.Spans.Add(weekEndTextSpan);\n\n            IndicatorView indicatorView = new IndicatorView\n            {\n                IndicatorColor = Colors.DarkGray,\n                SelectedIndicatorColor = Color.FromArgb(\"#EF2F50\"),\n                IndicatorSize = 8,\n                HorizontalOptions = LayoutOptions.Center,\n            };\n\n            CollectionView amenitiesCollection = new CollectionView\n            {\n                ItemSizingStrategy = ItemSizingStrategy.MeasureAllItems,\n                HeightRequest = 40,\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        StrokeThickness = .5,\n                        Background = Colors.Transparent,\n                        StrokeShape = new RoundRectangle { CornerRadius = 7 },\n                        HorizontalOptions = LayoutOptions.Center,\n                        Content = new HorizontalStackLayout\n                        {\n                            Padding = new Thickness(10, 5),\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Image { HeightRequest = 20, WidthRequest = 20 }.Bind(\n                                    Image.SourceProperty,\n                                    nameof(Amenity.AmenityImage),\n                                    converter: new ByteArrayToImageSourceConverter()\n                                ),\n                                new Medium11Label\n                                {\n                                    VerticalOptions = LayoutOptions.Center,\n                                    HorizontalOptions = LayoutOptions.Center,\n                                }.Bind(\n                                    Medium11Label.TextProperty,\n                                    nameof(Amenity.AmenityName),\n                                    stringFormat: \"{0:mm}\"\n                                ),\n                            },\n                        },\n                    }\n                        .AppThemeBinding(Border.StrokeProperty, Colors.Black, Colors.White)\n                        .Margins(0, 7, 0, 7);\n                }),\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Horizontal)\n                {\n                    ItemSpacing = 10,\n                },\n            }.Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.Amenities));\n            SemiBold14Label weekDayLabel = new SemiBold14Label { }.AppThemeBinding(\n                SemiBold14Label.TextColorProperty,\n                Color.FromArgb(\"#626262\"),\n                Color.FromArgb(\"BBBBBB\")\n            );\n            weekDayLabel.SetBinding(\n                Label.TextProperty,\n                new MultiBinding\n                {\n                    Bindings = new Collection<BindingBase>\n                    {\n                        new Binding(\n                            $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.Timing)}.{nameof(viewModel.SelectedGame.Timing.WeekdayOpenTime)}\",\n                            stringFormat: \"{0: HH:mm}\"\n                        ),\n                        new Binding(\n                            $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.Timing)}.{nameof(viewModel.SelectedGame.Timing.WeekdayCloseTime)}\",\n                            stringFormat: \"{0: HH:mm}\"\n                        ),\n                    },\n                    StringFormat = \"{0} - {1}\",\n                }\n            );\n\n            SemiBold14Label weekEndLabel = new SemiBold14Label { }.AppThemeBinding(\n                SemiBold14Label.TextColorProperty,\n                Color.FromArgb(\"#626262\"),\n                Color.FromArgb(\"BBBBBB\")\n            );\n            weekEndLabel.SetBinding(\n                Label.TextProperty,\n                new MultiBinding\n                {\n                    Bindings = new Collection<BindingBase>\n                    {\n                        new Binding(\n                            $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.Timing)}.{nameof(viewModel.SelectedGame.Timing.WeekendOpenTime)}\",\n                            stringFormat: \"{0: HH:mm}\"\n                        ),\n                        new Binding(\n                            $\"{nameof(viewModel.SelectedGame)}.{nameof(viewModel.SelectedGame.Timing)}.{nameof(viewModel.SelectedGame.Timing.WeekendCloseTime)}\",\n                            stringFormat: \"{0: HH:mm}\"\n                        ),\n                    },\n                    StringFormat = \"{0} - {1}\",\n                }\n            );\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new ScrollView\n                {\n                    Padding = new Thickness(36, 20, 36, 64),\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto),\n                            (BodyRow.seventh, Auto),\n                            (BodyRow.eighth, Auto),\n                            (BodyRow.ninth, Auto),\n                            (BodyRow.tenth, Auto),\n                            (BodyRow.eleventh, Auto),\n                            (BodyRow.twelfth, Auto),\n                            (BodyRow.thirteenth, Auto),\n                            (BodyRow.fourteenth, Auto)\n                        ),\n\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Auto),\n                            (BodyColumn.second, Star),\n                            (BodyColumn.third, Auto)\n                        ),\n\n                        Children =\n                        {\n                            new Medium14Label { }\n                                .AppThemeBinding(\n                                    Medium14Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"BBBBBB\")\n                                )\n                                .Bind(\n                                    Medium14Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.SelectedGamesName)}\"\n                                )\n                                .Row(BodyRow.first)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Bold28Label { }\n                                .Bind(\n                                    Bold28Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.FullName)}\"\n                                )\n                                .Row(BodyRow.second)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Medium12Label { }\n                                .AppThemeBinding(\n                                    Medium12Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"BBBBBB\")\n                                )\n                                .Bind(\n                                    Medium12Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.FullAddress)}\",\n                                    BindingMode.OneWay\n                                )\n                                .Row(BodyRow.third)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new CarouselView\n                            {\n                                HeightRequest = 200,\n                                ItemTemplate = new DataTemplate(() =>\n                                {\n                                    return new Border\n                                    {\n                                        StrokeThickness = 0,\n                                        StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                                        Padding = 0,\n                                        Content = new Image\n                                        {\n                                            HeightRequest = 200,\n                                            Aspect = Aspect.AspectFill,\n                                        }.Bind(\n                                            Image.SourceProperty,\n                                            \".\",\n                                            converter: new ByteArrayToImageSourceConverter()\n                                        ),\n                                    };\n                                }),\n                                ItemsLayout = new LinearItemsLayout(\n                                    ItemsLayoutOrientation.Horizontal\n                                )\n                                {\n                                    SnapPointsAlignment = SnapPointsAlignment.Center,\n                                    SnapPointsType = SnapPointsType.MandatorySingle,\n                                    ItemSpacing = 0,\n                                },\n\n                                IndicatorView = indicatorView,\n                            }\n                                .Bind(\n                                    ItemsView.ItemsSourceProperty,\n                                    $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.SelectedGamesImages)}\"\n                                )\n                                .Row(BodyRow.fourth)\n                                .Margins(0, 10, 0, 0)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            indicatorView\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(0, 10, 0, 0),\n                            //  new Border\n                            //  {\n                            //         StrokeThickness = 0,\n                            //         StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                            //         Padding = 0,\n                            //         Content=new Image {HeightRequest=200, Aspect= Aspect.AspectFill }.Bind(Image.SourceProperty,  $\"{nameof(viewModel.SelectedVenue)}.{nameof(viewModel.SelectedVenue.SelectedGamesImage)}\", converter: new ByteArrayToImageSourceConverter(), source:viewModel)\n                            //  }.Row(BodyRow.fourth).Margins(0,10,0,0).Column(BodyColumn.first).ColumnSpan(3),\n\n                            new Medium12Label\n                            {\n                                Text = \"Weekday\",\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                            }\n                                .Margins(0, 15, 0, 0)\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first),\n                            weekDayLabel.Row(BodyRow.sixth).Column(BodyRow.first)\n                            .Margins(0,0,0,10),\n                            new Medium12Label\n                            {\n                                Text = \"Weekend\",\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                            }\n                                .Margins(0, 15, 0, 0)\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.third),\n                            weekEndLabel.Row(BodyRow.sixth).Column(BodyColumn.third)\n                            .Margins(0,0,0,10),\n                            // new SemiBold14Label { FormattedText = weekDayFormattedString }\n                            //     .AppThemeBinding(\n                            //         SemiBold14Label.TextColorProperty,\n                            //         Color.FromArgb(\"#626262\"),\n                            //         Color.FromArgb(\"BBBBBB\")\n                            //     )\n                            //     .Margins(0, 0, 0, 10)\n                            //     .Row(BodyRow.seventh)\n                            //     .Column(BodyColumn.first),\n                            // new SemiBold14Label { FormattedText = weekEndFormattedString }\n                            //     .AppThemeBinding(\n                            //         SemiBold14Label.TextColorProperty,\n                            //         Color.FromArgb(\"#626262\"),\n                            //         Color.FromArgb(\"BBBBBB\")\n                            //     )\n                            //     .Margins(0, 0, 0, 10)\n                            //     .Row(BodyRow.seventh)\n                            //     .Column(BodyColumn.third),\n                            new Rectangle\n                            {\n                                HeightRequest = 2,\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                            }\n                                .Row(BodyRow.eighth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new SemiBold13Label { Text = \"About Venue\" }\n                                .Margins(0, 7, 0, 0)\n                                .Row(BodyRow.ninth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Medium12Label { }\n                                .Margins(0, 0, 0, 7)\n                                .Bind(\n                                    Medium12Label.TextProperty,\n                                    nameof(viewModel.AboutVenue),\n                                    source: viewModel\n                                )\n                                .Row(BodyRow.tenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Rectangle\n                            {\n                                HeightRequest = 2,\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                            }\n                                .Row(BodyRow.eleventh)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new SemiBold13Label { Text = \"Amenities\" }\n                                .AppThemeBinding(\n                                    SemiBold13Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"BBBBBB\")\n                                )\n                                .Margins(0, 5, 0, 0)\n                                .Row(BodyRow.twelfth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            amenitiesCollection\n                                .Row(BodyRow.thirteenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new MediumButton\n                            {\n                                Text = \"Book Now\",\n                                HeightRequest = 40,\n                                WidthRequest = 316,\n                                Padding = new Thickness(2),\n                            }\n                                .BindCommand(nameof(viewModel.BookNowCommand), source: viewModel)\n                                .Margins(0, 25, 0, 0)\n                                .Row(BodyRow.fourteenth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                        },\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":18468,"size_tokens":null},"Player/Services/Interfaces/ILocationService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface ILocationService\n    {\n        Task<Placemark?> GetCurrentLocation();\n    }\n}\n","path":null,"size_bytes":141,"size_tokens":null},"Admin/CustomControls/Borders/CustomBorder.cs":{"content":"namespace Admin.CustomControls.Borders\n{\n    public class CustomBorder : Border\n    {\n        public CustomBorder()\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) };\n            Padding = new Thickness(0);\n\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n\n            this.AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black);\n        }\n    }\n}\n","path":null,"size_bytes":478,"size_tokens":null},"Dome.Shared/Services/Implementations/Authentication/RegistrationService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Implementations.Authentication;\n\npublic class RegistrationService\n{\n    private readonly FrontendApi _frontendApi;\n\n    public RegistrationService()\n    {\n        var configuration = new Configuration { BasePath = AppConstants.BaseUrl };\n\n        _frontendApi = new FrontendApi(configuration);\n    }\n\n    public async Task<ClientRegistrationFlow> CreateRegistrationFlow()\n    {\n        try\n        {\n            return await _frontendApi.CreateNativeRegistrationFlowAsync();\n        }\n        catch (ApiException e)\n        {\n            Console.WriteLine($\"Error creating registration flow: {e.Message}\");\n            throw;\n        }\n    }\n\n    public async Task<ClientSuccessfulNativeRegistration?> RegisterUser(\n        Dictionary<string, object> registrationTraits,\n        string registrationPassword,\n        string flowId\n    )\n    {\n        ClientSuccessfulNativeRegistration? result = null;\n        ClientUpdateRegistrationFlowBody? clientUpdateRegistrationFlowBody =\n            new Ory.Client.Model.ClientUpdateRegistrationFlowBody(\n                new ClientUpdateRegistrationFlowWithPasswordMethod(\n                    method: \"password\",\n                    password: registrationPassword,\n                    traits: registrationTraits\n                )\n            );\n\n        result = await _frontendApi.UpdateRegistrationFlowAsync(\n            flowId,\n            clientUpdateRegistrationFlowBody\n        );\n\n        return result;\n    }\n}\n","path":null,"size_bytes":1505,"size_tokens":null},"Player/ViewModels/Connect/PlanBookingViewModel.cs":{"content":"﻿using CommunityToolkit.Mvvm.DependencyInjection;\nusing Twilio.TwiML.Voice;\nusing Task = System.Threading.Tasks.Task;\n\n\nnamespace Player.ViewModels.Connect\n{\n    public partial class PlanBookingViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        ObservableCollection<Venue> activeVendors;\n\n        [ObservableProperty]\n        ObservableCollection<Venue> filteredVendors;\n\n        [ObservableProperty]\n        ObservableCollection<Game>? onboardedGames;\n\n        [ObservableProperty]\n        ObservableCollection<string> gameNames;\n\n        [ObservableProperty]\n        ObservableCollection<string> cityNames;\n\n        [ObservableProperty]\n        ObservableCollection<string> timeList;\n\n        [ObservableProperty]\n        string selectedTime;\n\n        [ObservableProperty]\n        string selectedStartTime;\n\n        [ObservableProperty]\n        string selectedEndTime;\n\n        [ObservableProperty]\n        bool isSpecificTimeSelected;\n\n        [ObservableProperty]\n        double numberOfPlayers;\n\n        [ObservableProperty]\n        double requiredPlayers;\n\n        [ObservableProperty]\n        string skillLevel;\n\n        [ObservableProperty]\n        string timing;\n\n        [ObservableProperty]\n        List<VenueDate>? venueDates;\n\n        [ObservableProperty]\n        VenueDate plannedDate;\n\n        [ObservableProperty]\n        // this property shows date in ReviewPlannedBookingView (PopupPage)\n        DateTimeOffset selectedDate;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        string? selectedCity;\n\n        [ObservableProperty]\n        string? cityProvince;\n\n        [NotifyPropertyChangedFor(nameof(HostMessageCharacterCount))]\n        [ObservableProperty]\n        string hostMessage;\n\n        [ObservableProperty]\n        string timingDisplay;\n\n        public string HostMessageCharacterCount => (HostMessage?.Length ?? 0).ToString();\n\n        [ObservableProperty]\n        Venue? selectedVendor;\n\n        [ObservableProperty]\n        string? userName;\n\n        [ObservableProperty]\n        Color beginnerBackgroundColor;\n\n        [ObservableProperty]\n        Color beginnerTextColor;\n\n        [ObservableProperty]\n        Color intermediateBackgroundColor;\n\n        [ObservableProperty]\n        Color intermediateTextColor;\n\n        [ObservableProperty]\n        Color advancedBackgroundColor;\n\n        [ObservableProperty]\n        Color advancedTextColor;\n\n        [ObservableProperty]\n        string morningImage;\n\n        [ObservableProperty]\n        Color morningTextColor;\n\n        [ObservableProperty]\n        string afternoonImage;\n\n        [ObservableProperty]\n        Color afternoonTextColor;\n\n        [ObservableProperty]\n        string eveningImage;\n\n        [ObservableProperty]\n        Color eveningTextColor;\n\n        [ObservableProperty]\n        string nightImage;\n\n        [ObservableProperty]\n        Color nightTextColor;\n\n        Popup reviewPlannedBookingView;\n\n        AppTheme currentTheme;\n\n        readonly Realm realm;\n\n        readonly IDisposable vendorsToken;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n\n        private readonly IPopupNavigation popupNavigation;\n\n        public PlanBookingViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.connectivity = connectivity;\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.popupNavigation = popupNavigation;\n\n                ActiveVendors = new ObservableCollection<Venue>();\n                FilteredVendors = new ObservableCollection<Venue>();\n                OnboardedGames = new ObservableCollection<Game>();\n                GameNames = new ObservableCollection<string>();\n                CityNames = new ObservableCollection<string>();\n                VenueDates = new List<VenueDate>();\n\n                realm = Realm.GetInstance(realmService.Config);\n                UserName = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault()\n                    ?.FirstName;\n\n                Microsoft.Maui.Controls.Application.Current.RequestedThemeChanged +=\n                    Current_RequestedThemeChanged;\n\n                currentTheme = Microsoft.Maui.Controls.Application.Current.RequestedTheme;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        public async Task Initialize()\n        {\n            try\n            {\n                ActiveVendors = realm.All<Venue>().ToObservableCollection();\n                List<AvailableGame> Games = ActiveVendors\n                    .SelectMany(m => m.AvailableGames)\n                    .ToList();\n                await GetGames();\n                GameNames = Games\n                    .DistinctBy(m => m.Name)\n                    .Select(m => m.Name)\n                    .ToObservableCollection();\n                CityNames = ActiveVendors\n                    .DistinctBy(m => m.Address.City)\n                    .Select(n => n.Address.City)\n                    .ToObservableCollection();\n                SelectedGame = OnboardedGames.FirstOrDefault();\n                SelectedCity = CityNames.FirstOrDefault();\n                // string? city = SelectedCity?.Split(',')[1].Trim();\n                FilteredVendors = ActiveVendors\n                    .Where(v =>\n                        v.Address.City.Contains(SelectedCity)\n                        && v.AvailableGames.Any(g => g.Name == SelectedGame.GameName)\n                    )\n                    .ToObservableCollection();\n                SelectedVendor = FilteredVendors.FirstOrDefault();\n                NumberOfPlayers =\n                    SelectedVendor\n                        ?.AvailableGames.Where(g => g.Name == SelectedGame.GameName)\n                        .FirstOrDefault()\n                        .PeoplePerGame ?? 2;\n                RequiredPlayers = 2;\n\n                await BeginnerSelected();\n                await MorningSelected();\n                IsSpecificTimeSelected = false;\n                Timing = PlayerConstants.morning;\n\n                TimeList = new ObservableCollection<string>\n                {\n                    \"00:00\",\n                    \"1:00\",\n                    \"2:00\",\n                    \"3:00\",\n                    \"4:00\",\n                    \"5:00\",\n                    \"6:00\",\n                    \"7:00\",\n                    \"8:00\",\n                    \"9:00\",\n                    \"10:00\",\n                    \"11:00\",\n                    \"12:00\",\n                    \"13:00\",\n                    \"14:00\",\n                    \"15:00\",\n                    \"16:00\",\n                    \"17:00\",\n                    \"18:00\",\n                    \"19:00\",\n                    \"20:00\",\n                    \"21:00\",\n                    \"22:00\",\n                    \"23:00\",\n                };\n\n                SelectedStartTime = TimeList.ElementAt(6);\n                SelectedEndTime = TimeList.ElementAt(7);\n\n                for (\n                    DateTime date = DateTime.Now.AddDays(1);\n                    date < DateTime.Now.AddDays(90);\n                    date = date.AddDays(1)\n                )\n                {\n                    VenueDates?.Add(new VenueDate(date: date));\n                }\n\n                PlannedDate = VenueDates.FirstOrDefault();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task GetGames()\n        {\n            try\n            {\n                List<Venue>? ActiveVendors = realm\n                    .All<Venue>()\n                    .Where(v => v.IsActive == true)\n                    .ToList();\n\n                List<AvailableGame>? Games = ActiveVendors\n                    ?.SelectMany(m => m.AvailableGames)\n                    .DistinctBy(x => x.Name)\n                    .ToList();\n\n                OnboardedGames.Clear();\n\n                foreach (AvailableGame availableGame in Games)\n                {\n                    Game? game = realm\n                        .All<Game>()\n                        .Where(g => g.GameName == availableGame.Name)\n                        .FirstOrDefault();\n                    if (game != null)\n                    {\n                        OnboardedGames.Add(game);\n                    }\n                }\n\n                ChangeGameIcons();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        private async void Current_RequestedThemeChanged(object? sender, AppThemeChangedEventArgs e)\n        {\n            currentTheme = e.RequestedTheme;\n            ChangeGameIcons();\n            if (SkillLevel == \"Beginner\")\n            {\n                await BeginnerSelected();\n            }\n            else if (SkillLevel == \"Intermediate\")\n            {\n                await IntermediateSelected();\n            }\n            else if (SkillLevel == \"Advanced\")\n            {\n                await AdvancedSelected();\n            }\n            if (Timing == PlayerConstants.morning)\n            {\n                await MorningSelected();\n            }\n            else if (Timing == PlayerConstants.afternoon)\n            {\n                await AfternoonSelected();\n            }\n            else if (Timing == PlayerConstants.evening)\n            {\n                await EveningSelected();\n            }\n            else if (Timing == PlayerConstants.night)\n            {\n                await NightSelected();\n            }\n        }\n\n        private void ChangeGameIcons()\n        {\n            if (currentTheme == AppTheme.Dark)\n            {\n                foreach (Game game in OnboardedGames)\n                {\n                    game.GameIcon = game.DarkModeGameIcon;\n                }\n            }\n            else\n            {\n                foreach (Game game in OnboardedGames)\n                {\n                    if (game.IsSelected)\n                    {\n                        game.GameIcon = game.DarkModeGameIcon;\n                    }\n                    else\n                    {\n                        game.GameIcon = game.LightModeGameIcon;\n                    }\n                }\n            }\n        }\n\n        [RelayCommand]\n        async Task BeginnerSelected()\n        {\n            try\n            {\n                SkillLevel = \"Beginner\";\n                BeginnerBackgroundColor = Color.FromArgb(\"#EF2F50\");\n                BeginnerTextColor = Colors.White;\n                if (currentTheme == AppTheme.Dark)\n                {\n                    IntermediateBackgroundColor = Colors.Transparent;\n                    IntermediateTextColor = Colors.White;\n                    AdvancedBackgroundColor = Colors.Transparent;\n                    AdvancedTextColor = Colors.White;\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    IntermediateBackgroundColor = Colors.Transparent;\n                    IntermediateTextColor = Colors.Black;\n                    AdvancedBackgroundColor = Colors.Transparent;\n                    AdvancedTextColor = Colors.Black;\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task IntermediateSelected()\n        {\n            try\n            {\n                SkillLevel = \"Intermediate\";\n                IntermediateBackgroundColor = Color.FromArgb(\"#EF2F50\");\n                IntermediateTextColor = Colors.White;\n                if (currentTheme == AppTheme.Dark)\n                {\n                    BeginnerBackgroundColor = Colors.Transparent;\n                    BeginnerTextColor = Colors.White;\n                    AdvancedBackgroundColor = Colors.Transparent;\n                    AdvancedTextColor = Colors.White;\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    BeginnerBackgroundColor = Colors.Transparent;\n                    BeginnerTextColor = Colors.Black;\n                    AdvancedBackgroundColor = Colors.Transparent;\n                    AdvancedTextColor = Colors.Black;\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task AdvancedSelected()\n        {\n            try\n            {\n                SkillLevel = \"Advanced\";\n                AdvancedBackgroundColor = Color.FromArgb(\"#EF2F50\");\n                AdvancedTextColor = Colors.White;\n                if (currentTheme == AppTheme.Dark)\n                {\n                    BeginnerBackgroundColor = Colors.Transparent;\n                    BeginnerTextColor = Colors.White;\n                    IntermediateBackgroundColor = Colors.Transparent;\n                    IntermediateTextColor = Colors.White;\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    BeginnerBackgroundColor = Colors.Transparent;\n                    BeginnerTextColor = Colors.Black;\n                    IntermediateBackgroundColor = Colors.Transparent;\n                    IntermediateTextColor = Colors.Black;\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task SelectTiming()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new PlanBookingTimingPopup(this));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task MorningSelected()\n        {\n            try\n            {\n                Timing = PlayerConstants.morning;\n                MorningTextColor = Colors.White;\n                MorningImage = \"morning_timing_darkmode.png\";\n                if (currentTheme == AppTheme.Dark)\n                {\n                    AfternoonTextColor = Colors.White;\n                    EveningTextColor = Colors.White;\n                    NightTextColor = Colors.White;\n                    AfternoonImage = \"afternoon_timing_darkmode.png\";\n                    EveningImage = \"evening_timing_darkmode.png\";\n                    NightImage = \"night_timing_darkmode.png\";\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    AfternoonTextColor = Colors.Black;\n                    EveningTextColor = Colors.Black;\n                    NightTextColor = Colors.Black;\n                    AfternoonImage = \"afternoon_timing_lightmode.png\";\n                    EveningImage = \"evening_timing_lightmode.png\";\n                    NightImage = \"night_timing_lightmode.png\";\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task AfternoonSelected()\n        {\n            try\n            {\n                Timing = PlayerConstants.afternoon;\n                AfternoonTextColor = Colors.White;\n                AfternoonImage = \"afternoon_timing_darkmode.png\";\n                if (currentTheme == AppTheme.Dark)\n                {\n                    MorningTextColor = Colors.White;\n                    EveningTextColor = Colors.White;\n                    NightTextColor = Colors.White;\n                    MorningImage = \"morning_timing_darkmode.png\";\n                    EveningImage = \"evening_timing_darkmode.png\";\n                    NightImage = \"night_timing_darkmode.png\";\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    MorningTextColor = Colors.Black;\n                    EveningTextColor = Colors.Black;\n                    NightTextColor = Colors.Black;\n                    MorningImage = \"morning_timing_lightmode.png\";\n                    EveningImage = \"evening_timing_lightmode.png\";\n                    NightImage = \"night_timing_lightmode.png\";\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task EveningSelected()\n        {\n            try\n            {\n                Timing = PlayerConstants.evening;\n                EveningTextColor = Colors.White;\n                EveningImage = \"evening_timing_darkmode.png\";\n                if (currentTheme == AppTheme.Dark)\n                {\n                    MorningTextColor = Colors.White;\n                    AfternoonTextColor = Colors.White;\n                    NightTextColor = Colors.White;\n                    MorningImage = \"morning_timing_darkmode.png\";\n                    AfternoonImage = \"afternoon_timing_darkmode.png\";\n                    NightImage = \"night_timing_darkmode.png\";\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    MorningTextColor = Colors.Black;\n                    AfternoonTextColor = Colors.Black;\n                    NightTextColor = Colors.Black;\n                    MorningImage = \"morning_timing_lightmode.png\";\n                    AfternoonImage = \"afternoon_timing_lightmode.png\";\n                    NightImage = \"night_timing_lightmode.png\";\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NightSelected()\n        {\n            try\n            {\n                Timing = PlayerConstants.night;\n                NightTextColor = Colors.White;\n                NightImage = \"night_timing_darkmode.png\";\n                if (currentTheme == AppTheme.Dark)\n                {\n                    MorningTextColor = Colors.White;\n                    AfternoonTextColor = Colors.White;\n                    EveningTextColor = Colors.White;\n                    MorningImage = \"morning_timing_darkmode.png\";\n                    AfternoonImage = \"afternoon_timing_darkmode.png\";\n                    EveningImage = \"evening_timing_darkmode.png\";\n                }\n                else if (currentTheme == AppTheme.Light)\n                {\n                    MorningTextColor = Colors.Black;\n                    AfternoonTextColor = Colors.Black;\n                    EveningTextColor = Colors.Black;\n                    MorningImage = \"morning_timing_lightmode.png\";\n                    AfternoonImage = \"afternoon_timing_lightmode.png\";\n                    EveningImage = \"evening_timing_lightmode.png\";\n                }\n            }\n            catch (System.Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task TimeSelectionComplete()\n        {\n            try\n            {\n                if (IsSpecificTimeSelected)\n                {\n                    Timing = $\"{SelectedStartTime} - {SelectedEndTime}\";\n                }\n\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        partial void OnSelectedEndTimeChanged(string value)\n        {\n            // the index starts from 0 and ends at 23. The time list has 24 elements\n            // The list start from 00:00 (index 0) and ends at 23:00  (index 23)\n            int startTimeIndex = TimeList.IndexOf(SelectedStartTime);\n            int endTimeIndex = TimeList.IndexOf(SelectedEndTime);\n            // endtime should not be more than 3 hours than start time\n            int maxEndTimeIndex = startTimeIndex + 3;\n            if (startTimeIndex >= endTimeIndex)\n            {\n                if (endTimeIndex == 0)\n                {\n                    SelectedStartTime = TimeList.ElementAt(23);\n                }\n                else\n                {\n                    SelectedStartTime = TimeList.ElementAt(endTimeIndex - 1);\n                }\n            }\n            else if (endTimeIndex > maxEndTimeIndex)\n            {\n                if (endTimeIndex == 0)\n                {\n                    SelectedStartTime = TimeList.ElementAt(23);\n                }\n                else if (endTimeIndex == 1 || endTimeIndex == 2)\n                {\n                    SelectedStartTime = TimeList.ElementAt(0);\n                }\n                else\n                {\n                    SelectedStartTime = TimeList.ElementAt(endTimeIndex - 3);\n                }\n            }\n        }\n\n        partial void OnSelectedStartTimeChanged(string value)\n        {\n            // the index starts from 0 and ends at 23. The time list has 24 elements\n            // The list start from 00:00 (index 0) and ends at 23:00  (index 23)\n            int startTimeIndex = TimeList.IndexOf(SelectedStartTime);\n            int endTimeIndex = TimeList.IndexOf(SelectedEndTime);\n            // endtime should not be more than 3 hours than start time\n            int maxEndTimeIndex = startTimeIndex + 3;\n            if (startTimeIndex >= endTimeIndex)\n            {\n                if (startTimeIndex == 23)\n                {\n                    SelectedEndTime = TimeList.ElementAt(0);\n                }\n                else\n                {\n                    SelectedEndTime = TimeList.ElementAt(startTimeIndex + 1);\n                }\n            }\n            else if (endTimeIndex > maxEndTimeIndex)\n            {\n                SelectedEndTime = TimeList.ElementAt(maxEndTimeIndex);\n            }\n        }\n\n        /// <summary>\n        /// validate all data and display ReviewPlannedBookingView (PopupPage)\n        /// </summary>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task ReviewHosting()\n        {\n            try\n            {\n                if (String.IsNullOrEmpty(SelectedGame?.GameName))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please select a game\", \"OK\");\n                }\n                else if (string.IsNullOrEmpty(SkillLevel))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please select a skill level\", \"OK\");\n                }\n                else if (string.IsNullOrEmpty(SelectedCity))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please select a city\", \"OK\");\n                }\n                else if (SelectedVendor == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please select a venue\", \"OK\");\n                }\n                else if (RequiredPlayers < 2)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Error\",\n                        \"Number of players should be greater than 1\",\n                        \"OK\"\n                    );\n                }\n                else if (string.IsNullOrEmpty(Timing))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please select a timing\", \"OK\");\n                }\n                else\n                {\n                    CityProvince =\n                        $\"{SelectedVendor?.Address?.City}, {SelectedVendor?.Address?.Province}\";\n                    if (IsSpecificTimeSelected)\n                    {\n                        Timing = $\"{SelectedStartTime} - {SelectedEndTime}\";\n                    }\n\n                    // set the date to display it in ReviewPlannedBookingView (PopupPage)\n                    SelectedDate = PlannedDate.Date;\n                    await popupNavigation.PushAsync(new ReviewPlannedBookingPopup(this));\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        public async Task Host()\n        {\n            try\n            {\n                VenueUser? Host = realm\n                    .All<VenueUser>()\n                    .Where(v => v.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                if (Host == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"host required\", \"OK\");\n                    return;\n                }\n                PlannedBooking plannedBooking = new PlannedBooking(\n                    gameName: SelectedGame.GameName,\n                    host: Host,\n                    skillLevel: SkillLevel,\n                    city: SelectedCity,\n                    selectedVenue: SelectedVendor,\n                    numberOfPlayers: (int)RequiredPlayers,\n                    timing: Timing,\n                    plannedDate: PlannedDate.Date\n                );\n                plannedBooking.HostMessage = HostMessage;\n                await realm.WriteAsync(() =>\n                {\n                    realm.Add(plannedBooking);\n                });\n                await popupNavigation.PopAllAsync();\n                await navigationService.NavigateToAsync($\"///{nameof(MyBookingsView)}\");\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAllAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            try\n            {\n                await popupNavigation.PopAllAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAllAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == nameof(SelectedGame))\n                {\n                    OnboardedGames.ToList().ForEach(g => g.IsSelected = false);\n                    Game? choosenGame = OnboardedGames\n                        .Where(g => g.GameName == SelectedGame.GameName)\n                        .FirstOrDefault();\n                    choosenGame.IsSelected = true;\n                    SelectedGame.IsSelected = true;\n\n                    ChangeGameIcons();\n\n                    await Search();\n                }\n                else if (e.PropertyName == nameof(SelectedCity))\n                {\n                    await Search();\n                }\n                else if (e.PropertyName == nameof(SelectedVendor))\n                {\n                    NumberOfPlayers =\n                        SelectedVendor\n                            ?.AvailableGames.Where(g => g.Name == SelectedGame.GameName)\n                            .FirstOrDefault()\n                            .PeoplePerGame ?? 2;\n                }\n                else if (e.PropertyName == nameof(PlannedDate))\n                {\n                    // change Is selected property of selected date\n                    VenueDates.ForEach(d => d.IsSelected = false);\n                    PlannedDate.IsSelected = true;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Search()\n        {\n            try\n            {\n                if (SelectedGame != null && SelectedCity != null)\n                {\n                    // string? city = SelectedCity?.Split(',')[1].Trim();\n                    string gameName = SelectedGame.GameName;\n\n                    FilteredVendors = ActiveVendors\n                        .Where(v =>\n                            v.Address.City.Contains(SelectedCity)\n                            && v.AvailableGames.Any(g => g.Name == gameName)\n                        )\n                        .ToObservableCollection();\n                    if (SelectedVendor != null)\n                    {\n                        bool venueExists = FilteredVendors.Any(v =>\n                            v.FullName == SelectedVendor.FullName\n                        );\n                        if (!venueExists)\n                        {\n                            SelectedVendor = FilteredVendors.FirstOrDefault();\n                        }\n                    }\n                    else\n                    {\n                        SelectedVendor = FilteredVendors.FirstOrDefault();\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":29810,"size_tokens":null},"Admin/AppShell.xaml.cs":{"content":"﻿namespace Admin;\n\npublic partial class AppShell : Shell\n{\n    public AppShell(string? status = null, AppShellViewModel? viewModel = null)\n    {\n        try\n        {\n            InitializeComponent();\n            BindingContext = viewModel;\n\n            Routing.RegisterRoute(nameof(OnboardVendorView), typeof(OnboardVendorView));\n            Routing.RegisterRoute(nameof(EditVendorView), typeof(EditVendorView));\n            Routing.RegisterRoute(\n                nameof(VerifyEmailForPasswordResetView),\n                typeof(VerifyEmailForPasswordResetView)\n            );\n            Routing.RegisterRoute(nameof(ForgotPasswordView), typeof(ForgotPasswordView));\n            Routing.RegisterRoute(\n                nameof(AuthenticateEmailForLoginView),\n                typeof(AuthenticateEmailForLoginView)\n            );\n\n            if (status == \"Login\")\n            {\n                CurrentItem = Login;\n            }\n            else\n            {\n                CurrentItem = SyncWithServer;\n            }\n            \n        }\n        catch (Exception ex)\n        {\n        //    App.MainPage.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    // This method is called when the ShellNavigating event is raised.\n    protected override void OnNavigating(ShellNavigatingEventArgs args)\n    {\n        try\n        {\n            base.OnNavigating(args);\n\n            if (args.Source == ShellNavigationSource.ShellItemChanged)\n            {\n                List<Page>? navigationStack = Navigation.NavigationStack?.ToList();\n\n                if (navigationStack?.Count > 0)\n                {\n                    foreach (Page page in navigationStack)\n                        if (page != null)\n                        {\n                            Navigation.RemovePage(page);\n                        }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":1998,"size_tokens":null},"Player/Models/APIServer/CancelPaymentIntentResponse.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public class CancelPaymentIntentResponse\n    {\n        [JsonPropertyName(\"error\")]\n        public string? Error { get; set; }\n\n        [JsonPropertyName(\"bookingIds\")]\n        public List<string> BookingIds { get; set; }\n\n        [JsonPropertyName(\"environment\")]\n        public string Environment { get; set; }\n    }\n}\n","path":null,"size_bytes":363,"size_tokens":null},"Player/Views/Connect/ConnectView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class ConnectView : BaseView\n{\n    PlanBookingViewModel? planBookingViewModel;\n    JoinAGameViewModel? joinAGameViewModel;\n\n    int count = 0;\n\n    ConnectViewModel? viewModel;\n\n    public ConnectView(ConnectViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            Resources.Add(\n                new Style<UnderlinedTabItem>(\n                    (UnderlinedTabItem.FontFamilyProperty, \"InterExtraBold\"),\n                    (UnderlinedTabItem.UnderlineHeightProperty, 6),\n                    (UnderlinedTabItem.LabelSizeProperty, 15),\n                    (UnderlinedTabItem.SelectedTabColorProperty, Color.FromArgb(\"#EF2F50\"))\n                ).AddAppThemeBinding(\n                    UnderlinedTabItem.UnselectedLabelColorProperty,\n                    Color.FromArgb(\"7D7D7D\"),\n                    Color.FromArgb(\"#E0E0E0\")\n                )\n            );\n\n            PlanBookingView bookingForHostingView = new PlanBookingView();\n            JoinAGameView joinAGameView = new JoinAGameView();\n            planBookingViewModel =\n                Shell.Current.Handler.MauiContext.Services.GetRequiredService<PlanBookingViewModel>();\n            joinAGameViewModel =\n                Shell.Current.Handler.MauiContext.Services.GetRequiredService<JoinAGameViewModel>();\n\n            ViewSwitcher switcher = new ViewSwitcher\n            {\n                new DelayedView\n                {\n                    View = bookingForHostingView,\n                    BindingContext = planBookingViewModel,\n                },\n                new DelayedView { View = joinAGameView, BindingContext = joinAGameViewModel },\n            };\n\n            TabHostView tabHostView = new TabHostView\n            {\n                HeightRequest = 50,\n                Tabs =\n                {\n                    new UnderlinedTabItem { Label = \"HOST GAME\" },\n                    new UnderlinedTabItem { Label = \"JOIN GAME\" },\n                },\n            }.Bind(\n                TabHostView.SelectedIndexProperty,\n                path: \"SelectedIndex\",\n                BindingMode.TwoWay,\n                source: switcher\n            );\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new VerticalStackLayout\n                            {\n                                Padding = new Thickness(18, 14, 18, 0),\n                                Children =\n                                {\n                                    new ExtraBold28Label\n                                    {\n                                        TextColor = Color.FromArgb(\"#AEAEAE\"),\n                                    }.Bind(\n                                        Bold28Label.TextProperty,\n                                        nameof(viewModel.UserName),\n                                        stringFormat: \"Hey {0}\"\n                                    ),\n                                    new Regular28Label { Text = \"Get Connected!\" },\n                                    tabHostView.Margins(0, 14, 0, 0),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.first)\n                            .Margins(16, 0, 16, 0),\n                        new ScrollView\n                        {\n                            Padding = new Thickness(16, 0, 16, 10),\n                            Content = switcher,\n                        }.Row(BodyRow.second),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            switcher.SelectedIndex = 0;\n\n            Loaded += async (s, e) =>\n            {\n                if (count == 0)\n                {\n                    await planBookingViewModel.Initialize();\n                    await joinAGameViewModel.InitializeAsync();\n                    count++;\n                }\n                await viewModel.LoadData();\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":5157,"size_tokens":null},"Player/Models/Chat/Conversation.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class Conversation\n{\n    public string ConversationId { get; set; }\n\n    public List<ChatParticipant> ChatParticipants { get; set; }\n\n    public List<Message> Messages { get; set; }\n}\n","path":null,"size_bytes":237,"size_tokens":null},"Admin/CustomControls/Labels/CustomSemiBoldLabel.cs":{"content":"﻿namespace Admin.CustomControls.Labels\n{\n    public class CustomSemiBoldLabel : Label\n    {\n        public CustomSemiBoldLabel()\n        {\n            FontFamily = \"InterSemiBold\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class SemiBold12Label : CustomSemiBoldLabel\n    {\n        public SemiBold12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class SemiBold14Label : CustomSemiBoldLabel\n    {\n        public SemiBold14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class SemiBold16Label : CustomSemiBoldLabel\n    {\n        public SemiBold16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class SemiBold18Label : CustomSemiBoldLabel\n    {\n        public SemiBold18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class SemiBold20Label : CustomSemiBoldLabel\n    {\n        public SemiBold20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class SemiBold22Label : CustomSemiBoldLabel\n    {\n        public SemiBold22Label()\n        {\n            FontSize = 22;\n        }\n    }\n\n    public class SemiBold24Label : CustomSemiBoldLabel\n    {\n        public SemiBold24Label()\n        {\n            FontSize = 24;\n        }\n    }\n}\n","path":null,"size_bytes":1376,"size_tokens":null},"Player/MauiProgram.cs":{"content":"﻿using Dome.Player.Services.Implementations;\nusing Microsoft.Extensions.Logging;\nusing Microsoft.Maui.LifecycleEvents;\nusing Mopups.Hosting;\nusing Player.Views.OnBoarding;\nusing Stripe;\nusing Syncfusion.Maui.Toolkit.Hosting;\n\nnamespace Player;\n\npublic static class MauiProgram\n{\n    public static MauiApp CreateMauiApp()\n    {\n        var builder = MauiApp.CreateBuilder();\n        builder\n            .UseMauiApp<App>()\n            .UseSharpnadoTabs(loggerEnable: false)\n            .ConfigureSyncfusionToolkit()\n            .UseMauiCommunityToolkit()\n            .UseMauiCommunityToolkitMarkup()\n            .ConfigurePages()\n            .ConfigureServices()\n            .ConfigureHandlers()\n            .ConfigureMopups()\n            .ConfigureEssentials(essentials =>\n            {\n                essentials.UseVersionTracking();\n            })\n            .ConfigureFonts(fonts =>\n            {\n                fonts.AddFont(\"Inter-Light.ttf\", \"InterLight\");\n                fonts.AddFont(\"Inter-Regular.ttf\", \"InterRegular\");\n                fonts.AddFont(\"Inter-Medium.ttf\", \"InterMedium\");\n                fonts.AddFont(\"Inter-SemiBold.ttf\", \"InterSemiBold\");\n                fonts.AddFont(\"Inter-Bold.ttf\", \"InterBold\");\n                fonts.AddFont(\"Inter-ExtraBold.ttf\", \"InterExtraBold\");\n                // didn't find the italic font online\n                // fonts.AddFont(\"Inter-Italic.ttf\", \"InterItalic\");\n            })\n            .ConfigureLifecycleEvents(lifecycle =>\n            {\n#if IOS || MACCATALYST\n                lifecycle.AddiOS(ios =>\n                {\n                    ios.FinishedLaunching((app, data) => HandleAppLink(app.UserActivity));\n\n                    ios.ContinueUserActivity(\n                        (app, userActivity, handler) => HandleAppLink(userActivity)\n                    );\n\n                    if (\n                        OperatingSystem.IsIOSVersionAtLeast(13)\n                        || OperatingSystem.IsMacCatalystVersionAtLeast(13)\n                    )\n                    {\n                        ios.SceneWillConnect(\n                            (scene, sceneSession, sceneConnectionOptions) =>\n                                HandleAppLink(\n                                    sceneConnectionOptions\n                                        .UserActivities.ToArray()\n                                        .FirstOrDefault(a =>\n                                            a.ActivityType\n                                            == Foundation.NSUserActivityType.BrowsingWeb\n                                        )\n                                )\n                        );\n\n                        ios.SceneContinueUserActivity(\n                            (scene, userActivity) => HandleAppLink(userActivity)\n                        );\n                    }\n                });\n#elif ANDROID\n                lifecycle.AddAndroid(android =>\n                {\n                    android.OnCreate(\n                        (activity, bundle) =>\n                        {\n                            var action = activity.Intent?.Action;\n                            var data = activity.Intent?.Data?.ToString();\n\n                            if (action == Android.Content.Intent.ActionView && data is not null)\n                            {\n                                activity.Finish();\n                                System.Threading.Tasks.Task.Run(() => HandleAppLink(data));\n                            }\n                        }\n                    );\n                });\n#endif\n            });\n\n        builder.Services.AddSingleton<IPopupNavigation>(MopupService.Instance);\n\n        string environment = AppConstants.Environment;\n        if (environment == \"development\")\n        {\n            builder.UseStripe(\n                \"pk_test_51PfQOVRrYwdBl6oLko5EXiROUUl9pyN6BMsgOrBIQlrERFjCosZRiGe8UbTftsS9O4COOh9bD4mZqEwD0ybyuSA2003oMNlOXK\"\n            );\n        }\n        else if (environment == \"production\")\n        {\n            builder.UseStripe(\n                \"pk_live_51PfQOVRrYwdBl6oLybUu7WeyeINQNaweDRMPKcOOguXjXVGog35oXYW7TGejhZpDZ3gaXx02hVGrEh19cdF68iUn00VHjORoRG\"\n\n            );\n        }\n\n#if DEBUG\n        builder.Logging.AddDebug();\n#endif\n\n        return builder.Build();\n    }\n\n#if IOS || MACCATALYST\n    static bool HandleAppLink(Foundation.NSUserActivity? userActivity)\n    {\n        if (\n            userActivity is not null\n            && userActivity.ActivityType == Foundation.NSUserActivityType.BrowsingWeb\n            && userActivity.WebPageUrl is not null\n        )\n        {\n            HandleAppLink(userActivity.WebPageUrl.ToString());\n            return true;\n        }\n        return false;\n    }\n#endif\n\n    static void HandleAppLink(string url)\n    {\n        if (Uri.TryCreate(url, UriKind.RelativeOrAbsolute, out var uri))\n        {\n            App.Current?.SendOnAppLinkRequestReceived(uri);\n        }\n    }\n\n    public static MauiAppBuilder ConfigurePages(this MauiAppBuilder builder)\n    {\n        //Account Views\n        builder.Services.AddTransient<LoginView, LoginViewModel>();\n        builder.Services.AddTransient<NewProfileView, NewProfileViewModel>();\n        builder.Services.AddTransient<NewAgeAndInterestView, NewAgeAndInterestViewModel>();\n        builder.Services.AddSingleton<AccountView, AccountViewModel>();\n        builder.Services.AddTransient<RegisterView, RegisterViewModel>();\n        builder.Services.AddTransient<ForgotPasswordView, ForgotPasswordViewModel>();\n        builder.Services.AddTransient<ChangePasswordView, ChangePasswordViewModel>();\n        builder.Services.AddTransient<\n            AuthenticateEmailForLoginView,\n            AuthenticateEmailForLoginViewModel\n        >();\n        builder.Services.AddTransient<EditProfileView, EditProfileViewModel>();\n        builder.Services.AddTransient<EditInterestsView, EditInterestsViewModel>();\n        builder.Services.AddTransient<\n            VerifyRegisteredMobileNumberView,\n            VerifyRegisteredMobileNumberViewModel\n        >();\n        builder.Services.AddTransient<\n            VerifyEmailForPasswordResetView,\n            VerifyEmailForPasswordResetViewModel\n        >();\n        builder.Services.AddTransient<\n            ConfirmEmailToRegisterItView,\n            ConfirmEmailToRegisterItViewModel\n        >();\n        builder.Services.AddTransient<ChangeMobileNumberView, ChangeMobileNumberViewModel>();\n        builder.Services.AddTransient<LoadDataView, LoadDataViewModel>();\n\n        //connect views\n        builder.Services.AddTransient<ConnectView, ConnectViewModel>();\n        builder.Services.AddTransient<PlanBookingView, PlanBookingViewModel>();\n        builder.Services.AddTransient<JoinAGameView, JoinAGameViewModel>();\n        builder.Services.AddTransient<JoinRequestsView, JoinRequestsViewModel>();\n        builder.Services.AddTransient<\n            ReviewGameBeforeApplyingView,\n            ReviewGameBeforeApplyingViewModel\n        >();\n        builder.Services.AddTransient<ChatView, ChatViewModel>();\n        builder.Services.AddTransient<PlannedBookingsListView, PlannedBookingsListViewModel>();\n        builder.Services.AddTransient<HostingSuccessView, HostingSuccessViewModel>();\n        builder.Services.AddTransient<JoiningSuccessView>();\n\n        //book views\n        builder.Services.AddTransient<VenuesListView, VenuesListViewModel>();\n        builder.Services.AddTransient<AvailableGamesView, AvailableGamesViewModel>();\n        builder.Services.AddTransient<BookingTimingView, BookingTimingViewModel>();\n        builder.Services.AddTransient<VenueDetailsView, VenueDetailsViewModel>();\n        // as per the docs of Stripe.Maui the View  where payment sheet is opened should be registered as Scoped\n        builder.Services.AddScoped<PaymentView, PaymentViewModel>();\n        builder.Services.AddTransient<PaymentSuccessView, PaymentSuccessViewModel>();\n        builder.Services.AddTransient<TeamView, TeamViewModel>();\n\n        //Other views\n        builder.Services.AddTransient<DashboardView, DashboardViewModel>();\n        builder.Services.AddTransient<LearnView, LearnViewModel>();\n        builder.Services.AddTransient<MyBookingsView, MyBookingsViewModel>();\n        builder.Services.AddTransient<NoInternetView, NoInternetViewModel>();\n        builder.Services.AddTransient<CoachView, CoachViewModel>();\n        builder.Services.AddTransient<BaseView, BaseViewModel>();\n        builder.Services.AddTransient<AccountBaseView, AccountBaseViewModel>();\n        builder.Services.AddTransient<FeedbackEmailView, FeedbackEmailViewModel>();\n        builder.Services.AddTransient<OnBoardPage1>();\n        builder.Services.AddTransient<OnBoardPage2>();\n        builder.Services.AddTransient<OnBoardPage3>();\n        builder.Services.AddTransient<NotificationView, NotificationViewModel>();\n\n        return builder;\n    }\n\n    public static MauiAppBuilder ConfigureServices(this MauiAppBuilder builder)\n    {\n        //App Services\n        builder.Services.AddSingleton<INavigationService, MauiNavigationService>();\n        builder.Services.AddTransient<ISettingsService, SettingsService>();\n        builder.Services.AddSingleton<IRealmService, RealmService>();\n        builder.Services.AddTransient<IAppStaticData, AppStaticData>();\n        builder.Services.AddTransient<ITwilioService, TwilioService>();\n        builder.Services.AddTransient<IImageService, ImageService>();\n        builder.Services.AddTransient<ILocationService, LocationService>();\n        builder.Services.AddTransient<IFeedbackEmailService, FeedbackEmailService>();\n        builder.Services.AddSingleton<ISecretsService, SecretsService>();\n        builder.Services.AddTransient<IChatService, ChatService>();\n\n        // Other Services\n        builder.Services.AddSingleton<IConnectivity>(Connectivity.Current);\n        builder.Services.AddSingleton<IMediaPicker>(MediaPicker.Default);\n        builder.Services.AddSingleton<IGeolocation>(Geolocation.Default);\n        builder.Services.AddSingleton<IGeocoding>(Geocoding.Default);\n        builder.Services.AddSingleton<IBrowser>(Browser.Default);\n        builder.Services.AddSingleton<ILauncher>(Launcher.Default);\n        builder.Services.AddSingleton<IVersionTracking>(VersionTracking.Default);\n        builder.Services.AddSingleton<IDeviceInfo>(DeviceInfo.Current);\n        builder.Services.AddSingleton<IFileSystem>(FileSystem.Current);\n\n        //Stripe\n        builder.Services.AddTransient<IStripeService, StripeService>();\n        builder.Services.AddTransient<IAddToCartService, AddToCartService>();\n\n        return builder;\n    }\n\n    public static MauiAppBuilder ConfigureHandlers(this MauiAppBuilder builder)\n    {\n        return builder.ConfigureMauiHandlers(handlers =>\n        {\n#if ANDROID\n\n            Microsoft.Maui.Handlers.EntryHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BackgroundTintList =\n                        Android.Content.Res.ColorStateList.ValueOf(Colors.Transparent.ToPlatform());\n                    handler.PlatformView.TextCursorDrawable.SetTint(Colors.Red.ToPlatform());\n                }\n            );\n\n            Microsoft.Maui.Handlers.EditorHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BackgroundTintList =\n                        Android.Content.Res.ColorStateList.ValueOf(Colors.Transparent.ToPlatform());\n                    handler.PlatformView.TextCursorDrawable.SetTint(Colors.Red.ToPlatform());\n                }\n            );\n\n            Microsoft.Maui.Handlers.PickerHandler.Mapper.AppendToMapping(\n                \"NoUnderline\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BackgroundTintList =\n                        Android.Content.Res.ColorStateList.ValueOf(Colors.Transparent.ToPlatform());\n                }\n            );\n\n            Microsoft.Maui.Handlers.ButtonHandler.Mapper.AppendToMapping(\n                \"NoOrangeBorder\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.StateListAnimator = null;\n                    handler.PlatformView.Elevation = 0;\n                    var rippleColor = Android.Content.Res.ColorStateList.ValueOf(\n                        new Android.Graphics.Color(0, 0, 0, 30)\n                    );\n                    var ripple = new Android.Graphics.Drawables.RippleDrawable(\n                        rippleColor,\n                        handler.PlatformView.Background,\n                        null\n                    );\n                    handler.PlatformView.Background = ripple;\n                }\n            );\n\n            Microsoft.Maui.Handlers.ImageButtonHandler.Mapper.AppendToMapping(\n                \"NoOrangeBorder\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.StateListAnimator = null;\n                    handler.PlatformView.Elevation = 0;\n                    handler.PlatformView.SetPadding(0, 0, 0, 0);\n                }\n            );\n\n#endif\n\n#if IOS\n            Microsoft.Maui.Handlers.EntryHandler.Mapper.AppendToMapping(\n                \"NoBorder\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BorderStyle = UIKit.UITextBorderStyle.None;\n                }\n            );\n\n            Microsoft.Maui.Handlers.PickerHandler.Mapper.AppendToMapping(\n                \"NoBorder\",\n                (handler, view) =>\n                {\n                    handler.PlatformView.BorderStyle = UIKit.UITextBorderStyle.None;\n                }\n            );\n\n#endif\n        });\n    }\n}\n","path":null,"size_bytes":13782,"size_tokens":null},"Player/Platforms/MacCatalyst/AppDelegate.cs":{"content":"﻿using Foundation;\n\nnamespace Player;\n\n[Register(\"AppDelegate\")]\npublic class AppDelegate : MauiUIApplicationDelegate\n{\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":203,"size_tokens":null},"Player/ViewModels/DashboardViewModel.cs":{"content":"﻿using System.Diagnostics;\nusing System.IO;\nusing System.Reflection;\n\nnamespace Player.ViewModels\n{\n    public partial class DashboardViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string? userName;\n\n        Realm? realm;\n\n        [ObservableProperty]\n        string? currentVersion;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n\n        public DashboardViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IVersionTracking versionTracking\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n\n            currentVersion = versionTracking.CurrentVersion.ToString();\n        }\n\n        public async Task OnPageLoad()\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n\n                VenueUser? user = null;\n                if (realm != null && realmService.RealmUser?.Id != null)\n                {\n                    user = realm\n                        .All<VenueUser>()\n                        .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                        .FirstOrDefault();\n                }\n\n                UserName = user?.FirstName;\n\n                PlayerImage = user?.ProfileImage;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToPlay()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///{nameof(AvailableGamesView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToConnectView()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///{nameof(ConnectView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToMyBookingsView()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///{nameof(MyBookingsView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToCoachView()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(CoachView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateToLearnView()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(LearnView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n\n    }\n}\n","path":null,"size_bytes":3479,"size_tokens":null},"Player/Popups/HoursPopup.cs":{"content":"using System.Threading.Tasks;\nusing CommunityToolkit.Maui.Extensions;\n\nnamespace Player.Popups;\n\npublic class HoursPopup : Popup<VenueDate>\n{\n    public HoursPopup(ObservableCollection<VenueDate> venueDates)\n    {\n        this.Background = Colors.White;\n\n        VerticalStackLayout stackLayout = new VerticalStackLayout { Spacing = 10 };\n        BindableLayout.SetItemsSource(stackLayout, venueDates);\n\n        DataTemplate dateTemplate = new DataTemplate(() =>\n        {\n            return new Button\n            {\n                VerticalOptions = LayoutOptions.Center,\n                HorizontalOptions = LayoutOptions.Center,\n                TextColor = Colors.Black,\n                FontSize = 15,\n                Padding = 0,\n                Background = Colors.Transparent,\n                FontFamily = \"InterMedium\",\n            }\n                .Bind(Button.TextProperty, nameof(VenueDate.Date), stringFormat: \"{0:HH:mm}\")\n                .Invoke(button => button.Clicked += Button_Clicked);\n        });\n\n        BindableLayout.SetItemTemplate(stackLayout, dateTemplate);\n\n        Content = new ScrollView\n        {\n            HeightRequest = 400,\n            WidthRequest = 100,\n            Padding = new Thickness(20, 20),\n            VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n            Content = stackLayout,\n        };\n    }\n\n    private async void Button_Clicked(object? sender, EventArgs e)\n    {\n        Button? button = (Button?)sender;\n        VenueDate? selectedDate = (VenueDate?)button?.BindingContext;\n        await CloseAsync(selectedDate);\n    }\n}\n","path":null,"size_bytes":1593,"size_tokens":null},"Player/Views/Account/ChangeMobileNumberView.cs":{"content":"namespace Player.Views.Account;\n\npublic class ChangeMobileNumberView : AccountBaseView\n{\n    public ChangeMobileNumberView(ChangeMobileNumberViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, 165),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto)\n                ),\n\n                Children =\n                {\n                    new AccountTopControl().Row(BodyRow.first),\n                    new ExtraBold28Label { Text = \"Confirm \\n Mobile Number\" }\n                        .Row(BodyRow.second)\n                        .Margins(20, 10, 0, 0),\n                    new Border\n                    {\n                        StrokeThickness = .5,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Padding = new Thickness(0),\n                        Stroke = Brush.Black,\n                        Content = new HorizontalStackLayout\n                        {\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Label\n                                {\n                                    Margin = new Thickness(5, 7, 0, 7),\n                                    VerticalOptions = LayoutOptions.Center,\n                                    FontSize = 20,\n                                }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        $\"{nameof(viewModel.SelectedCountry)}.{nameof(viewModel.SelectedCountry.FlagImage)}\",\n                                        source: viewModel\n                                    )\n                                    .AppThemeBinding(\n                                        Label.TextColorProperty,\n                                        Colors.Black,\n                                        Colors.White\n                                    ),\n                                new Medium15Label { VerticalOptions = LayoutOptions.Center }.Bind(\n                                    Medium15Label.TextProperty,\n                                    $\"{nameof(viewModel.SelectedCountry)}.{nameof(viewModel.SelectedCountry.Code)}\",\n                                    source: viewModel\n                                ),\n                                new CustomEntry\n                                {\n                                    Placeholder = \"New Mobile Number\",\n                                    Keyboard = Keyboard.Telephone,\n                                }.Bind(Entry.TextProperty, nameof(viewModel.MobileNumber)),\n                            },\n                        },\n                    }\n                        .AppThemeBinding(\n                            Border.BackgroundProperty,\n                            Colors.White,\n                            Color.FromArgb(\"#23262A\")\n                        )\n                        .Row(BodyRow.third)\n                        .ColumnSpan(2)\n                        .Margins(20, 20, 20, 0),\n                    new Regular16Label { TextColor = Colors.Red }\n                        .Bind(\n                            Regular16Label.TextProperty,\n                            nameof(viewModel.MobileNumberError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            IsVisibleProperty,\n                            nameof(viewModel.MobileNumberError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.fourth)\n                        .ColumnSpan(2),\n                    new MediumButton { Text = \"CONFIRM\", WidthRequest = 257 }\n                        .Row(BodyRow.fifth)\n                        .BindCommand(nameof(viewModel.ChangeMobileNumberCommand), source: viewModel)\n                        .Margins(0, 35, 0, 0),\n                    new MediumButton\n                    {\n                        Text = \"CANCEL\",\n                        WidthRequest = 257,\n                        Background = Color.FromArgb(\"#272727\"),\n                    }\n                        .BindCommand(nameof(viewModel.CancelCommand))\n                        .Row(BodyRow.sixth)\n                        .Margins(0, 10, 0, 0),\n                    new CompanyNameControl().Row(BodyRow.seventh).Margins(20, 100, 0, 0),\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":5000,"size_tokens":null},"Dome.Shared/Synced/VenueUserAddress.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the player address embedded in the player document\n    /// </summary>\n    public partial class VenueUserAddress : IEmbeddedObject\n    {\n        private VenueUserAddress() { }\n\n        public VenueUserAddress(string country, string province, string city)\n        {\n            Country = country;\n            Province = province;\n            City = city;\n        }\n\n        [MapTo(\"country\")]\n        public string Country { get; set; }\n\n        [MapTo(\"province\")]\n        public string Province { get; set; }\n\n        [MapTo(\"city\")]\n        public string City { get; set; }\n\n        public string CompleteAddress => $\"{City}, {Province}, {Country}\";\n    }\n}\n","path":null,"size_bytes":719,"size_tokens":null},"Player/Services/Implementations/FeedbackEmailService.cs":{"content":"﻿using System.Text;\nusing SendGrid;\nusing SendGrid.Helpers.Mail;\n\nnamespace Player.Services.Implementations\n{\n    public class FeedbackEmailService : IFeedbackEmailService\n    {\n        readonly StringBuilder emailString = new StringBuilder();\n\n        private readonly IVersionTracking versionTracking;\n        private readonly IDeviceInfo deviceInfo;\n        private readonly ISecretsService secretsService;\n\n        public FeedbackEmailService(\n            IVersionTracking versionTracking,\n            IDeviceInfo deviceInfo,\n            ISecretsService secretsService\n        )\n        {\n            this.versionTracking = versionTracking;\n            this.deviceInfo = deviceInfo;\n            this.secretsService = secretsService;\n        }\n\n        public async Task SendEmail(string userEmail, string message)\n        {\n            emailString.AppendLine($\"User Email: {userEmail}, \");\n            emailString.AppendLine($\"Message: {message}, \");\n            CreateVersionString();\n            CreateDeviceInfoString();\n            string? apiKey = secretsService.SendGridAPIKey;\n            SendGridClient? client = new SendGridClient(apiKey);\n            EmailAddress? from = new EmailAddress(\"information@jugtitech.com\");\n            string? subject = \"Feedback from dome mobile app\";\n            EmailAddress? to = new EmailAddress(\"nithin.g@dafloinnovations.com\");\n            string? plainTextContent = emailString.ToString();\n            string? htmlContent = emailString.ToString();\n            SendGridMessage? msg = MailHelper.CreateSingleEmail(\n                from,\n                to,\n                subject,\n                plainTextContent,\n                htmlContent\n            );\n            var response = await client.SendEmailAsync(msg);\n        }\n\n        private void CreateVersionString()\n        {\n            emailString.AppendLine(\"App Version Info - \");\n            emailString.AppendLine($\"Current Version:{versionTracking.CurrentVersion}, \");\n            emailString.AppendLine($\"Current Build:{versionTracking.CurrentBuild}, \");\n            emailString.AppendLine(\n                $\"Version History:{string.Join(',', versionTracking.VersionHistory)}, \"\n            );\n            emailString.AppendLine(\n                $\"Build History:{string.Join(',', versionTracking.BuildHistory)}, \"\n            );\n        }\n\n        private void CreateDeviceInfoString()\n        {\n            emailString.AppendLine(\"Device Info - \");\n            emailString.AppendLine($\"Model: {deviceInfo.Model}, \");\n            emailString.AppendLine($\"Manufacturer: {deviceInfo.Manufacturer}, \");\n            emailString.AppendLine($\"Name: {deviceInfo.Name}, \");\n            emailString.AppendLine($\"OS Version: {deviceInfo.VersionString}, \");\n            emailString.AppendLine($\"Idiom: {deviceInfo.Idiom}, \");\n            emailString.AppendLine($\"Platform: {deviceInfo.Platform},\");\n        }\n    }\n}\n","path":null,"size_bytes":2923,"size_tokens":null},"Admin/ViewModels/OnboardVendorViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class OnboardVendorViewModel : ObservableValidator\n    {\n        [ObservableProperty]\n        List<Province>? provinces;\n\n        [ObservableProperty]\n        Province? selectedProvince;\n\n        [ObservableProperty]\n        ObservableCollection<City>? cities;\n\n        [ObservableProperty]\n        City? selectedCity;\n\n        [ObservableProperty]\n        string countryText = \"🇨🇦\";\n\n        [ObservableProperty]\n        string phoneCode = \"+1\";\n\n        [ObservableProperty]\n        byte[]? gameFirstImage;\n\n        [ObservableProperty]\n        string? gameFirstImageExtension;\n\n        [ObservableProperty]\n        byte[]? gameSecondImage;\n\n        [ObservableProperty]\n        string? gameSecondImageExtension;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayOpenTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayCloseTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayPeakHoursStartTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayPeakHoursEndTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendOpenTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendCloseTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendPeakHoursStartTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendPeakHoursEndTime;\n\n        [ObservableProperty]\n        decimal weekdayHourlyRate;\n\n        [ObservableProperty]\n        decimal weekdayPeakHoursHourlyRate;\n\n        [ObservableProperty]\n        decimal weekendHourlyRate;\n\n        [ObservableProperty]\n        decimal weekendPeakHoursHourlyRate;\n\n        [ObservableProperty]\n        string latitudeError = string.Empty;\n\n        [ObservableProperty]\n        string longitudeError = string.Empty;\n\n        [ObservableProperty]\n        string mobileNumberError = string.Empty;\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string aboutError = string.Empty;\n\n        [ObservableProperty]\n        public ObservableCollection<Amenity>? allAmenities;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Amenity is required\")]\n        ObservableCollection<object>? selectedAmenities;\n\n        [ObservableProperty]\n        public string weekdayStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        string weekdayHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        string weekendHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursHourlyRateError = string.Empty;\n\n        string selectedGamesError = string.Empty;\n\n        [ObservableProperty]\n        string selectedAmenitiesError = string.Empty;\n\n        [ObservableProperty]\n        public ObservableCollection<Game>? allGames;\n\n        [ObservableProperty]\n        public ObservableCollection<Field>? fieldsInGame;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        string selectedGameError = string.Empty;\n\n        [ObservableProperty]\n        [Required]\n        IList<int>? fieldsAndPlayersCount;\n\n        [ObservableProperty]\n        int fieldCount;\n\n        [ObservableProperty]\n        string fieldCountError = string.Empty;\n\n        [ObservableProperty]\n        int playerCount;\n\n        [ObservableProperty]\n        string playerCountError = string.Empty;\n\n        [ObservableProperty]\n        string gameImageError = string.Empty;\n\n        [ObservableProperty]\n        string email = string.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Game is required\")]\n        ObservableCollection<AvailableGame>? addedGames;\n\n        [ObservableProperty]\n        string addedGamesError = string.Empty;\n\n        [ObservableProperty]\n        Venue? vendor;\n\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly INavigationService? navigationService;\n        private readonly IImageService? imageService;\n        private readonly IFileSystem? fileSystem;\n        private readonly IPopupNavigation? popupNavigation;\n\n        public OnboardVendorViewModel(\n            IRealmService realmService,\n            IConnectivity connectivity,\n            INavigationService navigationService,\n            IImageService imageService,\n            IFileSystem fileSystem,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n                this.imageService = imageService;\n                this.fileSystem = fileSystem;\n                this.popupNavigation = popupNavigation;\n\n                AddedGames = [];\n                SelectedAmenities = [];\n                FieldsInGame = [];\n\n                FieldsAndPlayersCount = new List<int>\n                {\n                    1,\n                    2,\n                    3,\n                    4,\n                    5,\n                    6,\n                    7,\n                    8,\n                    9,\n                    10,\n                    11,\n                    12,\n                    13,\n                    14,\n                    15,\n                    16,\n                    17,\n                    18,\n                    19,\n                    20,\n                    21,\n                    22,\n                    23,\n                    24,\n                    25,\n                    26,\n                    27,\n                    28,\n                    29,\n                    30,\n                };\n\n                WeekdayOpenTime = new DateTimeOffset(2020, 2, 2, 8, 0, 0, new TimeSpan(0, 0, 0));\n                WeekdayCloseTime = new DateTimeOffset(2020, 2, 2, 20, 0, 0, new TimeSpan(0, 0, 0));\n                WeekdayPeakHoursStartTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    8,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekdayPeakHoursEndTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    20,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekendOpenTime = new DateTimeOffset(2020, 2, 2, 6, 0, 0, new TimeSpan(0, 0, 0));\n                WeekendCloseTime = new DateTimeOffset(2020, 2, 2, 22, 0, 0, new TimeSpan(0, 0, 0));\n                WeekendPeakHoursStartTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    6,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekendPeakHoursEndTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    22,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            base.OnPropertyChanged(e);\n\n            if (e.PropertyName == nameof(SelectedProvince))\n            {\n                if (Vendor?.Address != null && SelectedProvince != null)\n                    Vendor.Address.Province = SelectedProvince.ProvinceName;\n            }\n            else if (e.PropertyName == nameof(SelectedCity))\n            {\n                if (Vendor?.Address != null && SelectedCity != null)\n                    Vendor.Address.City = SelectedCity.CityName;\n            }\n        }\n\n        public async Task CreateNewVendor()\n        {\n            try\n            {\n                Vendor = new Venue(\n                    id: ObjectId.GenerateNewId(),\n                    fullName: string.Empty,\n                    about: string.Empty,\n                    email: string.Empty,\n                    phoneCode: \"+1\",\n                    mobileNumber: string.Empty,\n                    stripeUserId: string.Empty\n                );\n                Vendor.Address = new VenueAddress(\n                    street: string.Empty,\n                    postCode: string.Empty,\n                    country: \"Canada\",\n                    province: string.Empty,\n                    city: string.Empty,\n                    latitude: 0,\n                    longitude: 0\n                );\n\n                Realm? realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n\n                Provinces = realmInstance.All<Province>().ToList();\n                AllGames = realmInstance.All<Game>().ToObservableCollection();\n                AllAmenities = realmInstance.All<Amenity>().ToObservableCollection();\n\n                if (Provinces.Count > 0)\n                {\n                    SelectedProvince = Provinces.First();\n                    Cities = Provinces[0].Cities.OrderBy(c => c.CityName).ToObservableCollection();\n                    if (Cities.Count > 0)\n                        SelectedCity = Cities.First();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(AddedGames):\n                        AddedGamesError = errorMessage;\n                        break;\n                    case nameof(SelectedAmenities):\n                        SelectedAmenitiesError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task AddGame()\n        {\n            try\n            {\n                if (SelectedGame == null)\n                {\n                    SelectedGameError = \"select a game\";\n                }\n                if (FieldCount == 0)\n                {\n                    FieldCountError = \"select the available fields\";\n                }\n                if (PlayerCount == 0)\n                {\n                    PlayerCountError = \"select the players allowed\";\n                }\n                if (GameFirstImage == null && GameSecondImage == null)\n                {\n                    GameImageError = \"add image\";\n                }\n                WeekdayHourlyRateError =\n                    WeekdayHourlyRate >= 1 ? string.Empty : \"more than $1 is required\";\n                WeekendHourlyRateError =\n                    WeekendHourlyRate >= 1 ? string.Empty : \"more than $1 is required\";\n                if (\n                    (GameFirstImage == null && GameSecondImage == null)\n                    || SelectedGame == null\n                    || FieldCount == 0\n                    || PlayerCount == 0\n                    || WeekdayHourlyRate < 1\n                    || WeekendHourlyRate < 1\n                )\n                {\n                    return;\n                }\n                else\n                {\n                    if (AddedGames.Any())\n                    {\n                        foreach (AvailableGame availableGame in AddedGames)\n                        {\n                            if (availableGame.Name == SelectedGame.GameName)\n                            {\n                                await Shell.Current.DisplayAlert(\n                                    \"Already added\",\n                                    $\"{availableGame.Name} is already added\",\n                                    \"OK\"\n                                );\n                                return;\n                            }\n                        }\n                    }\n                    SelectedGameError = string.Empty;\n                    FieldCountError = string.Empty;\n                    PlayerCountError = string.Empty;\n                    GameImageError = string.Empty;\n\n                    // if the first image is null and the second image is not null then set the first image to the second image and set the second image to null because in the mobile app the first image is the main image which is shown in the list of games\n                    if (GameFirstImage == null && GameSecondImage != null)\n                    {\n                        GameFirstImage = GameSecondImage;\n                        GameSecondImage = null;\n                    }\n\n                    AvailableGame? game = new AvailableGame(\n                        name: SelectedGame.GameName,\n                        peoplePerGame: PlayerCount,\n                        fieldType: SelectedGame.FieldType,\n                        fieldsCount: FieldCount,\n                        weekdayHourlyRate: WeekdayHourlyRate,\n                        weekdayPeakHoursHourlyRate: WeekdayPeakHoursHourlyRate,\n                        weekendHourlyRate: WeekendHourlyRate,\n                        weekendPeakHoursHourlyRate: WeekendPeakHoursHourlyRate\n                    );\n                    game.Timing = new GameTiming(\n                        weekdayOpenTime: new DateTimeOffset(\n                            WeekdayOpenTime.Year,\n                            WeekdayOpenTime.Month,\n                            WeekdayOpenTime.Day,\n                            WeekdayOpenTime.Hour,\n                            WeekdayOpenTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayCloseTime: new DateTimeOffset(\n                            WeekdayCloseTime.Year,\n                            WeekdayCloseTime.Month,\n                            WeekdayCloseTime.Day,\n                            WeekdayCloseTime.Hour,\n                            WeekdayCloseTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayPeakHoursStartTime: new DateTimeOffset(\n                            WeekdayPeakHoursStartTime.Year,\n                            WeekdayPeakHoursStartTime.Month,\n                            WeekdayPeakHoursStartTime.Day,\n                            WeekdayPeakHoursStartTime.Hour,\n                            WeekdayPeakHoursStartTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayPeakHoursEndTime: new DateTimeOffset(\n                            WeekdayPeakHoursEndTime.Year,\n                            WeekdayPeakHoursEndTime.Month,\n                            WeekdayPeakHoursEndTime.Day,\n                            WeekdayPeakHoursEndTime.Hour,\n                            WeekdayPeakHoursEndTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendOpenTime: new DateTimeOffset(\n                            WeekendOpenTime.Year,\n                            WeekendOpenTime.Month,\n                            WeekendOpenTime.Day,\n                            WeekendOpenTime.Hour,\n                            WeekendOpenTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendCloseTime: new DateTimeOffset(\n                            WeekendCloseTime.Year,\n                            WeekendCloseTime.Month,\n                            WeekendCloseTime.Day,\n                            WeekendCloseTime.Hour,\n                            WeekendCloseTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendPeakHoursStartTime: new DateTimeOffset(\n                            WeekendPeakHoursStartTime.Year,\n                            WeekendPeakHoursStartTime.Month,\n                            WeekendPeakHoursStartTime.Day,\n                            WeekendPeakHoursStartTime.Hour,\n                            WeekendPeakHoursStartTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendPeakHoursEndTime: new DateTimeOffset(\n                            WeekendPeakHoursEndTime.Year,\n                            WeekendPeakHoursEndTime.Month,\n                            WeekendPeakHoursEndTime.Day,\n                            WeekendPeakHoursEndTime.Hour,\n                            WeekendPeakHoursEndTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        )\n                    );\n                    game.FirstImageBytes = GameFirstImage;\n                    game.FirstImageExtension = GameFirstImageExtension;\n                    if (GameSecondImage != null)\n                    {\n                        game.SecondImageBytes = GameSecondImage;\n                        game.SecondImageExtension = GameSecondImageExtension;\n                    }\n\n                    // Create fields and embed them inside the game\n                    for (int i = 1; i <= FieldCount; i++)\n                    {\n                        Field field = new(fieldNumber: i, fieldType: SelectedGame.FieldType);\n                        game.Fields.Add(field);\n                    }\n\n                    AddedGames.Add(game);\n\n                    SelectedGame = null;\n                    FieldCount = 0;\n                    PlayerCount = 0;\n                    GameFirstImage = null;\n                    GameSecondImage = null;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveGame(AvailableGame availableGame)\n        {\n            try\n            {\n                if (availableGame != null)\n                {\n                    AddedGames?.Remove(availableGame);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task PickFirstPhoto()\n        {\n            try\n            {\n                Dictionary<string, object>? result = await imageService.PickImageAsync();\n                if (result != null)\n                {\n                    GameFirstImage = (byte[])result[\"image\"];\n                    GameFirstImageExtension = (string)result[\"extension\"];\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task PickSecondPhoto()\n        {\n            try\n            {\n                Dictionary<string, object>? result = await imageService.PickImageAsync();\n                if (result != null)\n                {\n                    GameSecondImage = (byte[])result[\"image\"];\n                    GameSecondImageExtension = (string)result[\"extension\"];\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveFirstPhoto()\n        {\n            try\n            {\n                GameFirstImage = null;\n                GameFirstImageExtension = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveSecondPhoto()\n        {\n            try\n            {\n                GameSecondImage = null;\n                GameSecondImageExtension = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ValidateData()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n\n                    foreach (ValidationResult validationResult in propertyErrors)\n                    {\n                        SetErrorValue(\n                            validationResult.MemberNames.ElementAt(0),\n                            validationResult.ErrorMessage\n                        );\n                    }\n                    bool vendorErrorResult = await GetVendorErrors();\n\n                    return;\n                }\n                bool result = await GetVendorErrors();\n                if (result)\n                {\n                    return;\n                }\n                if (string.IsNullOrWhiteSpace(vendor.StripeUserId))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \"Please connect your stripe account\",\n                        \"OK\"\n                    );\n                    return;\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await CreateVendor();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task<bool> GetVendorErrors()\n        {\n            try\n            {\n                LatitudeError = Vendor.Address.Latitude == 0 ? \"Value can't be zero\" : string.Empty;\n                LongitudeError =\n                    Vendor.Address.Longitude == 0 ? \"Value can't be zero\" : string.Empty;\n                MobileNumberError = string.IsNullOrWhiteSpace(Vendor.MobileNumber)\n                    ? \"Mobile number is required\"\n                    : string.Empty;\n                EmailError = string.IsNullOrWhiteSpace(Vendor.Email)\n                    ? \"Email is required\"\n                    : string.Empty;\n                AboutError = string.IsNullOrWhiteSpace(Vendor.About)\n                    ? \"About is required\"\n                    : string.Empty;\n\n                if (\n                    string.IsNullOrWhiteSpace(Vendor.FullName)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.Street)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.PostCode)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.Province)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.City)\n                    || Vendor.Address.Latitude == 0\n                    || Vendor.Address.Longitude == 0\n                    || string.IsNullOrWhiteSpace(Vendor.MobileNumber)\n                    || string.IsNullOrWhiteSpace(Vendor.Email)\n                    || string.IsNullOrWhiteSpace(Vendor.About)\n                )\n                {\n                    return true;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n\n            return false;\n        }\n\n        private async Task CreateVendor()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                if (Vendor != null)\n                {\n                    using Realm? realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n                    await realmInstance.WriteAsync(() =>\n                    {\n                        // Set image names for all games and embed them in the venue\n                        foreach (AvailableGame availableGame in AddedGames)\n                        {\n                            string? imageName =\n                                $\"{Vendor.FullName}-{availableGame.Name}-FirstImage{availableGame.FirstImageExtension}\";\n                            availableGame.FirstImageName = imageName;\n\n                            if (availableGame.SecondImageBytes != null)\n                            {\n                                string? secondImageName =\n                                    $\"{Vendor.FullName}-{availableGame.Name}-SecondImage{availableGame.SecondImageExtension}\";\n                                availableGame.SecondImageName = secondImageName;\n                            }\n\n                            // Embed the game (with its embedded fields) in the venue\n                            Vendor.AvailableGames.Add(availableGame);\n                        }\n\n                        // Add the venue (embedded games and fields are persisted automatically)\n                        realmInstance.Add(Vendor);\n                    });\n\n                    // Upload images to AWS after realm transaction\n                    foreach (AvailableGame availableGame in AddedGames)\n                    {\n                        if (!string.IsNullOrEmpty(availableGame.FirstImageName))\n                        {\n                            byte[]? imageBytes = availableGame.FirstImageBytes;\n                            await AddImageToAWSS(imageBytes, availableGame.FirstImageName);\n                        }\n\n                        if (\n                            availableGame.SecondImageBytes != null\n                            && !string.IsNullOrEmpty(availableGame.SecondImageName)\n                        )\n                        {\n                            byte[]? imageBytes = availableGame.SecondImageBytes;\n                            await AddImageToAWSS(imageBytes, availableGame.SecondImageName);\n                        }\n                    }\n                }\n\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Success\", \"Vendor onboarded successfully\", \"OK\");\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task AddImageToAWSS(byte[] imageBytes, string imageName)\n        {\n            await imageService.UploadImageToAWSS3Async(imageBytes, imageName);\n        }\n\n        [RelayCommand]\n        async Task AmenitySelectionChanged()\n        {\n            try\n            {\n                AllAmenities\n                    .ToList()\n                    .ForEach(a =>\n                    {\n                        a.IsSelected = false;\n                    });\n                Vendor.Amenities.Clear();\n                if (SelectedAmenities.Any())\n                {\n                    SelectedAmenitiesError = string.Empty;\n                    foreach (Amenity amenity in SelectedAmenities.Cast<Amenity>())\n                    {\n                        amenity.IsSelected = true;\n                        Vendor.Amenities.Add(amenity);\n                    }\n                }\n                else\n                {\n                    SelectedAmenitiesError = \"Amenity is required\";\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            await navigationService.NavigateToAsync(\"..\");\n        }\n    }\n}\n","path":null,"size_bytes":28976,"size_tokens":null},"Player/Views/NotificationView.cs":{"content":"namespace Player.Views;\n\npublic class NotificationView : ContentPage\n{\n    enum BodyRow\n    {\n        navigation,\n        firstNotification,\n        firstNotificationSecondLine,\n        line,\n        remaining,\n    }\n\n    enum BodyColumn\n    {\n        first,\n        second,\n    }\n\n    public NotificationView(NotificationViewModel viewModel)\n    {\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n        Content = new ScrollView\n        {\n            Padding = new Thickness(0, 0, 0, 20),\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.navigation, Auto),\n                    (BodyRow.firstNotification, Auto),\n                    (BodyRow.firstNotificationSecondLine, Auto),\n                    (BodyRow.line, Auto),\n                    (BodyRow.remaining, Star)\n                ),\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Auto),\n                    (BodyColumn.second, Star)\n                ),\n                ColumnSpacing = 10,\n                Children =\n                {\n                    new ImageButton { }\n                        .AppThemeBinding(\n                            ImageButton.SourceProperty,\n                            \"back_button_light_theme\",\n                            \"back_button_dark_theme\"\n                        )\n                        .BindCommand(nameof(viewModel.NavigateBackCommand))\n                        .Column(BodyColumn.first)\n                        .Row(BodyRow.navigation)\n                        .Margins(30, 25, 0, 0),\n                    new Regular18Label\n                    {\n                        Text = \"Notifications\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Row(BodyRow.navigation)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2)\n                        .Margins(0, 30, 0, 0),\n                    new Image { Source = \"notification_initial\" }\n                        .Row(BodyRow.firstNotification)\n                        .Column(BodyColumn.first)\n                        .RowSpan(2)\n                        .Margins(30, 10, 0, 0),\n                    new Bold15Label { Text = \"Welcome to Dome!\" }\n                        .Row(BodyRow.firstNotification)\n                        .Column(BodyColumn.second)\n                        .Margins(0, 30, 20, 0),\n                    new Regular10Label\n                    {\n                        Text =\n                            \"We're thrilled to have you on board. Book, connect, and make the most of your sporting experience with us. \",\n                    }\n                        .AppThemeBinding(\n                            Regular10Label.TextColorProperty,\n                            Color.FromArgb(\"626262\"),\n                            Color.FromArgb(\"A2A2A2\")\n                        )\n                        .Row(BodyRow.firstNotificationSecondLine)\n                        .Column(BodyColumn.second)\n                        .Margins(0, 0, 20, 20),\n                    new Rectangle { Background = Color.FromArgb(\"D3D1D1\"), HeightRequest = 2 }\n                        .Row(BodyRow.line)\n                        .ColumnSpan(2),\n                },\n            },\n        };\n\n        BindingContext = viewModel;\n    }\n}\n","path":null,"size_bytes":3419,"size_tokens":null},"Player/Views/Connect/JoinRequestsView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class JoinRequestsView : BaseView\n{\n    JoinRequestsViewModel viewModel;\n\n    public JoinRequestsView(JoinRequestsViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, 250),\n                        (BodyRow.fifth, 250)\n                    ),\n\n                    RowSpacing = 10,\n\n                    Children =\n                    {\n                        new Regular14Label { }\n                            .Bind(\n                                Label.TextProperty,\n                                $\"{nameof(viewModel.FutureBooking)}.{nameof(viewModel.FutureBooking.VenueName)}\"\n                            )\n                            .Row(BodyRow.first)\n                            .Margins(16, 0, 16, 0),\n                        new Regular14Label { }\n                            .Bind(\n                                Label.TextProperty,\n                                $\"{nameof(viewModel.FutureBooking)}.{nameof(viewModel.FutureBooking.BookingInformation)}\"\n                            )\n                            .Row(BodyRow.second)\n                            .Margins(16, 0, 16, 0),\n                        new Rectangle\n                        {\n                            HeightRequest = 2,\n                            Background = Color.FromArgb(\"4E4E4E\"),\n                        }.Row(BodyRow.third),\n                        new Border\n                        {\n                            Padding = new Thickness(15, 19),\n                            StrokeShape = new RoundRectangle\n                            {\n                                CornerRadius = new CornerRadius(22),\n                            },\n                            Content = new VerticalStackLayout\n                            {\n                                Spacing = 10,\n                                Children =\n                                {\n                                    new ExtraBold18Label { Text = \"Approvals\" },\n                                    new Rectangle\n                                    {\n                                        HeightRequest = 2,\n                                        Background = Color.FromArgb(\"4E4E4E\"),\n                                    },\n                                    new CollectionView\n                                    {\n                                        ItemsLayout = new LinearItemsLayout(\n                                            ItemsLayoutOrientation.Vertical\n                                        )\n                                        {\n                                            ItemSpacing = 10,\n                                        },\n                                        EmptyView = new Regular14Label { Text = \"No requests\" },\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new Grid\n                                            {\n                                                RowDefinitions = Rows.Define(\n                                                    (BodyRow.first, Auto),\n                                                    (BodyRow.second, Auto)\n                                                ),\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Star),\n                                                    (BodyColumn.second, Auto),\n                                                    (BodyColumn.third, Auto)\n                                                ),\n                                                ColumnSpacing = 20,\n                                                Children =\n                                                {\n                                                    new Medium12Label { }\n                                                        .Bind(\n                                                            Label.TextProperty,\n                                                            $\"{nameof(JoinRequest.AppliedBy)}.{nameof(JoinRequest.AppliedBy.FullName)}\"\n                                                        )\n                                                        .Row(BodyRow.first)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular10Label { }\n                                                        .Bind(\n                                                            Label.TextProperty,\n                                                            nameof(JoinRequest.ApplicantMessage)\n                                                        )\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.first),\n                                                    new MediumButton\n                                                    {\n                                                        Text = \"Remove\",\n                                                        FontSize = 12,\n                                                        Padding = new Thickness(10, 5),\n                                                        VerticalOptions = LayoutOptions.Center,\n                                                    }\n                                                        .BindCommand(\n                                                            nameof(\n                                                                viewModel.UpdateJoinRequestsCommand\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.first)\n                                                        .RowSpan(2)\n                                                        .Column(BodyColumn.second),\n                                                },\n                                            };\n                                        }),\n                                    }.Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(viewModel.AcceptedRequests)\n                                    ),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.fourth)\n                            .Margins(16, 0, 16, 0),\n                        new Border\n                        {\n                            Padding = new Thickness(15, 19),\n                            StrokeShape = new RoundRectangle\n                            {\n                                CornerRadius = new CornerRadius(22),\n                            },\n                            Content = new VerticalStackLayout\n                            {\n                                Spacing = 10,\n                                Children =\n                                {\n                                    new ExtraBold18Label { Text = \"Pending\" },\n                                    new Rectangle\n                                    {\n                                        HeightRequest = 2,\n                                        Background = Color.FromArgb(\"4E4E4E\"),\n                                    },\n                                    new CollectionView\n                                    {\n                                        ItemsLayout = new LinearItemsLayout(\n                                            ItemsLayoutOrientation.Vertical\n                                        )\n                                        {\n                                            ItemSpacing = 10,\n                                        },\n                                        EmptyView = new Regular14Label { Text = \"No requests\" },\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new Grid\n                                            {\n                                                RowDefinitions = Rows.Define(\n                                                    (BodyRow.first, Auto),\n                                                    (BodyRow.second, Auto)\n                                                ),\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Star),\n                                                    (BodyColumn.second, Auto),\n                                                    (BodyColumn.third, Auto)\n                                                ),\n                                                ColumnSpacing = 20,\n                                                Children =\n                                                {\n                                                    new Medium12Label { }\n                                                        .Bind(\n                                                            Label.TextProperty,\n                                                            $\"{nameof(JoinRequest.AppliedBy)}.{nameof(JoinRequest.AppliedBy.FullName)}\"\n                                                        )\n                                                        .Row(BodyRow.first)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular10Label { }\n                                                        .Bind(\n                                                            Label.TextProperty,\n                                                            nameof(JoinRequest.ApplicantMessage)\n                                                        )\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.first),\n                                                    new MediumButton\n                                                    {\n                                                        Text = \"Approve\",\n                                                        FontSize = 12,\n                                                        Padding = new Thickness(10, 5),\n                                                        VerticalOptions = LayoutOptions.Center,\n                                                    }\n                                                        .BindCommand(\n                                                            nameof(\n                                                                viewModel.UpdateJoinRequestsCommand\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.first)\n                                                        .RowSpan(2)\n                                                        .Column(BodyColumn.second),\n                                                    new ImageButton { }\n                                                        .AppThemeBinding(\n                                                            ImageButton.SourceProperty,\n                                                            \"cancel_booking.png\",\n                                                            \"cancel_booking_white.png\"\n                                                        )\n                                                        .BindCommand(\n                                                            nameof(viewModel.DeleteRequestCommand),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.first)\n                                                        .RowSpan(2)\n                                                        .Column(BodyColumn.third),\n                                                },\n                                            };\n                                        }),\n                                    }.Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(viewModel.AppliedRequests)\n                                    ),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.fifth)\n                            .Margins(16, 0, 16, 0),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":14596,"size_tokens":null},"Player/Views/Account/ConfirmEmailToRegisterItView.cs":{"content":"namespace Player.Views.Account;\n\npublic class ConfirmEmailToRegisterItView : AccountBaseView\n{\n    private readonly ConfirmEmailToRegisterItViewModel viewModel;\n\n    public ConfirmEmailToRegisterItView(ConfirmEmailToRegisterItViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto),\n                    (BodyRow.tenth, Auto)\n                ),\n\n                Children =\n                {\n                    new AccountTopControl(),\n                    new Image { }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"verify_email_light_theme.png\",\n                            \"verify_email_dark_theme.png\"\n                        )\n                        .Row(BodyRow.second),\n                    new ExtraBold28Label\n                    {\n                        Text = \"Verify Email\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Row(BodyRow.third)\n                        .Margins(0, 15, 0, 0),\n                    new Regular12Label\n                    {\n                        Text = \"You will get OTP via Email to\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#A2A2A2\")\n                        )\n                        .Row(BodyRow.fourth)\n                        .Margins(0, 5, 0, 0),\n                    new Bold12Label { HorizontalOptions = LayoutOptions.Center }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Colors.Black,\n                            Color.FromArgb(\"#626262\")\n                        )\n                        .Bind(Bold12Label.TextProperty, nameof(viewModel.UserEmail))\n                        .Row(BodyRow.fifth),\n                    new Label { HorizontalOptions = LayoutOptions.Center }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#A2A2A2\")\n                        )\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.sixth)\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span\n                                {\n                                    Text = \"You can resend the OTP in \",\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                },\n                                new Span\n                                {\n                                    TextColor = Colors.Red,\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                }.Bind(Span.TextProperty, nameof(viewModel.TimeLeft)),\n                            }\n                        ),\n                    new BorderedEntry { HorizontalOptions = LayoutOptions.Fill }\n                        .Row(BodyRow.seventh)\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                        .Row(BodyRow.seventh)\n                        .Margins(30, 20, 30, 0),\n                    new MediumButton { Text = \"SUBMIT\", WidthRequest = 257 }\n                        .Row(BodyRow.eighth)\n                        .BindCommand(nameof(viewModel.VerifyEmailOTPCommand), source: viewModel)\n                        .Margins(0, 25, 0, 0),\n                    new MediumButton\n                    {\n                        Text = \"GO BACK\",\n                        WidthRequest = 257,\n                        Background = Color.FromArgb(\"#272727\"),\n                        TextColor = Colors.White,\n                    }\n                        .BindCommand(nameof(viewModel.GoBackCommand))\n                        .Row(BodyRow.ninth)\n                        .Margins(0, 10, 0, 0),\n                    new HorizontalStackLayout\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        VerticalOptions = LayoutOptions.Center,\n                        Spacing = 5,\n                        Children =\n                        {\n                            new Bold14Label\n                            {\n                                Text = \"Didn't receive the OTP?\",\n                                TextColor = Color.FromArgb(\"#A2A2A2\"),\n                            },\n                            new Button\n                            {\n                                Text = \"Resend OTP\",\n                                Background = Colors.Transparent,\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                                FontFamily = \"InterBold\",\n                                FontSize = 14,\n                                Padding = 0,\n                            }.BindCommand(nameof(viewModel.SendEmailOTPCommand)),\n                        },\n                    }\n                        .Row(BodyRow.tenth)\n                        .Margins(0, 10, 0, 0),\n                },\n            };\n\n            BindingContext = viewModel;\n            Loaded += VerifyEmailForPasswordResetView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n    }\n\n    private async void VerifyEmailForPasswordResetView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.SendEmailOTPCommand.ExecuteAsync(null);\n    }\n}\n","path":null,"size_bytes":6383,"size_tokens":null},"Dome.Shared/Synced/Holiday.cs":{"content":"\n[MapTo(\"holiday\")]\npublic partial class Holiday: IEmbeddedObject\n{\n    private Holiday()\n    {\n        \n    }\n    public Holiday(DateTimeOffset date, string description)\n    {\n        Date=date;\n        Description=description;\n    }\n\n\n   [MapTo(\"date\")]\n    public DateTimeOffset Date {get;set;}\n\n    [MapTo(\"description\")]\n    public string Description {get; set;}\n}","path":null,"size_bytes":369,"size_tokens":null},"Player/Models/APIServer/CancelBookingResponse.cs":{"content":"﻿using Amazon.S3.Model;\n\nnamespace Player.Models.APIServer\n{\n    public class CancelBookingResponse\n    {\n        [JsonPropertyName(\"error\")]\n        public string? Error { get; set; }\n\n        [JsonPropertyName(\"bookingIds\")]\n        public List<string> BookingIds { get; set; }\n\n        [JsonPropertyName(\"environment\")]\n        public string Environment { get; set; }\n\n        [JsonPropertyName(\"status\")]\n        public string? Status { get; set; }\n    }\n}\n","path":null,"size_bytes":463,"size_tokens":null},"Dome.Shared/Constants/PlayerCompetancy.cs":{"content":"﻿namespace Dome.Shared.Constants\n{\n    public class PlayerCompetancy\n    {\n        public const string Beginner = \"Beginner\";\n\n        public const string Intermediate = \"Intermediate\";\n\n        public const string Advance = \"Advance\";\n    }\n}\n","path":null,"size_bytes":246,"size_tokens":null},"Admin/ViewModels/VendorYardViewModel.cs":{"content":"﻿using CommunityToolkit.Maui.Extensions;\n\nnamespace Admin.ViewModels\n{\n    public partial class VendorYardViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        ObservableCollection<Venue> activeVendors;\n\n        [ObservableProperty]\n        ObservableCollection<Venue>? dormantVendors;\n\n        [ObservableProperty]\n        ObservableCollection<Venue>? filteredVendors;\n\n        [ObservableProperty]\n        ObservableCollection<string>? gameNames;\n\n        [ObservableProperty]\n        ObservableCollection<string>? cityNames;\n\n        [ObservableProperty]\n        string? selectedGame;\n\n        [ObservableProperty]\n        string? selectedCity;\n\n        [ObservableProperty]\n        Venue? selectedVendor;\n\n        Realm? realm;\n\n        IDisposable? vendorsToken;\n\n        public VendorYardViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n            : base(realmService, navigationService, connectivity)\n        {\n            try\n            {\n                ActiveVendors = new ObservableCollection<Venue>();\n                FilteredVendors = new ObservableCollection<Venue>();\n                DormantVendors = new ObservableCollection<Venue>();\n                GameNames = new ObservableCollection<string>();\n                CityNames = new ObservableCollection<string>();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task Initialize()\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n\n                ActiveVendors = realm\n                    .All<Venue>()\n                    .Where(c => c.IsActive == true)\n                    .ToObservableCollection();\n\n                DormantVendors = realm\n                    .All<Venue>()\n                    .Where(c => c.IsActive == false)\n                    .ToObservableCollection();\n                // select all the games from the ActiveVendors\n                List<AvailableGame> Games = ActiveVendors\n                    .SelectMany(m => m.AvailableGames)\n                    .ToList();\n                GameNames = Games\n                    .DistinctBy(m => m.Name)\n                    .Select(m => m.Name)\n                    .ToObservableCollection();\n                CityNames = ActiveVendors\n                    .DistinctBy(m => m.Address.City)\n                    .Select(n => n.Address.City)\n                    .ToObservableCollection();\n\n                if (SelectedCity != null)\n                {\n                    await SearchByRegion();\n                }\n                else if (SelectedGame != null)\n                {\n                    await SearchByGame();\n                }\n                else if (SelectedVendor != null)\n                {\n                    await SearchByVendor();\n                }\n                else\n                {\n                    FilteredVendors = ActiveVendors;\n                }\n\n                // Observe collection notifications\n                vendorsToken = realm\n                    .All<Venue>()\n                    .SubscribeForNotifications(\n                        async (sender, changes) =>\n                        {\n                            if (changes == null)\n                            {\n                                // This is the case when the notification is called\n                                // for the first time.\n                                // Populate tableview/listview with all the items\n                                // from `collection`\n\n                                return;\n                            }\n                            //Handle individual changes\n\n                            foreach (int i in changes.DeletedIndices)\n                            {\n                                // ... handle deletions ...\n\n                                await Initialize();\n\n                                return;\n                            }\n                            foreach (int i in changes.InsertedIndices)\n                            {\n                                // ... handle insertions ...\n\n                                await Initialize();\n                                return;\n                            }\n                            foreach (int i in changes.NewModifiedIndices)\n                            {\n                                // ... handle modifications ...\n                                await Initialize();\n                                return;\n                            }\n                        }\n                    );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == nameof(SelectedGame))\n                {\n                    await SearchByGame();\n                }\n                else if (e.PropertyName == nameof(SelectedCity))\n                {\n                    await SearchByRegion();\n                }\n                else if (e.PropertyName == nameof(SelectedVendor))\n                {\n                    await SearchByVendor();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ActivateVendor(Venue venue)\n        {\n            try\n            {\n                await realm.WriteAsync(() =>\n                {\n                    venue.IsActive = true;\n                });\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task DeactivateVendor(Venue venue)\n        {\n            try\n            {\n                await realm.WriteAsync(() =>\n                {\n                    venue.IsActive = false;\n                });\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task PromoteVendor(Venue venue)\n        {\n            try\n            {\n                await realm.WriteAsync(() =>\n                {\n                    venue.IsPromoted = true;\n                });\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task UnPromoteVendor(Venue venue)\n        {\n            try\n            {\n                await realm.WriteAsync(() =>\n                {\n                    venue.IsPromoted = false;\n                });\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task AddVendor()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(nameof(OnboardVendorView));\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task EditVendor(Venue venue)\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(\n                    nameof(EditVendorView),\n                    new ShellNavigationQueryParameters { { \"UserId\", venue.Id.ToString() } }\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        \n\n        [RelayCommand]\n        async Task ClearSearch()\n        {\n            try\n            {\n                SelectedCity = null;\n                SelectedGame = null;\n                SelectedVendor = null;\n                FilteredVendors = ActiveVendors;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task SearchByGame()\n        {\n            try\n            {\n                if (SelectedGame != null)\n                {\n                    SelectedCity = null;\n                    SelectedVendor = null;\n                    // select all the vendors that have the selected game\n                    FilteredVendors = ActiveVendors\n                        .Where(m => m.AvailableGames.Any(g => g.Name == SelectedGame))\n                        .ToObservableCollection();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task SearchByRegion()\n        {\n            try\n            {\n                if (SelectedCity != null)\n                {\n                    SelectedGame = null;\n                    SelectedVendor = null;\n                    FilteredVendors = ActiveVendors\n                        .Where(m => m.Address.City == SelectedCity)\n                        .ToObservableCollection();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task SearchByVendor()\n        {\n            try\n            {\n                if (SelectedVendor != null)\n                {\n                    SelectedCity = null;\n                    SelectedGame = null;\n                    FilteredVendors = ActiveVendors\n                        .Where(m => m.Id == SelectedVendor.Id)\n                        .ToObservableCollection();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":10325,"size_tokens":null},"Player/Views/Account/EditInterestsView.cs":{"content":"namespace Player.Views.Account;\n\npublic class EditInterestsView : AccountBaseView\n{\n    readonly EditInterestsViewModel? viewModel;\n\n    public EditInterestsView(EditInterestsViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            Style<Border> borderStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Color.FromArgb(\"#EF2F50\"),\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Colors.LightGray,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 165),\n                        (BodyRow.second, 55),\n                        (BodyRow.third, 150),\n                        (BodyRow.fourth, 250),\n                        (BodyRow.fifth, 50),\n                        (BodyRow.sixth, 70)\n                    ),\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first),\n                        new ExtraBold28Label { Text = \"Edit Profile\" }\n                            .Margins(20, 20, 0, 0)\n                            .Row(BodyRow.second)\n                            .ColumnSpan(2),\n                        new Border\n                        {\n                            StrokeThickness = .5,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Padding = new Thickness(10, 10, 10, 20),\n                            Stroke = Brush.Black,\n                            Content = new VerticalStackLayout\n                            {\n                                Children =\n                                {\n                                    new Medium16Label { Text = \"Your Age \" },\n                                    new CollectionView\n                                    {\n                                        ItemsSource = viewModel.AllAgeGroups,\n                                        SelectionChangedCommand = viewModel.AgeGroupSelectedCommand,\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new Border\n                                            {\n                                                Style = borderStyle,\n                                                StrokeThickness = 0,\n                                                StrokeShape = new RoundRectangle\n                                                {\n                                                    CornerRadius = new CornerRadius(7),\n                                                },\n                                                Padding = new Thickness(10, 5),\n                                                Stroke = Brush.Black,\n                                                Content = new Medium14Label\n                                                {\n                                                    VerticalOptions = LayoutOptions.Center,\n                                                    HorizontalOptions = LayoutOptions.Center,\n                                                }\n                                                    .Bind(\n                                                        Label.TextProperty,\n                                                        nameof(AgeGroup.AgeGroupName)\n                                                    )\n                                                    .Bind(\n                                                        Medium14Label.TextColorProperty,\n                                                        nameof(AgeGroup.IsSelected),\n                                                        convert: (bool state) =>\n                                                            state == false\n                                                                ? Colors.Black\n                                                                : Colors.White\n                                                    ),\n                                            }.Bind(\n                                                Border.BackgroundProperty,\n                                                nameof(AgeGroup.IsSelected),\n                                                convert: (bool state) =>\n                                                    state == false\n                                                        ? Colors.LightGray\n                                                        : Color.FromArgb(\"#EF2F50\")\n                                            );\n                                        }),\n\n                                        SelectionMode = SelectionMode.Single,\n                                        ItemSizingStrategy = ItemSizingStrategy.MeasureAllItems,\n                                        ItemsLayout = new GridItemsLayout(\n                                            4,\n                                            ItemsLayoutOrientation.Vertical\n                                        )\n                                        {\n                                            HorizontalItemSpacing = 10,\n                                            VerticalItemSpacing = 10,\n                                        },\n                                    }\n                                        .Bind(\n                                            SelectableItemsView.SelectedItemProperty,\n                                            nameof(viewModel.SelectedAgeGroup),\n                                            BindingMode.TwoWay\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label { TextColor = Colors.Red }\n                                        .Bind(\n                                            Regular16Label.TextProperty,\n                                            nameof(viewModel.SelectedAgeGroupError)\n                                        )\n                                        .Bind(\n                                            IsVisibleProperty,\n                                            nameof(viewModel.SelectedAgeGroupError),\n                                            converter: new IsStringNotNullOrEmptyConverter()\n                                        ),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.third)\n                            .Margins(20, 20, 20, 0),\n                        new Border\n                        {\n                            StrokeThickness = .5,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Padding = new Thickness(10, 10, 10, 20),\n                            Stroke = Brush.Black,\n                            Content = new VerticalStackLayout\n                            {\n                                Children =\n                                {\n                                    new Medium16Label { Text = \"Your Interests \" },\n                                    new CollectionView\n                                    {\n                                        ItemsSource = viewModel.AllGames,\n                                        SelectionChangedCommand = viewModel.InterestSelectedCommand,\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new Border\n                                            {\n                                                StrokeThickness = 0,\n                                                Style = borderStyle,\n                                                StrokeShape = new RoundRectangle\n                                                {\n                                                    CornerRadius = 8,\n                                                },\n                                                Padding = new Thickness(10, 5),\n                                                Content = new Medium14Label\n                                                {\n                                                    VerticalOptions = LayoutOptions.Center,\n                                                    HorizontalOptions = LayoutOptions.Center,\n                                                }\n                                                    .Bind(\n                                                        Label.TextProperty,\n                                                        nameof(FavouriteGame.GameName)\n                                                    )\n                                                    .Bind(\n                                                        Regular12Label.TextColorProperty,\n                                                        nameof(FavouriteGame.IsSelected),\n                                                        convert: (bool state) =>\n                                                            state == false\n                                                                ? Colors.Black\n                                                                : Colors.White\n                                                    ),\n                                            }.Bind(\n                                                Border.BackgroundProperty,\n                                                nameof(FavouriteGame.IsSelected),\n                                                convert: (bool state) =>\n                                                    state == false\n                                                        ? Colors.LightGray\n                                                        : Color.FromArgb(\"#EF2F50\")\n                                            );\n                                        }),\n\n                                        SelectionMode = SelectionMode.Multiple,\n                                        ItemSizingStrategy = ItemSizingStrategy.MeasureAllItems,\n                                        ItemsLayout = new GridItemsLayout(\n                                            3,\n                                            ItemsLayoutOrientation.Vertical\n                                        )\n                                        {\n                                            HorizontalItemSpacing = 10,\n                                            VerticalItemSpacing = 10,\n                                        },\n                                    }\n                                        .Bind(\n                                            SelectableItemsView.SelectedItemsProperty,\n                                            nameof(viewModel.SelectedGames),\n                                            BindingMode.TwoWay\n                                        )\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular16Label { TextColor = Colors.Red }\n                                        .Bind(\n                                            Regular16Label.TextProperty,\n                                            nameof(viewModel.SelectedGamesError)\n                                        )\n                                        .Bind(\n                                            IsVisibleProperty,\n                                            nameof(viewModel.SelectedGamesError),\n                                            converter: new IsStringNotNullOrEmptyConverter()\n                                        ),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Margins(20, 20, 20, 0)\n                            .Row(BodyRow.fourth),\n                        new MediumButton\n                        {\n                            Text = \"SAVE\",\n                            WidthRequest = 284,\n                            HeightRequest = 47,\n                        }\n                            .Row(BodyRow.fifth)\n                            .BindCommand(nameof(viewModel.SaveCommand), source: viewModel)\n                            .Margins(0, 30, 0, 0),\n                        new MediumButton\n                        {\n                            Text = \"BACK\",\n                            WidthRequest = 284,\n                            HeightRequest = 47,\n                            Background = Color.FromArgb(\"#272727\"),\n                            TextColor = Colors.White,\n                        }\n                            .BindCommand(nameof(viewModel.CancelCommand))\n                            .Row(BodyRow.sixth)\n                            .Margins(0, 20, 0, 0),\n                    },\n                },\n            };\n\n            Loaded += EditInterestsView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void EditInterestsView_Loaded(object? sender, EventArgs e)\n    {\n        if (viewModel != null)\n        {\n            await viewModel.AddGamesAndAge();\n        }\n    }\n}\n","path":null,"size_bytes":15390,"size_tokens":null},"Player/ViewModels/Book/TeamViewModel.cs":{"content":"﻿using Microsoft.Maui.Networking;\nusing Realms;\n\nnamespace Player.ViewModels.Book\n{\n    public partial class TeamViewModel : BaseViewModel, IQueryAttributable\n    {\n        [ObservableProperty]\n        Booking? selectedBooking;\n\n        [ObservableProperty]\n        string? playerCount;\n\n        [ObservableProperty]\n        string? nameAndLevel;\n\n        [ObservableProperty]\n        string? otherDetails;\n\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string? userName;\n\n        [ObservableProperty]\n        int? collectionHeight;\n\n        VenueUser? gamer;\n\n        Realm realm;\n\n        private readonly INavigationService? navigationService;\n\n        public TeamViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                realm = Realm.GetInstance(realmService.Config);\n                gamer = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                UserName = gamer?.FirstName;\n                PlayerImage = gamer?.ProfileImage;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                query.TryGetValue(\"booking\", out object? booking);\n                if (booking is Booking)\n                {\n                    SelectedBooking = booking as Booking;\n                    await LoadPlayers();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        private async Task LoadPlayers()\n        {\n            try\n            {\n                // +1 for host of the game who has booked the game\n                PlayerCount = $\"{SelectedBooking?.JoinedPlayers.Count + 1}\";\n                NameAndLevel =\n                    $\"{SelectedBooking?.GameName} | {SelectedBooking?.PlayerCompetancyLevel}\";\n                OtherDetails =\n                    $\"{SelectedBooking?.VenueName}  | {SelectedBooking?.Venue.Address.City}\";\n                int? joinedPlayers = SelectedBooking?.JoinedPlayers.Count;\n                CollectionHeight = (SelectedBooking?.JoinedPlayers.Count + 1) * 130;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        [RelayCommand]\n        public async Task Close()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3176,"size_tokens":null},"Admin/View/OnboardVendorView.cs":{"content":"namespace Admin.View;\n\npublic class OnboardVendorView : ContentPage\n{\n    private readonly OnboardVendorViewModel? viewModel;\n\n    int count = 0;\n\n    public OnboardVendorView(OnboardVendorViewModel viewModel)\n    {\n        try\n        {\n            Title = \"Onboard Partner\";\n            this.viewModel = viewModel;\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n            Content = new ScrollView\n            {\n                Orientation = ScrollOrientation.Both,\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Content = new HorizontalStackLayout\n                {\n                    Margin = new Thickness(10),\n\n                    Spacing = 20,\n                    Children =\n                    {\n                        #region Partner Details\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = 20,\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 20),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 35),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, 35),\n                                            (BodyRow.sixth, 35),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, 35),\n                                            (BodyRow.ninth, 35),\n                                            (BodyRow.tenth, Auto),\n                                            (BodyRow.eleventh, 35),\n                                            (BodyRow.twelfth, 35),\n                                            (BodyRow.thirteenth, Auto),\n                                            (BodyRow.fourteenth, 35),\n                                            (BodyRow.fifteenth, 35),\n                                            (BodyRow.sixteenth, Auto),\n                                            (BodyRow.seventeenth, 35),\n                                            (BodyRow.eighteenth, Auto),\n                                            (BodyRow.nineteenth, Auto),\n                                            (BodyRow.twentieth, Auto),\n                                            (BodyRow.twentyfirst, Auto),\n                                            (BodyRow.twentysecond, 35),\n                                            (BodyRow.twentythird, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 300),\n                                            (BodyColumn.second, 300)\n                                        ),\n                                        HorizontalOptions = LayoutOptions.Start,\n                                        ColumnSpacing = 10,\n                                        RowSpacing = 5,\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"PARTNER DETAILS\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Stripe Account ID\",\n                                                WidthRequest = 300,\n                                                VerticalOptions = LayoutOptions.Center,\n                                                HorizontalOptions = LayoutOptions.End,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.StripeUserId)}\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Business Name\" }\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .Margins(0, 15, 0, 0),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 610,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.FullName)}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label\n                                            {\n                                                TextColor = Colors.Red,\n                                                Text = \"Business name is required\",\n                                            }\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.FullName)}\",\n                                                    converter: new IsStringNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Street\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Street)}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label\n                                            {\n                                                TextColor = Colors.Red,\n                                                Text = \"Street is required\",\n                                            }\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Street)}\",\n                                                    converter: new IsStringNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Postcode\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.second),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.PostCode)}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label\n                                            {\n                                                TextColor = Colors.Red,\n                                                Text = \"PostCode is required\",\n                                            }\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.PostCode)}\",\n                                                    converter: new IsStringNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Province\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eighth)\n                                                .Column(BodyColumn.first),\n                                            new Picker\n                                            {\n                                                WidthRequest = 300,\n                                                FontSize = 16,\n                                                FontFamily = \"InterRegular\",\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(Province.ProvinceName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.Provinces)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedProvince)\n                                                )\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label\n                                            {\n                                                TextColor = Colors.Red,\n                                                Text = \"Province is required\",\n                                            }\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    $\"{nameof(viewModel.SelectedProvince)}.{nameof(viewModel.SelectedProvince.ProvinceName)}\",\n                                                    converter: new IsStringNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"City\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eighth)\n                                                .Column(BodyColumn.second),\n                                            new Picker\n                                            {\n                                                WidthRequest = 300,\n                                                FontSize = 16,\n                                                FontFamily = \"InterRegular\",\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(City.CityName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.Cities)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedCity)\n                                                )\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label\n                                            {\n                                                TextColor = Colors.Red,\n                                                Text = \"City is required\",\n                                            }\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    $\"{nameof(viewModel.SelectedCity)}.{nameof(viewModel.SelectedCity.CityName)}\",\n                                                    converter: new IsStringNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Latitude\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Latitude)}\"\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(viewModel.LatitudeError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.LatitudeError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Longitude\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.second),\n                                            new BorderedEntryRectangle\n                                            {\n                                                PlaceholderText = \"Type here\",\n                                                WidthRequest = 300,\n                                            }\n                                                .Bind(\n                                                    BorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Longitude)}\"\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(viewModel.LongitudeError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.LongitudeError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"Contact Number\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fourteenth)\n                                                .Column(BodyColumn.first),\n                                            new CustomBorder\n                                            {\n                                                Content = new Grid\n                                                {\n                                                    Padding = new Thickness(5, 0, 5, 0),\n                                                    WidthRequest = 210,\n                                                    ColumnDefinitions = Columns.Define(\n                                                        (BodyColumn.first, Auto),\n                                                        (BodyColumn.second, Star)\n                                                    ),\n                                                    HorizontalOptions = LayoutOptions.Start,\n                                                    Background = Colors.Transparent,\n                                                    Children =\n                                                    {\n                                                        // new Regular14Label{ VerticalOptions=LayoutOptions.Center}.Bind(Label.TextProperty,nameof(viewModel.CountryText),source:viewModel).Column(BodyColumn.first),\n                                                        new Regular16Label\n                                                        {\n                                                            VerticalOptions = LayoutOptions.Center,\n                                                        }\n                                                            .Bind(\n                                                                Regular16Label.TextProperty,\n                                                                nameof(viewModel.PhoneCode),\n                                                                source: viewModel\n                                                            )\n                                                            .AppThemeBinding(\n                                                                Label.TextColorProperty,\n                                                                Colors.Black,\n                                                                Colors.White\n                                                            )\n                                                            .Column(BodyColumn.first),\n                                                        new CustomEntry\n                                                        {\n                                                            Placeholder = \"Type here\",\n                                                            Keyboard = Keyboard.Telephone,\n                                                            HorizontalOptions = LayoutOptions.Fill,\n                                                        }\n                                                            .Bind(\n                                                                CustomEntry.TextProperty,\n                                                                $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.MobileNumber)}\"\n                                                            )\n                                                            .Column(BodyColumn.second),\n                                                    },\n                                                },\n                                            }\n                                                .Row(BodyRow.fifteenth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.MobileNumberError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.MobileNumberError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.sixteenth)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Email ID\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fourteenth)\n                                                .Column(BodyColumn.second),\n                                            new SingleImageBorderedEntryRectangle\n                                            {\n                                                WidthRequest = 300,\n                                            }\n                                                .AppThemeBinding(\n                                                    SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                    \"email_black_24dp.png\",\n                                                    \"email_white_24dp.png\"\n                                                )\n                                                .Bind(\n                                                    SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Email)}\"\n                                                )\n                                                .Row(BodyRow.fifteenth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(viewModel.EmailError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.EmailError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.sixteenth)\n                                                .Column(BodyColumn.second),\n                                            new Bold20Label { Text = \"About\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.seventeenth)\n                                                .Column(BodyColumn.first),\n                                            new CustomBorder\n                                            {\n                                                Padding = 0,\n                                                Margin = new Thickness(0, 0, 0, 10),\n                                                Content = new Editor\n                                                {\n                                                    AutoSize = EditorAutoSizeOption.TextChanges,\n                                                    HeightRequest = 100,\n                                                    MaxLength = 700,\n                                                    FontSize = 16,\n                                                    FontFamily = \"InterRegular\",\n                                                }.Bind(\n                                                    Editor.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.About)}\"\n                                                ),\n                                            }\n                                                .Row(BodyRow.eighteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(viewModel.AboutError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.AboutError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.nineteenth)\n                                                .Column(BodyColumn.first),\n                                           \n                                            new Bold20Label { Text = \"Amenities\" }\n                                                .Row(BodyRow.twentyfirst)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 15, 0, 0),\n                                            new AmenitiesControl()\n                                                .Row(BodyRow.twentysecond)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(5),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.SelectedAmenitiesError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.SelectedAmenitiesError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twentythird)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                        #endregion Partner Details\n\n\n                        #region Partner Games\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = 20,\n\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 35),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, 35),\n                                            (BodyRow.sixth, Auto),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, Auto),\n                                            (BodyRow.ninth, Auto),\n                                            (BodyRow.tenth, 55),\n                                            (BodyRow.eleventh, Auto),\n                                            (BodyRow.twelfth, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 270),\n                                            (BodyColumn.second, 270)\n                                        ),\n\n                                        ColumnSpacing = 10,\n\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"PARTNER GAMES\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Sports Category\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Picker\n                                            {\n                                                WidthRequest = 550,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                                ItemDisplayBinding = new Binding(\n                                                    nameof(Game.GameName)\n                                                ),\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.AllGames)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.SelectedGame)\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.SelectedGameError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.SelectedGameError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Fields Available\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new Picker\n                                            {\n                                                WidthRequest = 270,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.FieldsAndPlayersCount)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.FieldCount)\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.FieldCountError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.FieldCountError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold20Label { Text = \"Maximum Players\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.second),\n                                            new Picker\n                                            {\n                                                WidthRequest = 270,\n                                                FontFamily = \"InterRegular\",\n                                                FontSize = 16,\n                                            }\n                                                .Bind(\n                                                    Picker.ItemsSourceProperty,\n                                                    nameof(viewModel.FieldsAndPlayersCount)\n                                                )\n                                                .Bind(\n                                                    Picker.SelectedItemProperty,\n                                                    nameof(viewModel.PlayerCount)\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.PlayerCountError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.PlayerCountError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.second),\n                                            new Grid\n                                            {\n                                                RowDefinitions = Rows.Define(\n                                                    (BodyRow.first, 40),\n                                                    (BodyRow.second, 40),\n                                                    (BodyRow.third, 40),\n                                                    (BodyRow.fourth, Auto),\n                                                    (BodyRow.fifth, 40),\n                                                    (BodyRow.sixth, 40),\n                                                    (BodyRow.seventh, 40),\n                                                    (BodyRow.eighth, Auto),\n                                                    (BodyRow.ninth, 40),\n                                                    (BodyRow.tenth, 40),\n                                                    (BodyRow.eleventh, 40),\n                                                    (BodyRow.twelfth, Auto),\n                                                    (BodyRow.thirteenth, 40),\n                                                    (BodyRow.fourteenth, 40),\n                                                    (BodyRow.fifteenth, 40),\n                                                    (BodyRow.sixteenth, Auto)\n                                                ),\n\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, 150),\n                                                    (BodyColumn.second, 150),\n                                                    (BodyColumn.third, 120)\n                                                ),\n\n                                                ColumnSpacing = 20,\n\n                                                Children =\n                                                {\n                                                    new Bold20Label { Text = \"Weekday\" }\n                                                        .Row(BodyRow.first)\n                                                        .ColumnSpan(3),\n                                                    new Bold20Label { Text = \"Opening Time\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekdayOpenTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekdayStartTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekdayStartTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"Closing Time\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekdayCloseTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekdayEndTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekdayEndTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(viewModel.WeekdayHourlyRate),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.third)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.fourth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekday Peak Hours\" }\n                                                        .Row(BodyRow.fifth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Start Time\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursStartTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"End Time\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursEndTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.sixth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRate\n                                                            ),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.seventh)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekdayPeakHoursHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.eighth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekend\" }\n                                                        .Row(BodyRow.ninth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Opening Time\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekendOpenTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekendStartTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekendStartTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"Closing Time\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(viewModel.WeekendCloseTime),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(viewModel.WeekendEndTimeError),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(viewModel.WeekendEndTimeError),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.tenth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(viewModel.WeekendHourlyRate),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.eleventh)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.twelfth)\n                                                        .Column(BodyColumn.third),\n                                                    new Bold20Label { Text = \"Weekend Peak Hours\" }\n                                                        .Row(BodyRow.thirteenth)\n                                                        .ColumnSpan(3)\n                                                        .Margins(0, 10, 0, 0),\n                                                    new Bold20Label { Text = \"Start Time\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursStartTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.first),\n                                                    new Bold20Label { Text = \"End Time\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new VenueTimingControl { }\n                                                        .Bind(\n                                                            VenueTimingControl.TimeProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTime\n                                                            ),\n                                                            BindingMode.TwoWay\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTimeError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursEndTimeError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.second),\n                                                    new Bold20Label { Text = \"Price\" }\n                                                        .Row(BodyRow.fourteenth)\n                                                        .Column(BodyColumn.third),\n                                                    new SingleImageBorderedEntryRectangle { }\n                                                        .Bind(\n                                                            SingleImageBorderedEntryRectangle.EntryTextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRate\n                                                            ),\n                                                            stringFormat: \"{0:F2}\"\n                                                        )\n                                                        .AppThemeBinding(\n                                                            SingleImageBorderedEntryRectangle.ImgSourceProperty,\n                                                            \"attach_money_black_18dp.png\",\n                                                            \"attach_money_white_18dp.png\"\n                                                        )\n                                                        .Row(BodyRow.fifteenth)\n                                                        .Column(BodyColumn.third),\n                                                    new Regular16Label { TextColor = Colors.Red }\n                                                        .Bind(\n                                                            Regular16Label.TextProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRateError\n                                                            ),\n                                                            source: viewModel\n                                                        )\n                                                        .Bind(\n                                                            IsVisibleProperty,\n                                                            nameof(\n                                                                viewModel.WeekendPeakHoursHourlyRateError\n                                                            ),\n                                                            converter: new IsStringNotNullOrEmptyConverter(),\n                                                            source: viewModel\n                                                        )\n                                                        .Row(BodyRow.sixteenth)\n                                                        .Column(BodyColumn.third),\n                                                },\n                                            }\n                                                .Row(BodyRow.eighth)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 30, 30, 0),\n                                            new Bold20Label { Text = \"First Photo\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.first),\n                                            new Image\n                                            {\n                                                Aspect = Aspect.AspectFill,\n                                                HeightRequest = 65,\n                                                WidthRequest = 100,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Image.SourceProperty,\n                                                    nameof(viewModel.GameFirstImage),\n                                                    converter: new ByteArrayToImageSourceConverter()\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first),\n                                            new HorizontalStackLayout\n                                            {\n                                                Spacing = 20,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Margin = new Thickness(0, 10, 0, 10),\n                                                Children =\n                                                {\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"+\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.PickFirstPhotoCommand)\n                                                    ),\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"-\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.RemoveFirstPhotoCommand)\n                                                    ),\n                                                },\n                                            }\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first),\n                                            new Bold20Label { Text = \"Second Photo\" }\n                                                .Margins(0, 10, 0, 0)\n                                                .Row(BodyRow.ninth)\n                                                .Column(BodyColumn.second),\n                                            new Image\n                                            {\n                                                Aspect = Aspect.AspectFill,\n                                                HeightRequest = 65,\n                                                WidthRequest = 100,\n                                                HorizontalOptions = LayoutOptions.Center,\n                                            }\n                                                .Bind(\n                                                    Image.SourceProperty,\n                                                    nameof(viewModel.GameSecondImage),\n                                                    converter: new ByteArrayToImageSourceConverter()\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.second),\n                                            new HorizontalStackLayout\n                                            {\n                                                HorizontalOptions = LayoutOptions.Center,\n                                                Spacing = 20,\n                                                Margin = new Thickness(0, 10, 0, 10),\n                                                Children =\n                                                {\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"+\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.PickSecondPhotoCommand)\n                                                    ),\n                                                    new RegularButton\n                                                    {\n                                                        Text = \"-\",\n                                                        FontSize = 26,\n                                                    }.BindCommand(\n                                                        nameof(viewModel.RemoveSecondPhotoCommand)\n                                                    ),\n                                                },\n                                            }\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { TextColor = Colors.Red }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.GameImageError),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    IsVisibleProperty,\n                                                    nameof(viewModel.GameImageError),\n                                                    converter: new IsStringNotNullOrEmptyConverter(),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first),\n                                            new RegularButton\n                                            {\n                                                Text = \"Add Game\",\n                                                HeightRequest = 38,\n                                                FontSize = 18,\n                                                FontFamily = \"InterBold\",\n                                                Margin = new Thickness(20, 0, 20, 0),\n                                            }\n                                                .BindCommand(nameof(viewModel.AddGameCommand))\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                        #endregion Partner Games\n\n\n                        #region Games Collection\n\n                        new CollectionView\n                        {\n                            ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                            WidthRequest = 300,\n                            EmptyView = \"Minimum one game is required\",\n                            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                            {\n                                ItemSpacing = 10,\n                            },\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new CustomBorder\n                                {\n                                    Padding = 8,\n                                    Content = new Grid\n                                    {\n                                        HorizontalOptions = LayoutOptions.Start,\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto),\n                                            (BodyRow.third, Auto),\n                                            (BodyRow.fourth, Auto),\n                                            (BodyRow.fifth, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Auto),\n                                            (BodyColumn.second, Auto)\n                                        ),\n                                        RowSpacing = 5,\n                                        Children =\n                                        {\n                                            new Bold20Label { }\n                                                .Bind(\n                                                    Bold20Label.TextProperty,\n                                                    nameof(AvailableGame.Name)\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(AvailableGame.FieldInformation)\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    binding1: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(AvailableGame.Timing.WeekdayOpenTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    binding2: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(AvailableGame.Timing.WeekdayCloseTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    convert: (\n                                                        (string? openTime, string? closeTime) values\n                                                    ) =>\n                                                        $\" weekday: {values.openTime} to {values.closeTime}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first),\n                                            new Bold16Label { }\n                                                .Bind(\n                                                    Bold18Label.TextProperty,\n                                                    nameof(AvailableGame.WeekdayHourlyRate),\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"{0:C}\"\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.second),\n                                            new Regular16Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    binding1: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(viewModel.WeekendOpenTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    binding2: new Binding(\n                                                        $\"{nameof(AvailableGame.Timing)}.{nameof(viewModel.WeekendCloseTime)}\",\n                                                        stringFormat: \"{0:HH:mm}\"\n                                                    ),\n                                                    convert: (\n                                                        (string? openTime, string? closeTime) values\n                                                    ) =>\n                                                        $\" weekend: {values.openTime} to {values.closeTime}\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first),\n                                            new Bold16Label { }\n                                                .Bind(\n                                                    Bold18Label.TextProperty,\n                                                    nameof(AvailableGame.WeekendHourlyRate),\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"{0:C}\"\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.second),\n                                            new Bold12Label { Text = \"Photos Added\" }\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first),\n                                            new ImageButton\n                                            {\n                                                Source = \"remove_game.png\",\n                                                HeightRequest = 24,\n                                                WidthRequest = 24,\n                                                Background = Colors.Transparent,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.RemoveGameCommand),\n                                                    source: viewModel,\n                                                    parameterPath: \".\"\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.second),\n                                        },\n                                    },\n                                };\n                            }),\n                        }\n                            .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.AddedGames))\n                            .Margins(20, 30, 20),\n                        #endregion Games Collection\n\n                        #region  Partner Review\n                        new VerticalStackLayout\n                        {\n                            Children =\n                            {\n                                new CustomBorder\n                                {\n                                    Padding = new Thickness(20, 15, 20, 10),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, 30),\n                                            (BodyRow.second, 40),\n                                            (BodyRow.third, 35),\n                                            (BodyRow.fourth, 25),\n                                            (BodyRow.fifth, 25),\n                                            (BodyRow.sixth, 30),\n                                            (BodyRow.seventh, Auto),\n                                            (BodyRow.eighth, 30),\n                                            (BodyRow.ninth, 30),\n                                            (BodyRow.tenth, 40),\n                                            (BodyRow.eleventh, 30),\n                                            (BodyRow.twelfth, 65),\n                                            (BodyRow.thirteenth, 60)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, 250),\n                                            (BodyColumn.second, 175)\n                                        ),\n                                        RowSpacing = 2,\n                                        Children =\n                                        {\n                                            new Bold20Label { Text = \"Facility Review\" }\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Bold24Label { }\n                                                .Bind(\n                                                    Bold24Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.FullName)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 10, 0, 0),\n                                            new Regular18Label { }\n                                                .FormattedText(\n                                                    new[]\n                                                    {\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Street)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Province)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.City)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.PostCode)}\",\n                                                            BindingMode.OneWay,\n                                                            stringFormat: \"{0}, \"\n                                                        ),\n                                                        new Span { }.Bind(\n                                                            Span.TextProperty,\n                                                            $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Address)}.{nameof(viewModel.Vendor.Address.Country)}\",\n                                                            BindingMode.OneWay\n                                                        ),\n                                                    }\n                                                )\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 10, 0, 0),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular18Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.MobileNumber)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.fourth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.Email)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.fifth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    nameof(viewModel.Email),\n                                                    BindingMode.OneWay,\n                                                    stringFormat: \"Vendor Username: {0}\"\n                                                )\n                                                .Row(BodyRow.sixth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new Regular18Label { }\n                                                .Bind(\n                                                    Regular16Label.TextProperty,\n                                                    $\"{nameof(viewModel.Vendor)}.{nameof(viewModel.Vendor.About)}\",\n                                                    BindingMode.OneWay\n                                                )\n                                                .Row(BodyRow.seventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new CollectionView\n                                            {\n                                                EmptyView = \"No Amenity Selected\",\n                                                ItemSizingStrategy =\n                                                    ItemSizingStrategy.MeasureAllItems,\n                                                ItemsLayout = new LinearItemsLayout(\n                                                    ItemsLayoutOrientation.Horizontal\n                                                )\n                                                {\n                                                    ItemSpacing = 4,\n                                                },\n                                                ItemTemplate = new DataTemplate(() =>\n                                                {\n                                                    return new Regular18Label\n                                                    {\n                                                        LineBreakMode = LineBreakMode.NoWrap,\n                                                    }.Bind(\n                                                        Regular18Label.TextProperty,\n                                                        nameof(Amenity.AmenityName),\n                                                        BindingMode.OneWay\n                                                    );\n                                                }),\n                                            }\n                                                .Bind(\n                                                    ItemsView.ItemsSourceProperty,\n                                                    nameof(viewModel.SelectedAmenities)\n                                                )\n                                                .Row(BodyRow.tenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new CollectionView\n                                            {\n                                                ItemSizingStrategy =\n                                                    ItemSizingStrategy.MeasureAllItems,\n                                                EmptyView = \"Games not added\",\n                                                ItemsLayout = new GridItemsLayout(\n                                                    ItemsLayoutOrientation.Horizontal\n                                                )\n                                                {\n                                                    HorizontalItemSpacing = 5,\n                                                },\n                                                ItemTemplate = new DataTemplate(() =>\n                                                {\n                                                    return new CustomBorder\n                                                    {\n                                                        Padding = new Thickness(10, 5),\n                                                        Content = new Regular14Label\n                                                        {\n                                                            LineBreakMode = LineBreakMode.NoWrap,\n                                                        }.Bind(\n                                                            Regular14Label.TextProperty,\n                                                            nameof(AvailableGame.Name),\n                                                            BindingMode.OneWay\n                                                        ),\n                                                    };\n                                                }),\n                                            }\n                                                .Bind(\n                                                    ItemsView.ItemsSourceProperty,\n                                                    nameof(viewModel.AddedGames)\n                                                )\n                                                .Row(BodyRow.eleventh)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                            new RegularButton\n                                            {\n                                                Text = \"ONBOARD\",\n                                                HeightRequest = 40,\n                                                FontFamily = \"InterBold\",\n                                                FontSize = 18,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.ValidateDataCommand),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.twelfth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 20, 0, 0),\n                                            new RegularButton\n                                            {\n                                                Text = \"CANCEL\",\n                                                HeightRequest = 40,\n                                                Background = Colors.Black,\n                                                FontFamily = \"InterBold\",\n                                                FontSize = 18,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.CancelCommand),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.thirteenth)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2)\n                                                .Margins(0, 20, 0, 0),\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                        #endregion Partner Review\n                    },\n                },\n            };\n            BindingContext = viewModel;\n\n            Loaded += OnboardVendorView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    // can't use this method because the Loaded event is fired and reset the data whenever navigating to another page or when a popup is opened\n    private async void OnboardVendorView_Loaded(object? sender, EventArgs e)\n    {\n        if (count == 0)\n        {\n            if (viewModel != null)\n            {\n                await viewModel.CreateNewVendor();\n                count++;\n            }\n        }\n    }\n}\n","path":null,"size_bytes":106594,"size_tokens":null},"Player/Popups/CancelBookingConfirmPopup.cs":{"content":"using System.Threading.Tasks;\nusing CommunityToolkit.Maui.Extensions;\n\nnamespace Player.Popups;\n\npublic class CancelBookingConfirmPopup : Popup<bool>\n{\n    public CancelBookingConfirmPopup()\n    {\n        Background = Colors.Transparent;\n\n        // Content = new Border\n        // {\n        //     StrokeThickness = 0,\n        //     StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(16) },\n        Content = new Grid\n        {\n            RowDefinitions = Rows.Define(\n                (BodyRow.first, Auto),\n                (BodyRow.second, Auto),\n                (BodyRow.third, Auto)\n            ),\n            ColumnDefinitions = Columns.Define((BodyColumn.first, Star), (BodyColumn.second, Star)),\n            Padding = new Thickness(50),\n            ColumnSpacing = 15,\n            Children =\n            {\n                new ExtraBold20Label { Text = \"Hey, Wait!!!\" }\n                    .Row(BodyRow.first)\n                    .Column(BodyColumn.first)\n                    .ColumnSpan(2),\n                new ExtraBold12Label { Text = \"Are you sure you want to cancel this \\n booking?\" }\n                    .Row(BodyRow.second)\n                    .Column(BodyColumn.first)\n                    .ColumnSpan(2),\n                new MediumButton\n                {\n                    Text = \"No\",\n                    FontSize = 11,\n                    CornerRadius = 16,\n                }\n                    .AppThemeBinding(\n                        MediumButton.TextColorProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#EF2F50\")\n                    )\n                    .AppThemeBinding(\n                        MediumButton.BackgroundProperty,\n                        Color.FromArgb(\"#EF2F50\"),\n                        Color.FromArgb(\"#FFFFFF\")\n                    )\n                    .Invoke(noButton => noButton.Clicked += NoButton_Clicked)\n                    .AppThemeBinding(MediumButton.BorderWidthProperty, 0, 1)\n                    .Row(BodyRow.fourth)\n                    .Column(BodyColumn.first)\n                    .Margins(0, 25, 0, 0),\n                new MediumButton\n                {\n                    Text = \"Yes\",\n                    TextColor = Colors.White,\n                    FontSize = 11,\n                    CornerRadius = 16,\n                    Background = Colors.Black,\n                    BorderColor = Color.FromArgb(\"#EF2F50\"),\n                }\n                    .AppThemeBinding(MediumButton.BorderWidthProperty, 0, 1)\n                    .Invoke(yesButton => yesButton.Clicked += YesButton_Clicked)\n                    .Row(BodyRow.third)\n                    .Column(BodyColumn.second)\n                    .Margins(0, 25, 0, 0),\n            },\n        }.AppThemeBinding(BackgroundProperty, Color.FromArgb(\"#F1F3F2\"), Colors.Black);\n        // };\n    }\n\n    private async void NoButton_Clicked(object? sender, EventArgs e)\n    {\n        await CloseAsync(false);\n    }\n\n    private async void YesButton_Clicked(object? sender, EventArgs e)\n    {\n        await CloseAsync(true);\n    }\n}\n","path":null,"size_bytes":3095,"size_tokens":null},"Admin/ViewModels/EditVendorViewModel.cs":{"content":"﻿using Dome.Shared.Synced.Player;\n\nnamespace Admin.ViewModels\n{\n    public partial class EditVendorViewModel : ObservableValidator, IQueryAttributable\n    {\n        [ObservableProperty]\n        ObjectId? userId;\n\n        [ObservableProperty]\n        List<Province>? provinces;\n\n        [ObservableProperty]\n        Province? selectedProvince;\n\n        [ObservableProperty]\n        ObservableCollection<City>? cities;\n\n        [ObservableProperty]\n        City? selectedCity;\n\n        [ObservableProperty]\n        string countryText = \"🇨🇦\";\n\n        [ObservableProperty]\n        string phoneCode = \"+1\";\n\n        [ObservableProperty]\n        string businessNameError = string.Empty;\n\n        [ObservableProperty]\n        string streetError = string.Empty;\n\n        [ObservableProperty]\n        string postCodeError = string.Empty;\n\n        [ObservableProperty]\n        string provinceError = string.Empty;\n\n        [ObservableProperty]\n        string cityError = string.Empty;\n\n        [ObservableProperty]\n        string latitudeError = string.Empty;\n\n        [ObservableProperty]\n        string longitudeError = string.Empty;\n\n        [ObservableProperty]\n        string mobileNumberError = string.Empty;\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string aboutError = string.Empty;\n\n        [ObservableProperty]\n        ObservableCollection<Amenity>? allAmenities;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Amenity is required\")]\n        ObservableCollection<object>? selectedAmenities;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayOpenTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayCloseTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayPeakHoursStartTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekdayPeakHoursEndTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendOpenTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendCloseTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendPeakHoursStartTime;\n\n        [ObservableProperty]\n        DateTimeOffset weekendPeakHoursEndTime;\n\n        [ObservableProperty]\n        decimal weekdayHourlyRate;\n\n        [ObservableProperty]\n        decimal weekdayPeakHoursHourlyRate;\n\n        [ObservableProperty]\n        decimal weekendHourlyRate;\n\n        [ObservableProperty]\n        decimal weekendPeakHoursHourlyRate;\n\n        [ObservableProperty]\n        public string weekdayStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursStartTimeError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursEndTimeError = string.Empty;\n\n        [ObservableProperty]\n        string weekdayHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        public string weekdayPeakHoursHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        string weekendHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        public string weekendPeakHoursHourlyRateError = string.Empty;\n\n        [ObservableProperty]\n        string selectedGamesError = string.Empty;\n\n        [ObservableProperty]\n        string selectedAmenitiesError = string.Empty;\n\n        [ObservableProperty]\n        ObservableCollection<Game>? allGames;\n\n        [ObservableProperty]\n        ObservableCollection<Field>? fieldsInGame;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        string selectedGameError = string.Empty;\n\n        [ObservableProperty]\n        [Required]\n        IList<int>? fieldsAndPlayersCount;\n\n        [ObservableProperty]\n        int fieldCount;\n\n        [ObservableProperty]\n        string fieldCountError = string.Empty;\n\n        [ObservableProperty]\n        int playerCount;\n\n        [ObservableProperty]\n        string playerCountError = string.Empty;\n\n        [ObservableProperty]\n        byte[]? gameFirstImage;\n\n        [ObservableProperty]\n        string? gameFirstImageExtension;\n\n        [ObservableProperty]\n        byte[]? gameSecondImage;\n\n        [ObservableProperty]\n        string? gameSecondImageExtension;\n\n        [ObservableProperty]\n        string gameImageError = string.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Game is required\")]\n        ObservableCollection<AvailableGame>? addedGames;\n\n        [ObservableProperty]\n        string addedGamesError = string.Empty;\n\n        [ObservableProperty]\n        Venue? vendor;\n\n        Realm? realmInstance;\n\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly INavigationService? navigationService;\n        private readonly IImageService? imageService;\n        private readonly IPopupNavigation? popupNavigation;\n\n        public EditVendorViewModel(\n            IRealmService realmService,\n            IConnectivity connectivity,\n            INavigationService navigationService,\n            IImageService imageService,\n            IPopupNavigation popupNavigation\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n                this.imageService = imageService;\n                this.popupNavigation = popupNavigation;\n\n                AddedGames = new ObservableCollection<AvailableGame>();\n                SelectedAmenities = new ObservableCollection<object>();\n                FieldsInGame = new ObservableCollection<Field>();\n                AllGames = new ObservableCollection<Game>();\n                AllAmenities = new ObservableCollection<Amenity>();\n\n                FieldsAndPlayersCount = new List<int>\n                {\n                    1,\n                    2,\n                    3,\n                    4,\n                    5,\n                    6,\n                    7,\n                    8,\n                    9,\n                    10,\n                    11,\n                    12,\n                    13,\n                    14,\n                    15,\n                    16,\n                    17,\n                    18,\n                    19,\n                    20,\n                    21,\n                    22,\n                    23,\n                    24,\n                    25,\n                    26,\n                    27,\n                    28,\n                    29,\n                    30,\n                };\n                WeekdayOpenTime = new DateTimeOffset(2020, 2, 2, 8, 0, 0, new TimeSpan(0, 0, 0));\n                WeekdayCloseTime = new DateTimeOffset(2020, 2, 2, 20, 0, 0, new TimeSpan(0, 0, 0));\n                WeekdayPeakHoursStartTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    8,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekdayPeakHoursEndTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    20,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekendOpenTime = new DateTimeOffset(2020, 2, 2, 6, 0, 0, new TimeSpan(0, 0, 0));\n                WeekendCloseTime = new DateTimeOffset(2020, 2, 2, 22, 0, 0, new TimeSpan(0, 0, 0));\n                WeekendPeakHoursStartTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    6,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n                WeekendPeakHoursEndTime = new DateTimeOffset(\n                    2020,\n                    2,\n                    2,\n                    22,\n                    0,\n                    0,\n                    new TimeSpan(0, 0, 0)\n                );\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == nameof(SelectedProvince))\n                {\n                    await realmInstance.WriteAsync(() =>\n                    {\n                        Vendor.Address.Province = SelectedProvince.ProvinceName;\n                    });\n                }\n                else if (e.PropertyName == nameof(SelectedCity))\n                {\n                    await realmInstance.WriteAsync(() =>\n                    {\n                        Vendor.Address.City = SelectedCity.CityName;\n                    });\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                if (query.TryGetValue(nameof(UserId), out object? userIdValue))\n                {\n                    string? id = userIdValue.ToString();\n                    if (id != null)\n                    {\n                        UserId = ObjectId.Parse(id);\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                AppShell.Current.DisplayAlert(\"error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task EditExistingVendor()\n        {\n            try\n            {\n                realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n\n                Provinces = realmInstance.All<Province>().ToList();\n                AllGames = realmInstance.All<Game>().ToObservableCollection();\n                AllAmenities = realmInstance.All<Amenity>().ToObservableCollection();\n\n                Venue? savedVenue = realmInstance.Find<Venue>(UserId);\n                if (savedVenue == null)\n                {\n                    throw new NullReferenceException(nameof(savedVenue));\n                }\n                if (savedVenue.Address == null)\n                {\n                    throw new NullReferenceException(nameof(savedVenue.Address));\n                }\n                // if (savedVenue.Timing == null)\n                // {\n                //     throw new NullReferenceException(nameof(savedVenue.Timing));\n                // }\n\n                Vendor = new Venue(\n                    id: savedVenue.Id,\n                    fullName: savedVenue.FullName,\n                    about: savedVenue.About,\n                    email: savedVenue.Email,\n                    phoneCode: savedVenue.PhoneCode,\n                    mobileNumber: savedVenue.MobileNumber,\n                    stripeUserId: savedVenue.StripeUserId\n                );\n\n                Vendor.Address = new VenueAddress(\n                    street: savedVenue.Address.Street,\n                    postCode: savedVenue.Address.PostCode,\n                    country: savedVenue.Address.Country,\n                    province: savedVenue.Address.Province,\n                    city: savedVenue.Address.City,\n                    latitude: savedVenue.Address.Latitude,\n                    longitude: savedVenue.Address.Longitude\n                );\n\n                Vendor.IsActive = savedVenue.IsActive;\n                Vendor.IsPromoted = savedVenue.IsPromoted;\n\n                if (Provinces.Count > 0)\n                {\n                    SelectedProvince = Provinces\n                        .Where(n => n.ProvinceName == savedVenue.Address.Province)\n                        .FirstOrDefault();\n                    Cities = SelectedProvince\n                        .Cities.OrderBy(c => c.CityName)\n                        .ToObservableCollection();\n                    if (Cities.Count > 0)\n                    {\n                        SelectedCity = Cities\n                            .Where(n => n.CityName == savedVenue.Address.City)\n                            .FirstOrDefault();\n                    }\n                }\n                IList<Holiday> holidays = savedVenue.Holidays;\n                if (holidays != null)\n                {\n                    foreach (Holiday holiday in holidays)\n                    {\n                        // Holiday is an embedded object; clone it so we don't attach a managed embedded\n                        // object instance to an unmanaged Venue (which can lead to the list being cleared).\n                        Vendor.Holidays.Add(new Holiday(holiday.Date, holiday.Description));\n                    }\n                }\n\n                SelectedAmenities = savedVenue.Amenities.ToObservableCollection<object>();\n\n                // AvailableGame and Field are now embedded objects; clone them so we don't\n                // attach managed embedded instances to an unmanaged Venue.\n                foreach (AvailableGame savedGame in savedVenue.AvailableGames)\n                {\n                    AvailableGame clonedGame = new AvailableGame(\n                        name: savedGame.Name,\n                        peoplePerGame: savedGame.PeoplePerGame,\n                        fieldType: savedGame.FieldType,\n                        fieldsCount: savedGame.FieldsCount,\n                        weekdayHourlyRate: savedGame.WeekdayHourlyRate,\n                        weekdayPeakHoursHourlyRate: savedGame.WeekdayPeakHoursHourlyRate,\n                        weekendHourlyRate: savedGame.WeekendHourlyRate,\n                        weekendPeakHoursHourlyRate: savedGame.WeekendPeakHoursHourlyRate\n                    );\n                    clonedGame.FirstImageName = savedGame.FirstImageName;\n                    clonedGame.SecondImageName = savedGame.SecondImageName;\n                    if (savedGame.Timing != null)\n                    {\n                        clonedGame.Timing = new GameTiming(\n                            weekdayOpenTime: savedGame.Timing.WeekdayOpenTime,\n                            weekdayCloseTime: savedGame.Timing.WeekdayCloseTime,\n                            weekdayPeakHoursStartTime: savedGame.Timing.WeekdayPeakHoursStartTime,\n                            weekdayPeakHoursEndTime: savedGame.Timing.WeekdayPeakHoursEndTime,\n                            weekendOpenTime: savedGame.Timing.WeekendOpenTime,\n                            weekendCloseTime: savedGame.Timing.WeekendCloseTime,\n                            weekendPeakHoursStartTime: savedGame.Timing.WeekendPeakHoursStartTime,\n                            weekendPeakHoursEndTime: savedGame.Timing.WeekendPeakHoursEndTime\n                        );\n                    }\n                    // Clone embedded fields\n                    foreach (Field savedField in savedGame.Fields)\n                    {\n                        clonedGame.Fields.Add(\n                            new Field(savedField.FieldNumber, savedField.FieldType)\n                        );\n                    }\n                    AddedGames.Add(clonedGame);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(AddedGames):\n                        AddedGamesError = errorMessage;\n                        break;\n                    case nameof(SelectedAmenities):\n                        SelectedAmenitiesError = errorMessage;\n                        break;\n\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task AddGame()\n        {\n            try\n            {\n                if (SelectedGame == null)\n                {\n                    SelectedGameError = \"select a game\";\n                }\n                if (FieldCount == 0)\n                {\n                    FieldCountError = \"select the available fields\";\n                }\n                if (PlayerCount == 0)\n                {\n                    PlayerCountError = \"select the players allowed\";\n                }\n                if (GameFirstImage == null && GameSecondImage == null)\n                {\n                    GameImageError = \"add image\";\n                }\n                WeekdayHourlyRateError =\n                    WeekdayHourlyRate >= 1 ? string.Empty : \"more than $1 is required\";\n                WeekendHourlyRateError =\n                    WeekendHourlyRate >= 1 ? string.Empty : \"more than $1 is required\";\n                if (\n                    (GameFirstImage == null && GameSecondImage == null)\n                    || SelectedGame == null\n                    || FieldCount == 0\n                    || PlayerCount == 0\n                    || WeekdayHourlyRate < 1\n                    || WeekendHourlyRate < 1\n                )\n                {\n                    return;\n                }\n                else\n                {\n                    if (AddedGames.Any())\n                    {\n                        foreach (AvailableGame availableGame in AddedGames)\n                        {\n                            if (availableGame.Name == SelectedGame.GameName)\n                            {\n                                await Shell.Current.DisplayAlert(\n                                    \"Already added\",\n                                    $\"{availableGame.Name} is already added\",\n                                    \"OK\"\n                                );\n                                return;\n                            }\n                        }\n                    }\n                    SelectedGameError = string.Empty;\n                    FieldCountError = string.Empty;\n                    PlayerCountError = string.Empty;\n                    GameImageError = string.Empty;\n\n                    // if the first image is null and the second image is not null then set the first image to the second image and set the second image to null because in the mobile app the first image is the main image which is shown in the list of games\n                    if (GameFirstImage == null && GameSecondImage != null)\n                    {\n                        GameFirstImage = GameSecondImage;\n                        GameSecondImage = null;\n                    }\n\n                    AvailableGame game = new AvailableGame(\n                        name: SelectedGame.GameName,\n                        peoplePerGame: PlayerCount,\n                        fieldType: SelectedGame.FieldType,\n                        fieldsCount: FieldCount,\n                        weekdayHourlyRate: WeekdayHourlyRate,\n                        weekdayPeakHoursHourlyRate: WeekdayPeakHoursHourlyRate,\n                        weekendHourlyRate: WeekendHourlyRate,\n                        weekendPeakHoursHourlyRate: WeekendPeakHoursHourlyRate\n                    );\n                    game.Timing = new GameTiming(\n                        weekdayOpenTime: new DateTimeOffset(\n                            WeekdayOpenTime.Year,\n                            WeekdayOpenTime.Month,\n                            WeekdayOpenTime.Day,\n                            WeekdayOpenTime.Hour,\n                            WeekdayOpenTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayCloseTime: new DateTimeOffset(\n                            WeekdayCloseTime.Year,\n                            WeekdayCloseTime.Month,\n                            WeekdayCloseTime.Day,\n                            WeekdayCloseTime.Hour,\n                            WeekdayCloseTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayPeakHoursStartTime: new DateTimeOffset(\n                            WeekdayPeakHoursStartTime.Year,\n                            WeekdayPeakHoursStartTime.Month,\n                            WeekdayPeakHoursStartTime.Day,\n                            WeekdayPeakHoursStartTime.Hour,\n                            WeekdayPeakHoursStartTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekdayPeakHoursEndTime: new DateTimeOffset(\n                            WeekdayPeakHoursEndTime.Year,\n                            WeekdayPeakHoursEndTime.Month,\n                            WeekdayPeakHoursEndTime.Day,\n                            WeekdayPeakHoursEndTime.Hour,\n                            WeekdayPeakHoursEndTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendOpenTime: new DateTimeOffset(\n                            WeekendOpenTime.Year,\n                            WeekendOpenTime.Month,\n                            WeekendOpenTime.Day,\n                            WeekendOpenTime.Hour,\n                            WeekendOpenTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendCloseTime: new DateTimeOffset(\n                            WeekendCloseTime.Year,\n                            WeekendCloseTime.Month,\n                            WeekendCloseTime.Day,\n                            WeekendCloseTime.Hour,\n                            WeekendCloseTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendPeakHoursStartTime: new DateTimeOffset(\n                            WeekendPeakHoursStartTime.Year,\n                            WeekendPeakHoursStartTime.Month,\n                            WeekendPeakHoursStartTime.Day,\n                            WeekendPeakHoursStartTime.Hour,\n                            WeekendPeakHoursStartTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        ),\n                        weekendPeakHoursEndTime: new DateTimeOffset(\n                            WeekendPeakHoursEndTime.Year,\n                            WeekendPeakHoursEndTime.Month,\n                            WeekendPeakHoursEndTime.Day,\n                            WeekendPeakHoursEndTime.Hour,\n                            WeekendPeakHoursEndTime.Minute,\n                            0,\n                            new TimeSpan(0, 0, 0)\n                        )\n                    );\n                    game.FirstImageBytes = GameFirstImage;\n                    game.FirstImageExtension = GameFirstImageExtension;\n                    if (GameSecondImage != null)\n                    {\n                        game.SecondImageBytes = GameSecondImage;\n                        game.SecondImageExtension = GameSecondImageExtension;\n                    }\n\n                    // Create fields and embed them inside the game\n                    for (int i = 1; i <= FieldCount; i++)\n                    {\n                        Field field = new Field(fieldNumber: i, fieldType: SelectedGame.FieldType);\n                        game.Fields.Add(field);\n                    }\n\n                    AddedGames.Add(game);\n\n                    SelectedGame = null;\n                    FieldCount = 0;\n                    PlayerCount = 0;\n                    GameFirstImage = null;\n                    GameSecondImage = null;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveGame(AvailableGame availableGame)\n        {\n            try\n            {\n                if (availableGame != null)\n                {\n                    // Remove the game from AddedGames.\n                    // Since AvailableGame is now an embedded object, it will be removed\n                    // from the venue when the venue is updated.\n                    AddedGames.Remove(availableGame);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task PickFirstPhoto()\n        {\n            try\n            {\n                Dictionary<string, object>? result = await imageService.PickImageAsync();\n                if (result != null)\n                {\n                    GameFirstImage = (byte[])result[\"image\"];\n                    GameFirstImageExtension = (string)result[\"extension\"];\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task PickSecondPhoto()\n        {\n            try\n            {\n                Dictionary<string, object>? result = await imageService.PickImageAsync();\n                if (result != null)\n                {\n                    GameSecondImage = (byte[])result[\"image\"];\n                    GameSecondImageExtension = (string)result[\"extension\"];\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveFirstPhoto()\n        {\n            try\n            {\n                GameFirstImage = null;\n                GameFirstImageExtension = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task RemoveSecondPhoto()\n        {\n            try\n            {\n                GameSecondImage = null;\n                GameSecondImageExtension = null;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ValidateData()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n\n                    foreach (ValidationResult validationResult in propertyErrors)\n                    {\n                        SetErrorValue(\n                            validationResult.MemberNames.ElementAt(0),\n                            validationResult.ErrorMessage\n                        );\n                    }\n                    bool vendorErrorResult = await GetVendorErrors();\n\n                    return;\n                }\n                bool result = await GetVendorErrors();\n                if (result)\n                {\n                    return;\n                }\n                if (string.IsNullOrWhiteSpace(vendor.StripeUserId))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \"Please connect your stripe account\",\n                        \"OK\"\n                    );\n                    return;\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await EditVendor();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task<bool> GetVendorErrors()\n        {\n            try\n            {\n                if (Vendor == null || Vendor.Address == null)\n                {\n                    return true;\n                }\n\n                BusinessNameError = string.IsNullOrWhiteSpace(Vendor.FullName)\n                    ? \"Business name is required\"\n                    : string.Empty;\n                StreetError = string.IsNullOrWhiteSpace(Vendor.Address.Street)\n                    ? \"Street is required\"\n                    : string.Empty;\n                PostCodeError = string.IsNullOrWhiteSpace(Vendor.Address.PostCode)\n                    ? \"PostCode is required\"\n                    : string.Empty;\n                ProvinceError = string.IsNullOrWhiteSpace(Vendor.Address.Province)\n                    ? \"Province is required\"\n                    : string.Empty;\n                CityError = string.IsNullOrWhiteSpace(Vendor.Address.City)\n                    ? \"City is required\"\n                    : string.Empty;\n                LatitudeError = Vendor.Address.Latitude == 0 ? \"Value can't be zero\" : string.Empty;\n                LongitudeError =\n                    Vendor.Address.Longitude == 0 ? \"Value can't be zero\" : string.Empty;\n                MobileNumberError = string.IsNullOrWhiteSpace(Vendor.MobileNumber)\n                    ? \"Mobile number is required\"\n                    : string.Empty;\n                EmailError = string.IsNullOrWhiteSpace(Vendor.Email)\n                    ? \"Email is required\"\n                    : string.Empty;\n                AboutError = string.IsNullOrWhiteSpace(Vendor.About)\n                    ? \"About is required\"\n                    : string.Empty;\n\n                if (\n                    string.IsNullOrWhiteSpace(Vendor.FullName)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.Street)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.PostCode)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.Province)\n                    || string.IsNullOrWhiteSpace(Vendor.Address.City)\n                    || Vendor.Address.Latitude == 0\n                    || Vendor.Address.Longitude == 0\n                    || string.IsNullOrWhiteSpace(Vendor.MobileNumber)\n                    || string.IsNullOrWhiteSpace(Vendor.Email)\n                    || string.IsNullOrWhiteSpace(Vendor.About)\n                )\n                {\n                    return true;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n\n            return false;\n        }\n\n        private async Task EditVendor()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                // Preserve holidays: this screen doesn't edit holidays, but Realm update semantics can\n                // clear list properties if the incoming object has an empty list.\n                List<Holiday> holidaysToPersist = new();\n                if (Vendor?.Holidays?.Any() == true)\n                {\n                    holidaysToPersist.AddRange(\n                        Vendor.Holidays.Select(h => new Holiday(h.Date, h.Description))\n                    );\n                }\n                else if (Vendor != null)\n                {\n                    Venue? existingVenue = realmInstance\n                        ?.All<Venue>()\n                        .FirstOrDefault(v => v.Id == Vendor.Id);\n\n                    if (existingVenue?.Holidays?.Any() == true)\n                    {\n                        holidaysToPersist.AddRange(\n                            existingVenue.Holidays.Select(h => new Holiday(h.Date, h.Description))\n                        );\n                    }\n                }\n\n                Vendor?.Amenities.Clear();\n\n                foreach (Amenity amenity in SelectedAmenities.Cast<Amenity>())\n                {\n                    Vendor?.Amenities.Add(amenity);\n                }\n\n                // Upload images for games that have new image bytes\n                foreach (AvailableGame game in AddedGames.Where(g => g.FirstImageBytes != null))\n                {\n                    string? imageName =\n                        $\"{Vendor.FullName}-{game.Name}-FirstImage{game.FirstImageExtension}\";\n                    byte[]? imageBytes = game.FirstImageBytes;\n                    await AddImageToAWSS(imageBytes, imageName);\n\n                    game.FirstImageName = imageName;\n\n                    if (game.SecondImageBytes != null)\n                    {\n                        string? secondImageName =\n                            $\"{Vendor.FullName}-{game.Name}-SecondImage{game.SecondImageExtension}\";\n                        imageBytes = game.SecondImageBytes;\n                        await AddImageToAWSS(imageBytes, secondImageName);\n\n                        game.SecondImageName = secondImageName;\n                    }\n                }\n\n                await realmInstance.WriteAsync(() =>\n                {\n                    if (Vendor == null)\n                    {\n                        throw new InvalidOperationException(\"Vendor cannot be null\");\n                    }\n\n                    // Set image names on newly added games before persisting\n                    foreach (AvailableGame game in AddedGames)\n                    {\n                        if (\n                            game.FirstImageBytes != null\n                            && string.IsNullOrEmpty(game.FirstImageName)\n                        )\n                        {\n                            game.FirstImageName =\n                                $\"{Vendor.FullName}-{game.Name}-FirstImage{game.FirstImageExtension}\";\n                        }\n\n                        if (\n                            game.SecondImageBytes != null\n                            && string.IsNullOrEmpty(game.SecondImageName)\n                        )\n                        {\n                            game.SecondImageName =\n                                $\"{Vendor.FullName}-{game.Name}-SecondImage{game.SecondImageExtension}\";\n                        }\n                    }\n\n                    // Rebuild the embedded AvailableGames list on the venue\n                    Vendor.AvailableGames.Clear();\n                    foreach (AvailableGame game in AddedGames)\n                    {\n                        Vendor.AvailableGames.Add(game);\n                    }\n\n                    // Add/update the Vendor (embedded games and fields are persisted automatically)\n                    Venue managedVendor = realmInstance.Add(Vendor, true);\n\n                    // Restore holidays explicitly (screen doesn't edit them)\n                    if (holidaysToPersist.Count > 0)\n                    {\n                        managedVendor.Holidays.Clear();\n                        foreach (Holiday holiday in holidaysToPersist)\n                        {\n                            managedVendor.Holidays.Add(holiday);\n                        }\n                    }\n                });\n\n                // UI operations must be outside the Realm write transaction to avoid deadlocks/hangs.\n                if (popupNavigation.PopupStack.Any())\n                {\n                    await popupNavigation.PopAsync();\n                }\n\n                await Shell.Current.DisplayAlert(\"Success\", \"Vendor updated successfully\", \"OK\");\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                try\n                {\n                    if (popupNavigation.PopupStack.Any())\n                    {\n                        await popupNavigation.PopAsync();\n                    }\n                }\n                catch\n                {\n                    // ignore pop failures\n                }\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task AddImageToAWSS(byte[] imageBytes, string imageName)\n        {\n            await imageService.UploadImageToAWSS3Async(imageBytes, imageName);\n        }\n\n        [RelayCommand]\n        async Task AmenitySelectionChanged()\n        {\n            try\n            {\n                AllAmenities\n                    .ToList()\n                    .ForEach(a =>\n                    {\n                        a.IsSelected = false;\n                    });\n\n                if (SelectedAmenities.Any())\n                {\n                    SelectedAmenitiesError = string.Empty;\n                    foreach (Amenity amenity in SelectedAmenities.Cast<Amenity>())\n                    {\n                        Amenity? localAmenity = AllAmenities\n                            .Where(n => n.AmenityName == amenity.AmenityName)\n                            .FirstOrDefault();\n                        if (localAmenity != null)\n                            localAmenity.IsSelected = true;\n                        amenity.IsSelected = true;\n                    }\n                }\n                else\n                {\n                    SelectedAmenitiesError = \"Amenity is required\";\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync(\"..\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":38491,"size_tokens":null},"README.md":{"content":"# Dome\n\nA multi-platform venue booking and management system built with .NET MAUI, featuring separate applications for players, vendors, and administrators.\n\n## Overview\n\nDome is a comprehensive booking platform that connects sports venue operators with players. The solution consists of three mobile applications and a shared library, enabling seamless venue booking, management, and administration across Android, iOS, macOS, and Windows platforms.\n\n## Project Structure\n\nThe solution contains four main projects:\n\n### 1. **Player** (`Player.csproj`)\nThe customer-facing mobile application for players to discover and book venues.\n\n**Features:**\n- Venue browsing and booking\n- Coach discovery and connection\n- Booking management (view, modify, cancel)\n- User account management\n- Payment integration (Stripe)\n- Notifications and feedback\n- Learning resources\n\n**Platforms:** Android, iOS\n\n### 2. **Vendor** (`Vendor.csproj`)\nThe partner application for venue operators and business owners.\n\n**Features:**\n- Business dashboard and analytics\n- Financial dashboard and reporting\n- Booking management and attendance tracking\n- Venue configuration and availability\n- Data synchronization\n- User account management\n\n**Platforms:** Android, iOS, macOS, Windows\n\n### 3. **Admin** (`Admin.csproj`)\nThe administrative application for platform management.\n\n**Features:**\n- System-wide dashboard and analytics\n- Vendor onboarding and management\n- Vendor password management\n- Coupon and promotion management\n- Coach management\n- Data synchronization across the platform\n- Venue yard management\n\n**Platforms:** Android, iOS, macOS, Windows\n\n### 4. **Dome.Shared** (`Dome.Shared.csproj`)\nA shared class library containing common functionality used across all applications.\n\n**Components:**\n- Constants and enumerations\n- Helper utilities (alerts, date handling)\n- Local models (Country, VenueDate)\n- Shared services and interfaces\n- Authentication and sync logic\n- Configuration management\n\n## Technology Stack\n\n- **Framework:** .NET 9.0 / .NET MAUI\n- **UI Framework:** MAUI with Community Toolkit\n- **Architecture:** MVVM (Model-View-ViewModel)\n- **State Management:** CommunityToolkit.Mvvm\n- **Database:** Realm\n- **Authentication:** Ory Client\n- **Cloud Storage:** AWS S3\n- **Payment Processing:** Stripe\n- **Communication:** Twilio (SMS), SendGrid (Email)\n- **UI Components:** Syncfusion.Maui.Toolkit, Mopups (Popups), Sharpnado.Tabs\n- **Code Enhancement:** Fody\n\n## Prerequisites\n\n- Visual Studio 2022 17.0 or later\n- .NET 9.0 SDK\n- Platform-specific SDKs:\n  - Android SDK (API 21+ for Admin/Vendor, API 28+ for Player)\n  - iOS SDK (15.0+)\n  - Windows SDK (10.0.17763.0+) for Admin/Vendor\n- AWS Account (for S3 storage)\n- Stripe Account (for payment processing)\n- Ory Account (for authentication)\n\n## Getting Started\n\n### 1. Clone the Repository\n\n```bash\ngit clone https://github.com/HobDev/Dome.git\ncd Dome\n```\n\n### 2. Restore Dependencies\n\nOpen the solution in Visual Studio or run:\n\n```bash\ndotnet restore Dome.sln\n```\n\n### 3. Configuration\n\nUpdate the configuration file at `Dome.Shared/appsettings.json` with your API keys and endpoints:\n\n- AWS credentials and S3 bucket information\n- Stripe API keys\n- Ory authentication endpoints\n- Twilio credentials\n- SendGrid API key\n\n### 4. Build the Solution\n\n```bash\ndotnet build Dome.sln\n```\n\n### 5. Run the Applications\n\n#### Player App:\n```bash\ndotnet build Player/Player.csproj -f net9.0-android\n# or\ndotnet build Player/Player.csproj -f net9.0-ios\n```\n\n#### Vendor App:\n```bash\ndotnet build Vendor/Vendor.csproj -f net9.0-android\n# or choose other platforms: net9.0-ios, net9.0-maccatalyst, net9.0-windows10.0.19041.0\n```\n\n#### Admin App:\n```bash\ndotnet build Admin/Admin.csproj -f net9.0-android\n# or choose other platforms: net9.0-ios, net9.0-maccatalyst, net9.0-windows10.0.19041.0\n```\n\n## Project Architecture\n\n### Design Patterns\n\n- **MVVM:** All applications follow the Model-View-ViewModel pattern\n- **Dependency Injection:** Services are registered and injected through .NET MAUI's built-in DI container\n- **Repository Pattern:** Data access is abstracted through service interfaces\n- **Command Pattern:** User interactions are handled through RelayCommand from CommunityToolkit.Mvvm\n\n### Key Components\n\n#### Custom Controls\nEach application includes custom controls for:\n- Borders, Buttons, Entries, Labels, Pickers\n- Collection Views\n- Shell navigation customization\n\n#### Services\n- Authentication and authorization\n- Data synchronization\n- API communication\n- Local storage management\n- Push notifications\n\n#### Models\n- Local models for offline functionality\n- Synced models for server data\n- View models for UI state management\n\n## Environment Configuration\n\nThe application supports two environments configured in `AppConstants.cs`:\n\n- **Development:** For testing and development\n- **Production:** For live deployment\n\nCurrent environment is set to `production`. Change this in `Dome.Shared/Constants/AppConstants.cs`.\n\n## Booking Statuses\n\nThe system uses the following booking workflow:\n\n1. **Created:** Initial booking selection\n2. **Reserved:** Slot confirmed, payment pending\n3. **Booked:** Payment completed, booking confirmed\n4. **Completed:** Booking time elapsed\n5. **Cancelled:** Booking cancelled by user or system\n\n## Application Identifiers\n\n- **Player:** `com.daflo.dome`\n- **Vendor:** `com.daflo.vendor` (displayed as \"Partner\")\n- **Admin:** `com.daflo.admin`\n\n## Version Information\n\n- **Player:** v1.0 (Build 11)\n- **Vendor:** v1.0 (Build 10)\n- **Admin:** v1.0 (Build 2)\n\n## Contributing\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/amazing-feature`)\n3. Commit your changes (`git commit -m 'Add some amazing feature'`)\n4. Push to the branch (`git push origin feature/amazing-feature`)\n5. Open a Pull Request\n\n## License\n\n[Add your license information here]\n\n## Support\n\nFor support and inquiries, please contact [Add contact information here]\n\n## Acknowledgments\n\n- Built with .NET MAUI\n- Uses CommunityToolkit for MAUI\n- Powered by Syncfusion components\n- Payment processing by Stripe\n- Authentication by Ory\n","path":null,"size_bytes":6120,"size_tokens":null},"Player/Models/Chat/Message.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class Message\n{\n    public string MessageId { get; set; }\n\n    public string Sender { get; set; }\n\n    public string Receiver { get; set; }\n\n    public string MessageContent { get; set; }\n\n    public DateTimeOffset CreatedAt { get; set; }\n}\n","path":null,"size_bytes":294,"size_tokens":null},"Admin/Platforms/iOS/Program.cs":{"content":"﻿using ObjCRuntime;\nusing UIKit;\n\nnamespace Admin;\n\npublic class Program\n{\n    // This is the main entry point of the application.\n    static void Main(string[] args)\n    {\n        // if you want to use a different Application Delegate class from \"AppDelegate\"\n        // you can specify it here.\n        UIApplication.Main(args, null, typeof(AppDelegate));\n    }\n}\n","path":null,"size_bytes":368,"size_tokens":null},"Player/ViewModels/Account/NewProfileViewModel.cs":{"content":"﻿using Player.Models.Chat;\nusing Stripe;\n\nnamespace Player.ViewModels.Account\n{\n    public partial class NewProfileViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        VenueUser? venueUser;\n\n        [ObservableProperty]\n        List<Province>? allProvinces;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Province is Empty\")]\n        Province? selectedProvince;\n\n        [ObservableProperty]\n        string provinceError = string.Empty;\n\n        [ObservableProperty]\n        ObservableCollection<City>? cities;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"City is Empty\")]\n        City? selectedCity;\n\n        [ObservableProperty]\n        string cityError = string.Empty;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"First name is Empty\")]\n        string firstName = String.Empty;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Last name is Empty\")]\n        string lastName = String.Empty;\n\n        [ObservableProperty]\n        string firstNameError = string.Empty;\n\n        [ObservableProperty]\n        string lastNameError = string.Empty;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Number is Empty\")]\n        [Phone(ErrorMessage = \"Not correct Number\")]\n        string mobileNumber = String.Empty;\n\n        [ObservableProperty]\n        string mobileNumberError = string.Empty;\n\n        [ObservableProperty]\n        Country? selectedCountry;\n\n        Realm? realmInstance;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly IImageService? imageService;\n        private readonly ILocationService? locationService;\n        private readonly IPopupNavigation? popupNavigation;\n        private readonly ISecretsService? secretsService;\n        private readonly IStripeService? stripeService;\n\n        private readonly IChatService? chatService;\n\n        public NewProfileViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            IImageService imageService,\n            ILocationService locationService,\n            IPopupNavigation? popupNavigation,\n            ISecretsService? secretsService,\n            IStripeService? stripeService,\n            IChatService chatService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.imageService = imageService;\n                this.locationService = locationService;\n                this.popupNavigation = popupNavigation;\n                this.secretsService = secretsService;\n                this.stripeService = stripeService;\n                this.chatService = chatService;\n\n                // at the moment only Canada is supported\n                SelectedCountry = new Country(countryName: \"Canada\", code: \"+1\", flagImage: \"🇨🇦\");\n\n                AllProvinces = new List<Province>();\n                Cities = new ObservableCollection<City>();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        protected override void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == null)\n                {\n                    return;\n                }\n                if (e.PropertyName.Contains(\"Error\"))\n                    return;\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors?.FirstOrDefault()?.ErrorMessage;\n                    if (errorMessage != null)\n                    {\n                        SetErrorValue(e.PropertyName, errorMessage);\n                    }\n                    else\n                    {\n                        SetErrorValue(e.PropertyName, \"error\");\n                    }\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(FirstName):\n                        FirstNameError = errorMessage;\n                        break;\n                    case nameof(LastName):\n                        LastNameError = errorMessage;\n                        break;\n                    case nameof(MobileNumber):\n                        MobileNumberError = errorMessage;\n                        break;\n                    case nameof(SelectedProvince):\n                        ProvinceError = errorMessage;\n                        break;\n                    case nameof(SelectedCity):\n                        CityError = errorMessage;\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task InitializeAsync()\n        {\n            try\n            {\n                realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n                AllProvinces = realmInstance.All<Province>().ToList();\n\n                SelectedProvince = AllProvinces.FirstOrDefault();\n                if (AllProvinces.Count > 0)\n                {\n                    Cities = SelectedProvince\n                        ?.Cities.OrderBy(c => c.CityName)\n                        .ToObservableCollection();\n                    SelectedCity = Cities?.FirstOrDefault();\n                }\n\n                if (AllProvinces.Count > 0)\n                {\n                    await GetLocation();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        /// <summary>\n        /// set province and city based on user location\n        /// </summary>\n        /// <returns></returns>\n        async Task GetLocation()\n        {\n            try\n            {\n                PermissionStatus status = await CheckAndRequestLocationPermission();\n                if (status != PermissionStatus.Granted)\n                {\n                    return;\n                }\n                Placemark? placemark = await locationService.GetCurrentLocation();\n\n                if (placemark != null)\n                {\n                    string? currentCity = placemark.Locality;\n                    if (currentCity != null)\n                    {\n                        Province? currentProvince = AllProvinces?.FirstOrDefault(p =>\n                            p.Cities.Any(c => c.CityName == currentCity)\n                        );\n                        if (currentProvince != null)\n                        {\n                            SelectedProvince = currentProvince;\n                            SelectedCity = Cities?.FirstOrDefault(c => c.CityName == currentCity);\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task<PermissionStatus> CheckAndRequestLocationPermission()\n        {\n            PermissionStatus status =\n                await Permissions.CheckStatusAsync<Permissions.LocationWhenInUse>();\n\n            if (status == PermissionStatus.Granted)\n                return status;\n\n            if (status == PermissionStatus.Denied && DeviceInfo.Platform == DevicePlatform.iOS)\n            {\n                // Prompt the user to turn on in settings\n                // On iOS once a permission has been denied it may not be requested again from the application\n                return status;\n            }\n\n            if (Permissions.ShouldShowRationale<Permissions.LocationWhenInUse>())\n            {\n                // Prompt the user with additional information as to why the permission is needed\n            }\n\n            status = await Permissions.RequestAsync<Permissions.LocationWhenInUse>();\n\n            return status;\n        }\n\n        [RelayCommand]\n        async Task AddImage()\n        {\n            try\n            {\n                if (imageService == null)\n                {\n                    throw new NullReferenceException(nameof(imageService));\n                }\n                else\n                {\n                    Dictionary<string, object>? imageResult = await imageService.PickImageAsync();\n\n                    if (imageResult != null)\n                    {\n                        byte[]? imageBytes = (byte[])imageResult[\"image\"];\n                        if (imageBytes != null)\n                        {\n                            PlayerImage = imageBytes;\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Save()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult result in propertyErrors)\n                        {\n                            if (result.ErrorMessage != null)\n                            {\n                                SetErrorValue(result.MemberNames.ElementAt(0), result.ErrorMessage);\n                            }\n                            else\n                            {\n                                SetErrorValue(result.MemberNames.ElementAt(0), \"error\");\n                            }\n                        }\n                    }\n                }\n                else\n                {\n                    await CreateUserProfile();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task CreateUserProfile()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                string email = App.RealmApp?.CurrentUser?.Profile?.Email;\n\n                // add stripe customer\n                string? customerId = string.Empty;\n                CustomerCreateRequest customerCreateRequest = new CustomerCreateRequest(\n                    customerName: $\"{FirstName} {LastName}\",\n                    customerEmail: email,\n                    environment: AppConstants.Environment\n                );\n                CustomerCreateResponse? apiResponse = await stripeService.CreateCustomer(\n                    customerCreateRequest\n                );\n                if (apiResponse?.ClientId != null)\n                {\n                    customerId = apiResponse?.ClientId;\n                }\n                else\n                {\n                    await popupNavigation.PopAsync();\n                    await Shell.Current.DisplayAlert(\"API Error\", apiResponse?.Error, \"OK\");\n                    return;\n                }\n\n                // add twilio conversation participant\n                ParticipantCreateResponse participantCreateResponse =\n                    await chatService.CreateParticipant(email);\n\n                VenueUserAddress Address = new VenueUserAddress(\n                    country: SelectedCountry.CountryName,\n                    province: SelectedProvince.ProvinceName,\n                    city: SelectedCity.CityName\n                );\n\n                VenueUser venueUser = new VenueUser(\n                    id: ObjectId.GenerateNewId(),\n                    ownerId: realmService.RealmUser.Id,\n                    email: email,\n                    firstName: FirstName,\n                    lastName: LastName,\n                    mobileNumber: MobileNumber,\n                    phoneCode: SelectedCountry.Code,\n                    country: SelectedCountry.CountryName,\n                    address: Address,\n                    stripeCustomerId: customerId\n                );\n\n                if (PlayerImage != null)\n                {\n                    venueUser.ProfileImage = PlayerImage;\n                }\n\n                await realmInstance.WriteAsync(() =>\n                {\n                    realmInstance.Add(venueUser);\n                });\n\n                await navigationService.NavigateToAsync(nameof(NewAgeAndInterestView));\n\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":13862,"size_tokens":null},"Player/ViewModels/Account/ChangeMobileNumberViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class ChangeMobileNumberViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Number is Empty\")]\n        [Phone(ErrorMessage = \"Not correct Number\")]\n        string mobileNumber = String.Empty;\n\n        [ObservableProperty]\n        string mobileNumberError = string.Empty;\n\n        [ObservableProperty]\n        Country? selectedCountry;\n\n        [ObservableProperty]\n        VenueUser? player;\n\n        Realm realm;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n        private readonly ISettingsService settingsService;\n\n        public ChangeMobileNumberViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.settingsService = settingsService;\n\n            realm = Realm.GetInstance(realmService.Config);\n            Player = realm\n                .All<VenueUser>()\n                .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n\n            // at the moment only Canada is supported\n            SelectedCountry = new Country(countryName: \"Canada\", code: \"+1\", flagImage: \"🇨🇦\");\n        }\n\n        [RelayCommand]\n        async Task ChangeMobileNumber()\n        {\n            try\n            {\n                await realm.WriteAsync(() =>\n                {\n                    Player.MobileNumber = MobileNumber;\n                });\n\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            await navigationService.PopAsync();\n        }\n    }\n}\n","path":null,"size_bytes":2241,"size_tokens":null},"Player/ViewModels/Book/PaymentSuccessViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class PaymentSuccessViewModel : ObservableObject\n    {\n        public ICommand CloseBookingCommand { get; set; }\n\n        private readonly INavigationService navigationService;\n\n        public PaymentSuccessViewModel(INavigationService navigationService)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                CloseBookingCommand = new Command(async () => await CloseBooking());\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        private async Task CloseBooking()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///LoggedInBar/{nameof(DashboardView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1001,"size_tokens":null},"Dome.Shared/Synced/Game.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the game is a class that represents the games that are available in the Sport Venues. The games are pre stored in the database and the admin select the games that are available for each venue from all stored games while creating the venue. The games are also used to categorize the learning content.\n    /// </summary>\n    public partial class Game : IRealmObject\n    {\n        private Game() { }\n\n        public Game(\n            ObjectId id,\n            string gameName,\n            string fieldType,\n            byte[] lightModeGameIcon,\n            byte[] darkModeGameIcon\n        )\n        {\n            Id = id;\n            GameName = gameName;\n            FieldType = fieldType;\n            LightModeGameIcon = lightModeGameIcon;\n            DarkModeGameIcon = darkModeGameIcon;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"gameName\")]\n        [Indexed]\n        public string GameName { get; set; }\n\n        [MapTo(\"fieldType\")]\n        public string FieldType { get; set; }\n\n        [MapTo(\"lightModeGameIcon\")]\n        public byte[] LightModeGameIcon { get; set; }\n\n        [MapTo(\"darkModeGameIcon\")]\n        public byte[] DarkModeGameIcon { get; set; }\n\n        // this will be used to bind to the UI and assign the DarkModeGameIcon or LightModeGameIcon based on the theme\n        public byte[] gameIcon;\n\n        [Ignored]\n        public byte[] GameIcon\n        {\n            get => gameIcon;\n            set\n            {\n                if (gameIcon != value)\n                {\n                    gameIcon = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n\n        // this is used to change the color of the border and icon based on the selection in JoinAGameView\n\n        private bool isSelected;\n\n        [Ignored]\n        public bool IsSelected\n        {\n            get => isSelected;\n            set\n            {\n                if (isSelected != value)\n                {\n                    isSelected = value;\n                    RaisePropertyChanged();\n                }\n            }\n        }\n    }\n}\n","path":null,"size_bytes":2200,"size_tokens":null},"Admin/ViewModels/LearnViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class LearnViewModel : BaseViewModel\n    {\n        // property for selecting content type when creating new content\n        [ObservableProperty]\n        LearningContent content;\n\n        [ObservableProperty]\n        List<string> contentTypes;\n\n        [ObservableProperty]\n        Game? selectedGame;\n\n        [ObservableProperty]\n        List<Game> allGames;\n\n        // property for selecting content type for filtering learn list\n        [ObservableProperty]\n        string? selectedContentType;\n\n        [ObservableProperty]\n        ObservableCollection<LearningContent> allLearningContents;\n\n        [ObservableProperty]\n        ObservableCollection<LearningContent> filteredLearningContents;\n\n        Realm realm;\n\n        private readonly IImageService imageService;\n\n        public LearnViewModel(\n            IImageService imageService,\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n            : base(realmService, navigationService, connectivity)\n        {\n            try\n            {\n                this.imageService = imageService;\n\n                ContentTypes = new List<string>() { \"Article\", \"Video\" };\n\n                AllLearningContents = new ObservableCollection<LearningContent>();\n                FilteredLearningContents = new ObservableCollection<LearningContent>();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            base.OnPropertyChanged(e);\n            if (e.PropertyName == nameof(SelectedContentType))\n            {\n                await SelectedContentTypeChanged();\n            }\n        }\n\n        public async Task OnLoaded()\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n\n                AllGames = realm.All<Game>().ToList();\n\n                await InitializeNewContent();\n\n                SelectedContentType = ContentTypes[0];\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task InitializeNewContent()\n        {\n            SelectedGame = null;\n            Content = new LearningContent(\n                id: ObjectId.GenerateNewId(),\n                type: string.Empty,\n                title: string.Empty,\n                description: string.Empty,\n                content: string.Empty,\n                created: DateHelper.GetDate(DateTime.Now),\n                publishedBy: string.Empty,\n                gameCategory: string.Empty\n            );\n        }\n\n        [RelayCommand]\n        async Task UploadLearningContent()\n        {\n            try\n            {\n                if (SelectedGame != null)\n                {\n                    Content.GameCategory = SelectedGame.GameName;\n                }\n                if (\n                    string.IsNullOrEmpty(Content.Title)\n                    || string.IsNullOrEmpty(Content.Description)\n                    || string.IsNullOrEmpty(Content.Type)\n                    || string.IsNullOrEmpty(Content.Content)\n                    || string.IsNullOrEmpty(Content.PublishedBy)\n                    || string.IsNullOrEmpty(Content.GameCategory)\n                )\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please fill all the fields\", \"OK\");\n                }\n                else\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Add(Content);\n                    });\n                    await Shell.Current.DisplayAlert(\n                        \"Success\",\n                        \"Content uploaded successfully\",\n                        \"OK\"\n                    );\n                    await InitializeNewContent();\n                    await SelectedContentTypeChanged();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        async Task SelectedContentTypeChanged()\n        {\n            try\n            {\n                AllLearningContents = new ObservableCollection<LearningContent>(\n                    realm.All<LearningContent>().ToList()\n                );\n                FilteredLearningContents.Clear();\n                if (AllLearningContents.Count > 0)\n                {\n                    if (SelectedContentType == \"Article\")\n                    {\n                        List<LearningContent> articles = AllLearningContents\n                            .Where(x => x.Type == \"Article\")\n                            .ToList();\n                        if (articles.Count > 0)\n                        {\n                            foreach (var item in articles)\n                            {\n                                FilteredLearningContents.Add(item);\n                            }\n                        }\n                    }\n                    else\n                    {\n                        List<LearningContent> videos = AllLearningContents\n                            .Where(x => x.Type == \"Video\")\n                            .ToList();\n                        if (videos.Count > 0)\n                        {\n                            foreach (var item in videos)\n                            {\n                                FilteredLearningContents.Add(item);\n                            }\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task DeleteLearningContent(LearningContent learningContent)\n        {\n            try\n            {\n                if (learningContent != null)\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Remove(learningContent);\n                    });\n                    FilteredLearningContents.Remove(learningContent);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            try\n            {\n                await OnLoaded();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6845,"size_tokens":null},"Player/CustomControls/Entries/CustomEntry.cs":{"content":"namespace Player.CustomControls.Entries\n{\n    public class CustomEntry : Entry\n    {\n        public CustomEntry()\n        {\n            this.AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(\n                    Entry.PlaceholderColorProperty,\n                    Color.FromArgb(\"#626262\"),\n                    Color.FromArgb(\"#BBBBBB\")\n                );\n            this.FontFamily = \"InterMedium\";\n            this.FontSize = 16;\n            Background = Colors.Transparent;\n        }\n    }\n}\n","path":null,"size_bytes":548,"size_tokens":null},"Player/Models/APIServer/PaymentIntentCreateResponse.cs":{"content":"﻿namespace Player.Models.APIServer\n{\n    public class PaymentIntentCreateResponse\n    {\n        [JsonPropertyName(\"error\")]\n        public string? Error { get; set; }\n\n        [JsonPropertyName(\"clientSecret\")]\n        public string? ClientSecret { get; set; }\n    }\n}\n","path":null,"size_bytes":271,"size_tokens":null},"Player/Views/Book/VenuesListView.cs":{"content":"namespace Player.Views.Book;\n\npublic class VenuesListView : BaseView\n{\n    public VenuesListView(VenuesListViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            // FormattedString formattedString = new FormattedString();\n            // Span rupeeSpan = new Span { }.Bind(Span.TextProperty, nameof(Venue.WeekdayHourlyRate), stringFormat: \"{0:C} \");\n            // Span textSpan = new Span { Text = \"Onwards\", FontSize = 9 };\n\n            // formattedString.Spans.Add(rupeeSpan);\n            // formattedString.Spans.Add(textSpan);\n\n            CollectionView verticalList = new CollectionView\n            {\n                SelectionMode = SelectionMode.Single,\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        Padding = new Thickness(5),\n                        StrokeThickness = 0,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n\n                        Content = new Grid\n                        {\n                            RowDefinitions = Rows.Define(\n                                (BodyRow.first, 137),\n                                (BodyRow.second, Auto),\n                                (BodyRow.third, Auto)\n                            ),\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, 25),\n                                (BodyColumn.second, Star),\n                                (BodyColumn.third, Auto)\n                            ),\n                            RowSpacing = 2,\n                            ColumnSpacing = 10,\n                            Children =\n                            {\n                                new Border\n                                {\n                                    StrokeThickness = 0,\n                                    StrokeShape = new RoundRectangle { CornerRadius = 7 },\n                                    Padding = 0,\n\n                                    Content = new Grid\n                                    {\n                                        Children =\n                                        {\n                                            //using imagebutton instead of image because the image have a bug in iOS due to which no content is displayed\n                                            new ImageButton { Aspect = Aspect.AspectFill }\n                                                .BindCommand(\n                                                    nameof(viewModel.VenueDetailsCommand),\n                                                    source: viewModel\n                                                )\n                                                .Bind(\n                                                    ImageButton.SourceProperty,\n                                                    nameof(Venue.SelectedGamesImage),\n                                                    converter: new ByteArrayToImageSourceConverter()\n                                                ),\n                                            new Regular10Label\n                                            {\n                                                Text = \"Dome Recommended\",\n                                                TextColor = Colors.White,\n                                                Background = Color.FromArgb(\"#EF2F50\"),\n                                                HorizontalOptions = LayoutOptions.End,\n                                                VerticalOptions = LayoutOptions.Start,\n                                                Padding = new Thickness(10, 5),\n                                            }\n                                                .Bind(\n                                                    VisualElement.IsVisibleProperty,\n                                                    nameof(Venue.IsPromoted)\n                                                )\n                                                .Margins(0, 10, 0, 0),\n                                        },\n                                    },\n                                }\n                                    .Row(BodyRow.first)\n                                    .ColumnSpan(3),\n                                new Image\n                                {\n                                    HeightRequest = 25,\n                                    WidthRequest = 25,\n                                    VerticalOptions = LayoutOptions.Start,\n                                }\n                                    .Bind(\n                                        Image.SourceProperty,\n                                        nameof(viewModel.SelectedGameImage),\n                                        converter: new ByteArrayToImageSourceConverter(),\n                                        source: viewModel\n                                    )\n                                    .Margins(10, 7, 0, 0)\n                                    .Row(BodyRow.second)\n                                    .RowSpan(2)\n                                    .Column(BodyColumn.first),\n                                new SemiBold13Label { }\n                                    .Bind(SemiBold13Label.TextProperty, nameof(Venue.FullName))\n                                    .Row(BodyRow.second)\n                                    .Column(BodyColumn.second)\n                                    .Margins(0, 4, 0, 0),\n                                new Medium11Label { MaxLines = 2 }\n                                    .Bind(\n                                        Medium11Label.TextProperty,\n                                        nameof(Venue.FullAddress),\n                                        BindingMode.OneWay\n                                    )\n                                    .AppThemeBinding(\n                                        Medium11Label.TextColorProperty,\n                                        Color.FromArgb(\"#626262\"),\n                                        Color.FromArgb(\"BBBBBB\")\n                                    )\n                                    .Row(BodyRow.third)\n                                    .Column(BodyColumn.second),\n\n                                //  new Medium14Label{ HorizontalOptions=LayoutOptions.End , FormattedText= formattedString}.AppThemeBinding(Medium14Label.TextColorProperty, Color.FromArgb(\"#626262\"), Color.FromArgb(\"BBBBBB\")).Row(BodyRow.third).Column(BodyColumn.third),\n                            },\n                        },\n                    }.AppThemeBinding(\n                        Border.BackgroundProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#23262A\")\n                    );\n                }),\n                ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                {\n                    ItemSpacing = 20,\n                },\n            }\n                .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.FilteredVendors))\n                .Bind(\n                    SelectableItemsView.SelectionChangedCommandProperty,\n                    nameof(viewModel.VenueDetailsCommand),\n                    source: viewModel\n                )\n                .Bind(SelectableItemsView.SelectedItemProperty, nameof(viewModel.ChoosenVendor));\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Add(\n                new Grid\n                {\n                    Padding = new Thickness(15, 0, 15, 28),\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Star)),\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            Padding = new Thickness(18, 14),\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new VerticalStackLayout\n                            {\n                                Children =\n                                {\n                                    new ExtraBold16Label\n                                    {\n                                        FontFamily = \"InterExtraBold\",\n                                        FontSize = 16,\n                                    }\n                                        .Bind(\n                                            ExtraBold16Label.TextProperty,\n                                            nameof(viewModel.SelectedGameName),\n                                            stringFormat: \"{0}\"\n                                        )\n                                        .Margins(10, 0, 0, 3),\n                                    new ExtraBold16Label\n                                    {\n                                        FontFamily = \"InterExtraBold\",\n                                        FontSize = 28,\n                                        Text = \"Let's Explore!\",\n                                    }.Margins(10, 0, 0, 0),\n                                    new Border\n                                    {\n                                        StrokeThickness = .5,\n                                        StrokeShape = new RoundRectangle\n                                        {\n                                            CornerRadius = new CornerRadius(23),\n                                        },\n                                        Padding = new Thickness(\n                                            DeviceInfo.Platform == DevicePlatform.iOS ? 10 : 0\n                                        ),\n                                        Background = Colors.Transparent,\n                                        Content = new Grid\n                                        {\n                                            ColumnDefinitions = Columns.Define(\n                                                (BodyColumn.first, Auto),\n                                                (BodyColumn.second, Star)\n                                            ),\n                                            ColumnSpacing = 10,\n                                            Children =\n                                            {\n                                                new Image\n                                                {\n                                                    Margin = new Thickness(5, 0, 0, 0),\n                                                    Source = \"search_icon.png\",\n                                                },\n                                                new Entry\n                                                {\n                                                    Placeholder =\n                                                        \"Search by Venue name or location\",\n                                                    FontFamily = \"InterMedium\",\n                                                    FontSize = 14,\n                                                    Background = Colors.Transparent,\n                                                }\n                                                    .AppThemeBinding(\n                                                        Entry.PlaceholderColorProperty,\n                                                        Color.FromArgb(\"#AEAEAE\"),\n                                                        Color.FromArgb(\"#E0E0E0\")\n                                                    )\n                                                    .AppThemeBinding(\n                                                        Entry.TextColorProperty,\n                                                        Color.FromArgb(\"#AEAEAE\"),\n                                                        Color.FromArgb(\"#E0E0E0\")\n                                                    )\n                                                    .Bind(\n                                                        Entry.TextProperty,\n                                                        nameof(viewModel.SearchQuery)\n                                                    )\n                                                    .Column(BodyColumn.second),\n                                            },\n                                        },\n                                    }\n                                        .Margins(0, 12, 0, 0)\n                                        .AppThemeBinding(\n                                            Border.StrokeProperty,\n                                            Brush.Black,\n                                            new SolidColorBrush(Color.FromArgb(\"#8E8E8E\"))\n                                        ),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.first),\n                        verticalList.Margins(0, 20, 0, 0).Row(BodyRow.second),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += async (s, e) =>\n            {\n                await viewModel.LoadData();\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":14237,"size_tokens":null},"Dome.Shared/Synced/Venue.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    /// <summary>\n    /// the venue class represents the venue entity in the database. Venues are the places where the games are played.\n    /// </summary>\n    public partial class Venue : IRealmObject\n    {\n        private Venue() { }\n\n        public Venue(\n            ObjectId id,\n            string fullName,\n            string about,\n            string email,\n            string phoneCode,\n            string mobileNumber,\n            string stripeUserId\n        )\n        {\n            Id = id;\n            FullName = fullName;\n            About = about;\n            Email = email;\n            PhoneCode = phoneCode;\n            MobileNumber = mobileNumber;\n            StripeUserId = stripeUserId;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"fullName\")]\n        public string FullName { get; set; }\n\n        [MapTo(\"about\")]\n        public string About { get; set; }\n\n        [MapTo(\"eMail\")]\n        public string Email { get; set; }\n\n        [MapTo(\"phoneCode\")]\n        public string PhoneCode { get; set; }\n\n        [MapTo(\"mobileNumber\")]\n        public string MobileNumber { get; set; }\n\n        [MapTo(\"isActive\")]\n        public bool IsActive { get; set; }\n\n        [MapTo(\"isPromoted\")]\n        public bool IsPromoted { get; set; }\n\n        [MapTo(\"stripeUserId\")]\n        public string StripeUserId { get; set; }\n\n        // embedded objects\n        [MapTo(\"address\")]\n        public VenueAddress? Address { get; set; }\n\n        [MapTo(\"holidays\")]\n        public IList<Holiday> Holidays { get; }\n\n        /// <summary>\n        /// Embedded available games at this venue.\n        /// </summary>\n        [MapTo(\"availableGames\")]\n        public IList<AvailableGame> AvailableGames { get; }\n\n        [MapTo(\"bookings\")]\n        [Backlink(nameof(Booking.Venue))]\n        public IQueryable<Booking> Bookings { get; }\n\n        // the list of members of the venue. The members get special discounts and offers from the venue. This is a many to many relationship with VenueUser.\n        [MapTo(\"members\")]\n        [Backlink(nameof(VenueUser.MemberOf))]\n        public IQueryable<VenueUser> Members { get; }\n\n        // reference\n        [MapTo(\"amenities\")]\n        public IList<Amenity> Amenities { get; }\n\n        //local\n\n        byte[]? selectedGamesImage;\n\n        [Ignored]\n        // use in mobile app to show the image of the selected game\n        public byte[]? SelectedGamesImage\n        {\n            get { return selectedGamesImage; }\n            set\n            {\n                if (value != selectedGamesImage)\n                    selectedGamesImage = value;\n                RaisePropertyChanged();\n            }\n        }\n\n        ObservableCollection<byte[]>? selectedGamesImages;\n\n        [Ignored]\n        // use in mobile app to show all images of the selected game\n        public ObservableCollection<byte[]>? SelectedGamesImages\n        {\n            get { return selectedGamesImages; }\n            set\n            {\n                if (value != selectedGamesImages)\n                    selectedGamesImages = value;\n                RaisePropertyChanged();\n            }\n        }\n\n        // use in mobile app to show the name of the selected game\n        [Ignored]\n        public string SelectedGamesName { get; set; }\n\n        //use in the mobile app to show the full address of the venue\n        string fullAddress;\n\n        [Ignored]\n        public string FullAddress\n        {\n            get\n            {\n                if (Address != null)\n                {\n                    fullAddress =\n                        $\"{Address.Street}, {Address.Province}, {Address.City}, {Address.PostCode}, {Address.Country}\";\n                }\n                return fullAddress;\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3842,"size_tokens":null},"Admin/CustomControls/Entries/BorderedEntry.cs":{"content":"namespace Admin.CustomControls.Entries\n{\n    public class BorderedEntry : Border\n    {\n        public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n            nameof(EntryText),\n            typeof(string),\n            typeof(BorderedEntry),\n            string.Empty,\n            BindingMode.TwoWay,\n            propertyChanged: EntryTextPropertyChanged\n        );\n\n        private static void EntryTextPropertyChanged(\n            BindableObject bindable,\n            object oldValue,\n            object newValue\n        )\n        {\n            BorderedEntry control = (BorderedEntry)bindable;\n            if (control != null)\n            {\n                control.entry.Text = newValue?.ToString();\n            }\n        }\n\n        public string EntryText\n        {\n            get => (string)GetValue(EntryTextProperty);\n            set => SetValue(EntryTextProperty, value);\n        }\n\n        public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n            nameof(PlaceholderText),\n            typeof(string),\n            typeof(BorderedEntry),\n            string.Empty,\n            BindingMode.OneTime,\n            propertyChanged: PlaceholderTextPropertyChanged\n        );\n\n        private static void PlaceholderTextPropertyChanged(\n            BindableObject bindable,\n            object oldValue,\n            object newValue\n        )\n        {\n            BorderedEntry control = (BorderedEntry)bindable;\n            if (control != null)\n            {\n                control.entry.Placeholder = newValue?.ToString();\n            }\n        }\n\n        public string PlaceholderText\n        {\n            get => (string)GetValue(PlaceholderTextProperty);\n            set => SetValue(PlaceholderTextProperty, value);\n        }\n\n        public Entry entry = new Entry\n        {\n            Background = Colors.Transparent,\n            FontFamily = \"InterRegular\",\n            FontSize = 20,\n            VerticalOptions = LayoutOptions.Fill,\n            HorizontalOptions = LayoutOptions.Fill,\n        };\n\n        public BorderedEntry()\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(30) };\n            Padding = new Thickness(0);\n\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            this.AppThemeBinding(Border.BackgroundProperty, Colors.White, Colors.Black);\n\n            HorizontalOptions = LayoutOptions.Start;\n            entry\n                .Bind(Entry.TextProperty, nameof(EntryText), BindingMode.TwoWay, source: this)\n                .AppThemeBinding(Entry.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Entry.PlaceholderColorProperty, Colors.Black, Colors.White);\n\n            Content = entry;\n        }\n    }\n}\n","path":null,"size_bytes":2852,"size_tokens":null},"Player/Views/Book/AvailableGamesView.cs":{"content":"namespace Player.Views.Book;\n\npublic class AvailableGamesView : BaseView\n{\n    CollectionView? collectionView;\n\n    AvailableGamesViewModel? viewModel;\n\n    public AvailableGamesView(AvailableGamesViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            Resources.Add(\n                new Style<CustomBorder>(\n                    (\n                        VisualStateManager.VisualStateGroupsProperty,\n                        new VisualStateGroupList\n                        {\n                            new VisualStateGroup\n                            {\n                                Name = nameof(VisualStateManager.CommonStates),\n                                States =\n                                {\n                                    new VisualState\n                                    {\n                                        Name = VisualStateManager.CommonStates.Selected,\n                                        Setters =\n                                        {\n                                            new Setter\n                                            {\n                                                Property = Border.BackgroundProperty,\n                                                Value = Color.FromArgb(\"#EF2F50\"),\n                                            },\n                                        },\n                                    },\n                                    new VisualState\n                                    {\n                                        Name = VisualStateManager.CommonStates.Normal,\n                                        Setters =\n                                        {\n                                            new Setter\n                                            {\n                                                Property = Border.BackgroundProperty,\n                                                Value = Color.FromArgb(\"#EF2F50\"),\n                                            },\n                                        },\n                                    },\n                                },\n                            },\n                        }\n                    )\n                )\n            );\n\n            collectionView = new CollectionView\n            {\n                SelectionMode = SelectionMode.Single,\n\n                ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n\n                ItemsLayout = new GridItemsLayout(2, ItemsLayoutOrientation.Vertical)\n                {\n                    VerticalItemSpacing = 20,\n                    HorizontalItemSpacing = 20,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new CustomBorder\n                    {\n                        HeightRequest = 128,\n                        WidthRequest = 144,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(22) },\n                        Background = Color.FromArgb(\"#EF2F50\"),\n                        Padding = 20,\n                        StrokeThickness = 0,\n\n                        Content = new Grid\n                        {\n                            Children =\n                            {\n                                new SemiBold16Label\n                                {\n                                    TextColor = Colors.White,\n                                    Margin = new Thickness(5, 0, 0, 0),\n                                }.Bind(Bold16Label.TextProperty, nameof(Game.GameName)),\n                                new Image\n                                {\n                                    HorizontalOptions = LayoutOptions.End,\n                                    VerticalOptions = LayoutOptions.End,\n                                    HeightRequest = 42,\n                                    WidthRequest = 42,\n                                }\n                                    .Bind(\n                                        Image.SourceProperty,\n                                        nameof(Game.DarkModeGameIcon),\n                                        converter: new ByteArrayToImageSourceConverter()\n                                    )\n                                    .Row(BodyRow.first),\n                            },\n                        },\n                    };\n                }),\n                SelectionChangedCommand = viewModel.GameChoosenCommand,\n            }\n                .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.AvailableGames))\n                .Bind(SelectableItemsView.SelectedItemProperty, nameof(viewModel.SelectedGame));\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Add(\n                new Grid\n                {\n                    Padding = new Thickness(16, 0, 16, 31),\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Star)\n                    ),\n\n                    RowSpacing = 10,\n                    Children =\n                    {\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = new VerticalStackLayout\n                            {\n                                Padding = new Thickness(18, 14),\n                                Spacing = 0,\n                                Children =\n                                {\n                                    new ExtraBold28Label\n                                    {\n                                        TextColor = Color.FromArgb(\"#AEAEAE\"),\n                                    }.Bind(\n                                        Bold28Label.TextProperty,\n                                        nameof(viewModel.UserName),\n                                        stringFormat: \"Hey {0}\"\n                                    ),\n                                    new Regular28Label { Text = \"What are you playing\\ntoday?\" },\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.first),\n                        new Border\n                        {\n                            StrokeShape = new RoundRectangle\n                            {\n                                CornerRadius = new CornerRadius(10),\n                            },\n                            Padding = new Thickness(15, 10, 15, 25),\n                            Content = new Grid\n                            {\n                                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n                                ColumnDefinitions = Columns.Define(\n                                    (BodyColumn.first, Star),\n                                    (BodyColumn.second, Auto)\n                                ),\n\n                                ColumnSpacing = 5,\n\n                                Children =\n                                {\n                                    new VerticalStackLayout\n                                    {\n                                        Children =\n                                        {\n                                            new Border\n                                            {\n                                                HorizontalOptions = LayoutOptions.Start,\n                                                StrokeShape = new RoundRectangle\n                                                {\n                                                    CornerRadius = new CornerRadius(7),\n                                                },\n                                                Padding = new Thickness(10, 5),\n                                                Background = Color.FromArgb(\"#5D5D5D\"),\n                                                Content = new Medium8Label\n                                                {\n                                                    Text = \"RECENTLY BOOKED\",\n                                                    TextColor = Colors.White,\n                                                },\n                                            },\n                                            new Medium10Label\n                                            {\n                                                VerticalOptions = LayoutOptions.Start,\n                                                Text = \"No recent bookings\",\n                                            }\n                                                .Bind(\n                                                    Medium10Label.IsVisibleProperty,\n                                                    nameof(viewModel.RecentBooking),\n                                                    convert: (Booking? booking) =>\n                                                        booking == null ? true : false,\n                                                    source: viewModel\n                                                )\n                                                .Margins(5, 0, 0, 0),\n                                            new Medium14Label { }\n                                                .Bind(\n                                                    Medium14Label.TextProperty,\n                                                    $\"{nameof(viewModel.RecentBooking)}.{nameof(viewModel.RecentBooking.VenueName)}\",\n                                                    source: viewModel\n                                                )\n                                                .Margins(0, 8, 0, 0),\n                                            new Medium10Label\n                                            {\n                                                VerticalOptions = LayoutOptions.Start,\n                                            }.Bind(\n                                                Medium10Label.TextProperty,\n                                                $\"{nameof(viewModel.RecentBooking)}.{nameof(viewModel.RecentBooking.BookingDate)}\",\n                                                stringFormat: \"Last Booked: {0:dd MMMM, yyyy}\",\n                                                source: viewModel\n                                            ),\n                                        },\n                                    }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.first),\n                                    new MediumButton\n                                    {\n                                        Text = \"BOOK NOW\",\n                                        FontSize = 11,\n                                        VerticalOptions = LayoutOptions.Center,\n                                        Padding = new Thickness(20, 10),\n                                    }\n                                        .Row(BodyRow.first)\n                                        .Column(BodyColumn.second)\n                                        .BindCommand(nameof(viewModel.VenueDetailsCommand)),\n                                },\n                            },\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            )\n                            .Row(BodyRow.second),\n                        new Border\n                        {\n                            StrokeThickness = 0,\n                            Padding = 0,\n                            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                            Content = collectionView.Margins(20, 15, 20, 10),\n                        }\n                            .AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Colors.Black\n                            )\n                            .Row(BodyRow.third),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += SportsListView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void SportsListView_Loaded(object? sender, EventArgs e)\n    {\n        try\n        {\n            if (viewModel != null)\n            {\n                await viewModel.OnPageLoad();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":13522,"size_tokens":null},"Player/PlayerConstants.cs":{"content":"using System;\n\nnamespace Player;\n\npublic class PlayerConstants\n{\n    // timing while planning (hosting) a game\n    public const string morning = \"Morning (5:00 - 12:00)\";\n    public const string afternoon = \"Afternoon (12:00 - 18:00)\";\n    public const string evening = \"Evening (18:00 - 23:00)\";\n    public const string night = \"Night (23:00 - 5:00)\";\n}\n","path":null,"size_bytes":355,"size_tokens":null},"Player/Popups/ReviewGameBeforeJoiningPopup.cs":{"content":"using Mopups.Pages;\n\nnamespace Player.Views.Connect;\n\n/// <summary>\n/// This popup is shown to the player before joining a game. It shows the game hosting information and allows the player to join the game or cancel the join request. This popup is shown when the player clicks on the join button in the Chat view.\n/// </summary>\npublic class ReviewGameBeforeJoiningPopup : PopupPage\n{\n    public ReviewGameBeforeJoiningPopup(ChatViewModel viewModel)\n    {\n        this.CloseWhenBackgroundIsClicked = false;\n\n        Content = new ScrollView\n        {\n            Margin = new Thickness(10),\n            HorizontalOptions = LayoutOptions.Center,\n            VerticalOptions = LayoutOptions.Center,\n            Content = new Border\n            {\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(15) },\n                StrokeThickness = 2,\n                Padding = new Thickness(16, 5, 16, 20),\n\n                Content = new VerticalStackLayout\n                {\n                    Children =\n                    {\n                        new Regular20Label { Text = \"Game Hosting Information\" }\n                            .Center()\n                            .Margins(0, 20, 10, 0),\n                        new Rectangle { HeightRequest = 2 }.AppThemeBinding(\n                            Rectangle.BackgroundProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#D2D2D2\")\n                        ),\n                        new Regular18Label { }\n                            .Bind(Regular18Label.TextProperty, nameof(viewModel.VenueName))\n                            .Margins(0, 20, 0, 0),\n                        new Regular14Label { }\n                            .Bind(Regular14Label.TextProperty, nameof(viewModel.CityProvince))\n                            .Center()\n                            .Margins(0, 0, 0, 0),\n                        new Bold14Label { }\n                            .Bind(\n                                Bold14Label.TextProperty,\n                                $\"{nameof(viewModel.PurchasedBooking)}.{nameof(viewModel.PurchasedBooking.NumberOfPlayersRequiredForHosting)}\",\n                                stringFormat: \"{0} Players (Including host)\"\n                            )\n                            .Center()\n                            .Margins(0, 20, 0, 0),\n                        new Regular14Label { }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                $\"{nameof(viewModel.PurchasedBooking)}.{nameof(viewModel.PurchasedBooking.GameName)}\"\n                            )\n                            .Center()\n                            .Margins(0, 0, 0, 0),\n                        new Regular14Label { }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                $\"{nameof(viewModel.PurchasedBooking)}.{nameof(viewModel.PurchasedBooking.PlayerCompetancyLevel)}\"\n                            )\n                            .Center()\n                            .Margins(0, 0, 0, 0),\n                        new SemiBold14Label { HorizontalOptions = LayoutOptions.Center }.Bind(\n                            SemiBold12Label.TextProperty,\n                            binding1: new Binding(\n                                $\"{nameof(viewModel.PurchasedBooking)}.{nameof(viewModel.PurchasedBooking.StartTime)}\",\n                                stringFormat: \"{0:dd, MMM, yyyy (HH:mm}\"\n                            ),\n                            binding2: new Binding(\n                                $\"{nameof(viewModel.PurchasedBooking)}.{nameof(viewModel.PurchasedBooking.EndTime)}\",\n                                stringFormat: \"{0: HH:mm)}\"\n                            ),\n                            convert: ((string? start, string? end) values) =>\n                                $\"{values.start} - {values.end}\"\n                        ),\n                        new MediumButton { Text = \"Join Game\" }\n                            .BindCommand(nameof(viewModel.JoinCommand))\n                            .Margins(20, 30, 20, 0),\n                        new MediumButton\n                        {\n                            Text = \"Cancel\",\n                            Background = Colors.Transparent,\n                            BorderWidth = .5,\n                        }\n                            .AppThemeColorBinding(\n                                MediumButton.TextColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            )\n                            .AppThemeColorBinding(\n                                MediumButton.BorderColorProperty,\n                                Colors.Black,\n                                Colors.White\n                            )\n                            .BindCommand(nameof(viewModel.CancelCommand))\n                            .Margins(20, 10, 20, 0),\n                    },\n                },\n            }.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White),\n        }.AppThemeBinding(\n            ScrollView.BackgroundProperty,\n            Colors.White,\n            Color.FromArgb(\"#23262A\")\n        );\n\n        BindingContext = viewModel;\n    }\n}\n","path":null,"size_bytes":5364,"size_tokens":null},"Player/ViewModels/Account/ConfirmEmailToRegisterItViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    [QueryProperty(nameof(UserEmail), nameof(UserEmail))]\n    [QueryProperty(nameof(Password), nameof(Password))]\n    public partial class ConfirmEmailToRegisterItViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        string oneTimePasscode = string.Empty;\n\n        [ObservableProperty]\n        string? userEmail;\n\n        [ObservableProperty]\n        string? password;\n\n        [ObservableProperty]\n        string timeLeft;\n\n        private readonly INavigationService navigationService;\n        private readonly ISettingsService settingsService;\n        private readonly ITwilioService twilioService;\n        private readonly IConnectivity connectivity;\n        private readonly IPopupNavigation popupNavigation;\n\n        public ConfirmEmailToRegisterItViewModel(\n            INavigationService navigationService,\n            ISettingsService settingsService,\n            ITwilioService twilioService,\n            IConnectivity connectivity,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.settingsService = settingsService;\n            this.twilioService = twilioService;\n            this.connectivity = connectivity;\n            this.popupNavigation = popupNavigation;\n        }\n\n        [RelayCommand]\n        async Task SendEmailOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(UserEmail))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"email is missing\", \"OK\");\n                }\n                else if (string.IsNullOrWhiteSpace(Password))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Password is missing\", \"OK\");\n                }\n                else if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"No internet connection\", \"OK\");\n                }\n                else\n                {\n                    await twilioService.SendEmailOTP(UserEmail);\n                    await Shell.Current.DisplayAlert(\n                        \"OTP sent\",\n                        $\"OTP successfully sent to the {UserEmail}\",\n                        \"OK\"\n                    );\n\n                    TimeSpan timeSpan = new TimeSpan(0, 2, 0);\n                    TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n\n                    PeriodicTimer timer = new PeriodicTimer(TimeSpan.FromSeconds(1));\n\n                    while (await timer.WaitForNextTickAsync())\n                    {\n                        TimeSpan oneSecond = new TimeSpan(0, 0, 01);\n                        timeSpan = timeSpan - oneSecond;\n                        TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n                        if (timeSpan == TimeSpan.Zero)\n                        {\n                            timer.Dispose();\n                        }\n                    }\n                    ;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifyEmailOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                else if (string.IsNullOrWhiteSpace(UserEmail))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"email is missing\", \"OK\");\n                }\n                else if (string.IsNullOrWhiteSpace(Password))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Password is missing\", \"OK\");\n                }\n                else if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"No internet connection\", \"OK\");\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    string status = await twilioService.VerifyEmailOTP(UserEmail, OneTimePasscode);\n\n                    if (status == \"approved\")\n                    {\n                        await AlertHelper.ShowSnackBar(\"OTP Verified\");\n                        await App.RealmApp.EmailPasswordAuth.RegisterUserAsync(UserEmail, Password);\n                        await App.RealmApp.LogInAsync(\n                            Credentials.EmailPassword(UserEmail, Password)\n                        );\n                        await AlertHelper.ShowSnackBar(\n                            $\"The new email {UserEmail} is successfully registered\"\n                        );\n\n                        await navigationService.NavigateToAsync($\"///{nameof(LoadDataView)}\");\n                        await popupNavigation.PopAsync();\n                    }\n                    else if (status == \"pending\")\n                    {\n                        await popupNavigation.PopAsync();\n                        await Shell.Current.DisplayAlert(\n                            \"Invalid\",\n                            \"Invalid OTP. Please try again\",\n                            \"OK\"\n                        );\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task GoBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6073,"size_tokens":null},"Player/Views/Connect/PlannedBookingsListView.cs":{"content":"namespace Player.Views.Connect;\n\n/// <summary>\n/// This class represents the view for the PlannedBookingsList. It is used to display the planned bookings list from which the user can select a planned booking to host (connect the planned booking with the purchased booking)\n/// </summary>\npublic class PlannedBookingsListView : BaseView\n{\n    public PlannedBookingsListView(PlannedBookingsListViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto)\n                    ),\n\n                    RowSpacing = 10,\n                    Children =\n                    {\n                        new ExtraBold18Label { Text = \"Select group to host\" }\n                            .Row(BodyRow.first)\n                            .Margins(16, 0, 0, 0),\n                        new Rectangle\n                        {\n                            HeightRequest = 2,\n                            Background = Color.FromArgb(\"4E4E4E\"),\n                        }.Row(BodyRow.second),\n                        new CollectionView\n                        {\n                            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n                            {\n                                ItemSpacing = 10,\n                            },\n                            ItemTemplate = new DataTemplate(() =>\n                            {\n                                return new Border\n                                {\n                                    StrokeThickness = 0,\n                                    StrokeShape = new RoundRectangle\n                                    {\n                                        CornerRadius = new CornerRadius(7),\n                                    },\n                                    Padding = new Thickness(10),\n                                    Content = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto)\n                                        ),\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Star),\n                                            (BodyColumn.second, Auto)\n                                        ),\n                                        ColumnSpacing = 10,\n\n                                        Children =\n                                        {\n                                            new Regular14Label { }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(PlannedBooking.VenueName)\n                                                )\n                                                .Row(BodyRow.first),\n                                            new Regular14Label { }\n                                                .Bind(\n                                                    Label.TextProperty,\n                                                    nameof(PlannedBooking.BookingInformation)\n                                                )\n                                                .Row(BodyRow.second),\n                                            new MediumButton\n                                            {\n                                                Text = \"Connect\",\n                                                HorizontalOptions = LayoutOptions.End,\n                                                VerticalOptions = LayoutOptions.Center,\n                                            }\n                                                .BindCommand(\n                                                    nameof(viewModel.ConnectCommand),\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.second),\n                                        },\n                                    },\n                                }.AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                );\n                            }),\n                        }\n                            .Bind(ItemsView.ItemsSourceProperty, nameof(viewModel.PlannedBookings))\n                            .Row(BodyRow.third)\n                            .Margins(16, 0, 16, 0),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":5885,"size_tokens":null},"Player/ViewModels/Account/VerifyEmailForPasswordResetViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class VerifyEmailForPasswordResetViewModel\n        : AccountBaseViewModel,\n            IQueryAttributable\n    {\n        [ObservableProperty]\n        string? userEmail;\n\n        [ObservableProperty]\n        string? newPassword;\n\n        [ObservableProperty]\n        public string oneTimePasscode;\n\n        [ObservableProperty]\n        public bool oneTimePasscodeError;\n\n        [ObservableProperty]\n        string timeLeft;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n        private readonly ITwilioService twilioService;\n        private readonly IPopupNavigation popupNavigation;\n\n        public VerifyEmailForPasswordResetViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            ITwilioService twilioService,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.twilioService = twilioService;\n            this.popupNavigation = popupNavigation;\n        }\n\n        public async void ApplyQueryAttributes(IDictionary<string, object> query)\n        {\n            try\n            {\n                query.TryGetValue(\"Email\", out object? email);\n                if (email != null)\n                {\n                    UserEmail = email.ToString();\n                }\n                query.TryGetValue(nameof(NewPassword), out object? newPassword);\n                if (newPassword != null)\n                {\n                    NewPassword = newPassword.ToString();\n                }\n            }\n            catch (Exception ex)\n            {\n                throw;\n            }\n        }\n\n        [RelayCommand]\n        async Task SendEmailOTP()\n        {\n            try\n            {\n                await twilioService.SendEmailOTP(UserEmail);\n\n                TimeSpan timeSpan = new TimeSpan(0, 2, 0);\n                TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n\n                PeriodicTimer timer = new(TimeSpan.FromSeconds(1));\n\n                while (await timer.WaitForNextTickAsync())\n                {\n                    TimeSpan oneSecond = new TimeSpan(0, 0, 01);\n                    timeSpan = timeSpan - oneSecond;\n                    TimeLeft = timeSpan.ToString(@\"mm\\:ss\");\n                    if (timeSpan == TimeSpan.Zero)\n                    {\n                        timer.Dispose();\n                    }\n                }\n                ;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task VerifyEmailOTP()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(OneTimePasscode) || OneTimePasscode.Length < 6)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Please enter 6 digit OTP\", \"OK\");\n                    return;\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n                    string status = await twilioService.VerifyEmailOTP(UserEmail, OneTimePasscode);\n                    if (status != null)\n                    {\n                        if (status == \"approved\")\n                        {\n                            await AlertHelper.ShowSnackBar(\"OTP Verified\");\n                            await App.RealmApp.EmailPasswordAuth.CallResetPasswordFunctionAsync(\n                                UserEmail,\n                                NewPassword\n                            );\n                            User? realmUser = realmService.RealmUser;\n                            if (realmUser != null)\n                            {\n                                await realmUser.LogOutAsync();\n                            }\n                            await AlertHelper.ShowSnackBar(\"The new password has been reset\");\n                            await navigationService.NavigateToAsync($\"///{nameof(LoginView)}\");\n                        }\n                    }\n                    else if (status == \"pending\")\n                    {\n                        await AlertHelper.ShowSnackBar(\"OTP Verification Failed\");\n                    }\n                    await popupNavigation.PopAsync();\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task GoBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":5249,"size_tokens":null},"Player/Views/Connect/JoinAGameView.cs":{"content":"namespace Player.Views.Connect;\n\npublic class JoinAGameView : VerticalStackLayout\n{\n    public JoinAGameView()\n    {\n        try\n        {\n            // the list of games which are hosted by other players. The background should always be of primary color of the app\n            Style<Border> hostedGamesStyle = new Style<Border>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = Border.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            // the list of games which are onboarded by Dome. The background should always be transparent for the top layout. Only the child border which have game image needs to be highlighted when selected.\n            Style<VerticalStackLayout> onBoardedGamesStyle = new Style<VerticalStackLayout>(\n                (\n                    VisualStateManager.VisualStateGroupsProperty,\n                    new VisualStateGroupList\n                    {\n                        new VisualStateGroup\n                        {\n                            Name = nameof(VisualStateManager.CommonStates),\n                            States =\n                            {\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Selected,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = VerticalStackLayout.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                                new VisualState\n                                {\n                                    Name = VisualStateManager.CommonStates.Normal,\n                                    Setters =\n                                    {\n                                        new Setter\n                                        {\n                                            Property = VerticalStackLayout.BackgroundProperty,\n                                            Value = Colors.Transparent,\n                                        },\n                                    },\n                                },\n                            },\n                        },\n                    }\n                )\n            );\n\n            Spacing = 10;\n\n            Border locationBorder = new Border\n            {\n                StrokeThickness = 0,\n                Margin = new Thickness(0, 10, 0, 0),\n                StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                Padding = new Thickness(18),\n                Content = new Grid\n                {\n                    ColumnDefinitions = Columns.Define((BodyColumn.first, Auto)),\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Auto)),\n                    RowSpacing = 10,\n                    Children =\n                    {\n                        new Regular12Label { Text = \"Location\" },\n                        new HorizontalStackLayout\n                        {\n                            Spacing = 10,\n                            Children =\n                            {\n                                new Picker { Background = Colors.Transparent }\n                                    .AppThemeBinding(\n                                        Picker.TextColorProperty,\n                                        Color.FromArgb(\"#626262\"),\n                                        Color.FromArgb(\"#E0E0E0\")\n                                    )\n                                    .Bind(Picker.ItemsSourceProperty, \"VenueLocations\")\n                                    .Bind(Picker.SelectedItemProperty, \"SelectedLocation\"),\n                                new Image { WidthRequest = 10, HeightRequest = 6 }.AppThemeBinding(\n                                    Image.SourceProperty,\n                                    \"picker_arrow_black.png\",\n                                    \"picker_arrow.png\"\n                                ),\n                            },\n                        }.Row(BodyRow.second),\n                    },\n                },\n            }.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#23262A\")\n            );\n\n            Regular12Label chooseSportsLabel = new Regular12Label\n            {\n                Text = \"Choose Sports\",\n            }.Margins(18, 10, 0, 0);\n\n            CollectionView gamesCollectionView = new CollectionView\n            {\n                HeightRequest = 60,\n                Background = Colors.Transparent,\n                SelectionMode = SelectionMode.Single,\n                // ItemSizingStrategy= ItemSizingStrategy.MeasureFirstItem,\n                EmptyView = new Regular16Label\n                {\n                    Text = \"No games found\",\n                    HorizontalOptions = LayoutOptions.Center,\n                    VerticalOptions = LayoutOptions.Center,\n                },\n                ItemsLayout = new LinearItemsLayout(orientation: ItemsLayoutOrientation.Horizontal)\n                {\n                    ItemSpacing = 15,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new VerticalStackLayout\n                    {\n                        Style = onBoardedGamesStyle,\n                        Children =\n                        {\n                            new Border\n                            {\n                                StrokeThickness = 0,\n                                HeightRequest = 40,\n                                WidthRequest = 40,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(20),\n                                },\n                                Padding = 5,\n                                Content = new Image { HeightRequest = 25, WidthRequest = 25 }.Bind(\n                                    Image.SourceProperty,\n                                    nameof(Game.GameIcon),\n                                    converter: new ByteArrayToImageSourceConverter()\n                                ),\n                            }\n                                .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                                .Bind(\n                                    Border.BackgroundProperty,\n                                    nameof(Game.IsSelected),\n                                    convert: (bool isSelected) =>\n                                        isSelected == true\n                                            ? Color.FromArgb(\"#EF2F50\")\n                                            : Colors.Transparent\n                                ),\n                            new Regular8Label { HorizontalOptions = LayoutOptions.Center }.Bind(\n                                Regular8Label.TextProperty,\n                                nameof(Game.GameName)\n                            ),\n                        },\n                    };\n                }),\n            }\n                .Bind(ItemsView.ItemsSourceProperty, \"OnboardedGames\", BindingMode.OneWay)\n                .Bind(SelectableItemsView.SelectedItemProperty, \"SelectedGame\")\n                .Margins(18, 5, 0, 5);\n\n            Rectangle line = new Rectangle { HeightRequest = 2 }.AppThemeBinding(\n                Rectangle.BackgroundProperty,\n                Color.FromArgb(\"#626262\"),\n                Color.FromArgb(\"#D2D2D2\")\n            );\n\n            CollectionView plannmedBookingsView = new CollectionView\n            {\n                SelectionMode = SelectionMode.Single,\n                // ItemSizingStrategy= ItemSizingStrategy.MeasureFirstItem,\n                EmptyView = new Regular16Label\n                {\n                    Text = \"No planned bookings found\",\n                    HorizontalOptions = LayoutOptions.Center,\n                    VerticalOptions = LayoutOptions.Center,\n                },\n                ItemsLayout = new LinearItemsLayout(orientation: ItemsLayoutOrientation.Vertical)\n                {\n                    ItemSpacing = 10,\n                },\n                ItemTemplate = new DataTemplate(() =>\n                {\n                    return new Border\n                    {\n                        Padding = new Thickness(20, 18),\n                        StrokeThickness = 0,\n                        StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                        Content = new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Auto),\n                                (BodyColumn.second, Star),\n                                (BodyColumn.third, Auto)\n                            ),\n\n                            RowDefinitions = Rows.Define(\n                                (BodyRow.first, Auto),\n                                (BodyRow.second, Auto),\n                                (BodyRow.third, Auto),\n                                (BodyRow.fourth, Auto)\n                            ),\n\n                            Children =\n                            {\n                                new Regular14Label { }\n                                    .Bind(\n                                        SemiBold12Label.TextProperty,\n                                        $\"{nameof(PlannedBooking.SelectedVenue)}.{nameof(PlannedBooking.SelectedVenue.FullName)}\"\n                                    )\n                                    .Row(BodyRow.first)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(2),\n                                new Regular10Label { }\n                                    .Bind(Regular10Label.TextProperty, nameof(PlannedBooking.City))\n                                    .Row(BodyRow.second)\n                                    .Column(BodyColumn.first)\n                                    .ColumnSpan(2),\n                                new SemiBold14Label { HorizontalOptions = LayoutOptions.End }\n                                    .Bind(\n                                        SemiBold10Label.TextProperty,\n                                        nameof(PlannedBooking.Timing)\n                                    )\n                                    .Row(BodyRow.first)\n                                    .Column(BodyColumn.third),\n                                //                                 new Regular10Label {HorizontalOptions=LayoutOptions.End }.Bind(Regular10Label.TextProperty,\n                                //    binding1: new Binding(nameof(PlannedBooking.PlannedDate), stringFormat: \"{0:dd MMM, yyyy} \"),\n                                //    binding2: new Binding(nameof(PlannedBooking.TimingDisplay), stringFormat: \"({0})\"),\n                                //    convert: ((string? date, string? timingDisplay) values) => $\"{values.date} {values.timingDisplay}\").Row(BodyRow.second).Column(BodyColumn.third),\n\n                                new Regular10Label { HorizontalOptions = LayoutOptions.End }\n                                    .Bind(\n                                        Regular10Label.TextProperty,\n                                        nameof(PlannedBooking.PlannedDate),\n                                        stringFormat: \"{0:dd MMM, yyyy} \"\n                                    )\n                                    .Row(BodyRow.second)\n                                    .Column(BodyColumn.third),\n                                new AvatarView\n                                {\n                                    BorderWidth = 0,\n                                    Padding = 0,\n                                    HeightRequest = 35,\n                                    WidthRequest = 35,\n                                    CornerRadius = 17.5,\n                                    HorizontalOptions = LayoutOptions.Start,\n                                }\n                                    .Bind(\n                                        AvatarView.ImageSourceProperty,\n                                        $\"{nameof(PlannedBooking.Host)}.{nameof(PlannedBooking.Host.ProfileImage)}\",\n                                        converter: new ByteArrayToImageSourceConverter(),\n                                        fallbackValue: \"profile_image_fallback.png\",\n                                        targetNullValue: \"profile_image_fallback.png\"\n                                    )\n                                    .Row(BodyRow.third)\n                                    .RowSpan(2)\n                                    .Column(BodyColumn.first)\n                                    .Margins(0, 20, 0, 0),\n                                new Regular10Label\n                                {\n                                    Text = \"Hosted By\",\n                                    VerticalOptions = LayoutOptions.End,\n                                    HorizontalOptions = LayoutOptions.Start,\n                                }\n                                    .Row(BodyRow.third)\n                                    .Column(BodyColumn.second)\n                                    .Margins(5, 20, 0, 0),\n                                new SemiBold10Label { HorizontalOptions = LayoutOptions.Start }\n                                    .Bind(\n                                        SemiBold10Label.TextProperty,\n                                        $\"{nameof(PlannedBooking.Host)}.{nameof(PlannedBooking.Host.FullName)}\"\n                                    )\n                                    .Row(BodyRow.fourth)\n                                    .Column(BodyColumn.second)\n                                    .Margins(5, 0, 0, 0),\n                                new Regular10Label\n                                {\n                                    HorizontalOptions = LayoutOptions.End,\n                                    VerticalOptions = LayoutOptions.End,\n                                }\n                                    .Bind(\n                                        Regular10Label.TextProperty,\n                                        binding1: new Binding(nameof(PlannedBooking.GameName)),\n                                        binding2: new Binding(nameof(PlannedBooking.SkillLevel)),\n                                        convert: ((string? gameName, string? skillLevel) values) =>\n                                            $\"{values.gameName} | {values.skillLevel}\"\n                                    )\n                                    .Row(BodyRow.third)\n                                    .Column(BodyColumn.third)\n                                    .Margins(0, 20, 0, 0),\n                                new Bold10Label { HorizontalOptions = LayoutOptions.End }\n                                    .Bind(\n                                        Bold10Label.TextProperty,\n                                        nameof(PlannedBooking.TeamStatus)\n                                    )\n                                    .Row(BodyRow.fourth)\n                                    .Column(BodyColumn.third),\n                            },\n                        },\n                    }.AppThemeBinding(\n                        Border.BackgroundProperty,\n                        Colors.White,\n                        Color.FromArgb(\"#23262A\")\n                    );\n                    ;\n                }),\n            }\n                .Bind(\n                    ItemsView.ItemsSourceProperty,\n                    \"OthersFilteredPlannedBookings\",\n                    BindingMode.OneWay\n                )\n                .Bind(\n                    SelectableItemsView.SelectionChangedCommandProperty,\n                    \"BindingContext.JoinHostedGameCommand\",\n                    source: this\n                )\n                .Bind(\n                    SelectableItemsView.SelectedItemProperty,\n                    \"BindingContext.SelectedBooking\",\n                    source: this\n                )\n                .Margins(0, 10, 0, 20);\n\n            this.Children.Add(locationBorder);\n            this.Children.Add(chooseSportsLabel);\n            this.Children.Add(gamesCollectionView);\n            this.Children.Add(line);\n            this.Children.Add(plannmedBookingsView);\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n        }\n    }\n}\n","path":null,"size_bytes":18461,"size_tokens":null},"Player/Platforms/Android/MainApplication.cs":{"content":"﻿using Android.App;\nusing Android.Runtime;\n\nnamespace Player;\n\n[Application]\npublic class MainApplication : MauiApplication\n{\n    public MainApplication(IntPtr handle, JniHandleOwnership ownership)\n        : base(handle, ownership) { }\n\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":320,"size_tokens":null},"Player/CustomControls/CollectionViews/PastBookingsTemplate.cs":{"content":"namespace Player.CustomControls.CollectionViews\n{\n    public class PastBookingsTemplate : CollectionView\n    {\n        public PastBookingsTemplate()\n        {\n            ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical)\n            {\n                ItemSpacing = 10,\n            };\n            SelectionMode = SelectionMode.Single;\n            EmptyView = new Regular16Label\n            {\n                Text = \"No Past Bookings\",\n                HorizontalOptions = LayoutOptions.Center,\n                VerticalOptions = LayoutOptions.Center,\n            };\n\n            ItemTemplate = new DataTemplate(() =>\n            {\n                return new Border\n                {\n                    StrokeThickness = 0,\n                    StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, Auto),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto)\n                        ),\n\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Star),\n                            (BodyColumn.second, Star)\n                        ),\n\n                        Padding = new Thickness(8),\n                        Children =\n                        {\n                            new Regular14Label { }\n                                .Bind(Regular14Label.TextProperty, nameof(Booking.GameName))\n                                .Row(BodyRow.first)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new SemiBold12Label { }\n                                .Bind(\n                                    SemiBold12Label.TextProperty,\n                                    $\"{nameof(Booking.Venue)}.{nameof(Booking.Venue.FullName)}\"\n                                )\n                                .Row(BodyRow.fifth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new Medium16Label\n                            {\n                                HorizontalOptions = LayoutOptions.End,\n                                VerticalOptions = LayoutOptions.Center,\n                            }\n                                .AppThemeBinding(\n                                    Medium10Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"#E0E0E0\")\n                                )\n                                .Bind(\n                                    Medium16Label.TextProperty,\n                                    nameof(Booking.TotalPrice),\n                                    stringFormat: \"{0:C}\"\n                                )\n                                .Row(BodyRow.fourth)\n                                .RowSpan(2)\n                                .Column(BodyColumn.third),\n                            new SemiBold12Label { }\n                                .Bind(SemiBold10Label.TextProperty, nameof(Booking.BookingInfo))\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(0, 0, 0, 20),\n                            new HorizontalStackLayout\n                            {\n                                Spacing = 10,\n                                Children =\n                                {\n                                    new Medium12Label { VerticalOptions = LayoutOptions.Center }\n                                        .Bind(\n                                            Medium12Label.TextProperty,\n                                            nameof(Booking.TeamStatus)\n                                        )\n                                        .Bind(\n                                            Medium12Label.IsVisibleProperty,\n                                            nameof(Booking.JoinedPlayers),\n                                            convert: (IList<VenueUser>? joinedPlayers) =>\n                                                joinedPlayers?.Count > 0 ? true : false\n                                        ),\n                                    new CollectionView\n                                    {\n                                        HeightRequest = 40,\n                                        HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                                        WidthRequest = 150,\n                                        ItemsLayout = new LinearItemsLayout(\n                                            ItemsLayoutOrientation.Horizontal\n                                        )\n                                        {\n                                            ItemSpacing = 0,\n                                        },\n                                        // the image is misplaced in iOS\n                                        Header = new AvatarView\n                                        {\n                                            HeightRequest = 35,\n                                            WidthRequest = 35,\n                                            CornerRadius = 17,\n                                            Padding = 0,\n                                        }\n                                            .Bind(\n                                                AvatarView.ImageSourceProperty,\n                                                \"PlayerImage\",\n                                                converter: new ByteArrayToImageSourceConverter(),\n                                                fallbackValue: \"profile_image_fallback\",\n                                                targetNullValue: \"profile_image_fallback\"\n                                            )\n                                            .Bind(\n                                                AvatarView.IsVisibleProperty,\n                                                nameof(Booking.JoinedPlayers),\n                                                convert: (IList<VenueUser>? joinedPlayers) =>\n                                                    joinedPlayers?.Count > 0 ? true : false\n                                            ),\n\n                                        ItemTemplate = new DataTemplate(() =>\n                                        {\n                                            return new AvatarView\n                                            {\n                                                HeightRequest = 35,\n                                                WidthRequest = 35,\n                                                CornerRadius = 17,\n                                                Padding = 0,\n                                            }.Bind(\n                                                AvatarView.ImageSourceProperty,\n                                                nameof(VenueUser.ProfileImage),\n                                                converter: new ByteArrayToImageSourceConverter(),\n                                                fallbackValue: \"profile_image_fallback\",\n                                                targetNullValue: \"profile_image_fallback\"\n                                            );\n                                        }),\n                                    }.Bind(\n                                        ItemsView.ItemsSourceProperty,\n                                        nameof(Booking.JoinedPlayers)\n                                    ),\n                                },\n                            }\n                                .Row(BodyRow.third)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3)\n                                .Margins(0, 0, 0, 10),\n                            new Medium12Label { }\n                                .Bind(Medium12Label.TextProperty, nameof(Booking.PlayerName))\n                                .AppThemeBinding(\n                                    Medium10Label.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"#E0E0E0\")\n                                )\n                                .Row(BodyRow.fourth)\n                                .Column(BodyColumn.first)\n                                .ColumnSpan(3),\n                            new MediumButton\n                            {\n                                Padding = new Thickness(10, 5),\n                                FontFamily = \"InterRegular\",\n                                FontSize = 8,\n                                HorizontalOptions = LayoutOptions.End,\n                            }\n                                .Bind(MediumButton.IsVisibleProperty, nameof(Booking.IsHosted))\n                                .Bind(\n                                    MediumButton.TextProperty,\n                                    nameof(Booking.IsJoined),\n                                    convert: (bool joined) => joined == true ? \"Joined\" : \"Hosted\"\n                                )\n                                .Row(BodyRow.second)\n                                .Column(BodyColumn.third),\n                        },\n                    },\n                }.AppThemeBinding(\n                    Border.BackgroundProperty,\n                    Colors.White,\n                    Color.FromArgb(\"#23262A\")\n                );\n            });\n\n            this.Bind(ItemsView.ItemsSourceProperty, \"BindingContext.PastBookings\", source: this);\n            this.Bind(\n                SelectableItemsView.SelectionChangedCommandProperty,\n                \"BindingContext.SelectionChangedCommand\",\n                source: this\n            );\n            this.Bind(\n                SelectableItemsView.SelectedItemProperty,\n                \"BindingContext.SelectedBooking\",\n                source: this\n            );\n        }\n    }\n}\n","path":null,"size_bytes":10406,"size_tokens":null},"Player/Services/Interfaces/IFeedbackEmailService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface IFeedbackEmailService\n    {\n        Task SendEmail(string userEmail, string message);\n    }\n}\n","path":null,"size_bytes":157,"size_tokens":null},"Player/Popups/PlanBookingTimingPopup.cs":{"content":"using System;\nusing Microsoft.Maui.Handlers;\n\nnamespace Player.Popups;\n\npublic class PlanBookingTimingPopup : PopupPage\n{\n    public PlanBookingTimingPopup(PlanBookingViewModel viewModel)\n    {\n        Picker startTimePicker = new Picker { IsVisible = false }\n            .Bind(Picker.ItemsSourceProperty, nameof(viewModel.TimeList), source: viewModel)\n            .Bind(\n                Picker.SelectedItemProperty,\n                nameof(viewModel.SelectedStartTime),\n                source: viewModel\n            );\n\n        TapGestureRecognizer startTapGesture = new TapGestureRecognizer();\n        startTapGesture.Invoke(tapGesture =>\n            tapGesture.Tapped += (s, e) =>\n            {\n#if ANDROID\n                var handler = startTimePicker.Handler as IPickerHandler;\n                handler?.PlatformView.PerformClick();\n#endif\n                startTimePicker.Focus();\n            }\n        );\n\n        Picker endTimePicker = new Picker { IsVisible = false }\n            .Bind(Picker.ItemsSourceProperty, nameof(viewModel.TimeList), source: viewModel)\n            .Bind(\n                Picker.SelectedItemProperty,\n                nameof(viewModel.SelectedEndTime),\n                source: viewModel\n            );\n\n        TapGestureRecognizer endTapGesture = new TapGestureRecognizer();\n        endTapGesture.Invoke(tapGesture =>\n            tapGesture.Tapped += (s, e) =>\n            {\n#if ANDROID\n                var handler = endTimePicker.Handler as IPickerHandler;\n                handler?.PlatformView.PerformClick();\n#endif\n                endTimePicker.Focus();\n            }\n        );\n\n        Content = new Grid\n        {\n            ColumnDefinitions = Columns.Define((BodyColumn.first, Star), (BodyColumn.second, Star)),\n\n            RowDefinitions = Rows.Define(\n                (BodyRow.first, Auto),\n                (BodyRow.second, Auto),\n                (BodyRow.third, Auto),\n                (BodyRow.fourth, Auto),\n                (BodyRow.fifth, Auto),\n                (BodyRow.sixth, Auto),\n                (BodyRow.seventh, Auto)\n            ),\n            ColumnSpacing = 20,\n            Padding = new Thickness(20),\n\n            Children =\n            {\n                new Bold14Label { Text = \"Select time\" }\n                    .Margins(0, 20, 0, 0)\n                    .ColumnSpan(2)\n                    .Row(BodyRow.first),\n                new Border\n                {\n                    Background = Colors.Transparent,\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(8) },\n                    Padding = new Thickness(10),\n                    Content = new VerticalStackLayout\n                    {\n                        Children =\n                        {\n                            new Image { }\n                                .Bind(\n                                    Image.SourceProperty,\n                                    nameof(viewModel.MorningImage),\n                                    source: viewModel\n                                )\n                                .Center()\n                                .Margins(0, 0, 0, 0),\n                            new Medium8Label { Text = \"Morning\" }\n                                .Center()\n                                .Margins(0, 10, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.MorningTextColor),\n                                    source: viewModel\n                                ),\n                            new Medium8Label { Text = \"(5:00 - 12:00)\" }\n                                .Center()\n                                .Margins(0, 0, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.MorningTextColor),\n                                    source: viewModel\n                                ),\n                        },\n                    },\n                }\n                    .BindTapGesture(\n                        nameof(viewModel.MorningSelectedCommand),\n                        commandSource: viewModel\n                    )\n                    .Bind(\n                        Border.BackgroundProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) =>\n                            time == PlayerConstants.morning\n                                ? Color.FromArgb(\"#EF2F50\")\n                                : Colors.Transparent\n                    )\n                    .Bind(\n                        Border.StrokeThicknessProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) => time == PlayerConstants.morning ? 0 : 1\n                    )\n                    .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                    .Row(BodyRow.second)\n                    .Column(BodyColumn.first)\n                    .Margins(0, 10, 0, 0),\n                new Border\n                {\n                    Background = Colors.Transparent,\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(8) },\n                    StrokeThickness = 1,\n                    Padding = new Thickness(10),\n                    Content = new VerticalStackLayout\n                    {\n                        Children =\n                        {\n                            new Image { }\n                                .Bind(\n                                    Image.SourceProperty,\n                                    nameof(viewModel.AfternoonImage),\n                                    source: viewModel\n                                )\n                                .Center()\n                                .Margins(0, 0, 0, 0),\n                            new Medium8Label { Text = \"Afternoon\" }\n                                .Center()\n                                .Margins(0, 10, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.AfternoonTextColor),\n                                    source: viewModel\n                                ),\n                            new Medium8Label { Text = \"(12:00 - 16:00)\" }\n                                .Center()\n                                .Margins(0, 0, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.AfternoonTextColor),\n                                    source: viewModel\n                                ),\n                        },\n                    },\n                }\n                    .BindTapGesture(\n                        nameof(viewModel.AfternoonSelectedCommand),\n                        commandSource: viewModel\n                    )\n                    .Bind(\n                        Border.BackgroundProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) =>\n                            time == PlayerConstants.afternoon\n                                ? Color.FromArgb(\"#EF2F50\")\n                                : Colors.Transparent\n                    )\n                    .Bind(\n                        Border.StrokeThicknessProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) => time == PlayerConstants.afternoon ? 0 : 1\n                    )\n                    .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                    .Row(BodyRow.second)\n                    .Column(BodyColumn.second)\n                    .Margins(0, 10, 0, 0),\n                new Border\n                {\n                    Background = Colors.Transparent,\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(8) },\n                    StrokeThickness = 1,\n                    Padding = new Thickness(10),\n                    Content = new VerticalStackLayout\n                    {\n                        Children =\n                        {\n                            new Image { }\n                                .Bind(\n                                    Image.SourceProperty,\n                                    nameof(viewModel.EveningImage),\n                                    source: viewModel\n                                )\n                                .Center()\n                                .Margins(0, 0, 0, 0),\n                            new Medium8Label { Text = \"Evening\" }\n                                .Center()\n                                .Margins(0, 10, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.EveningTextColor),\n                                    source: viewModel\n                                ),\n                            new Medium8Label { Text = \"(16:00 - 23:00)\" }\n                                .Center()\n                                .Margins(0, 0, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.EveningTextColor),\n                                    source: viewModel\n                                ),\n                        },\n                    },\n                }\n                    .BindTapGesture(\n                        nameof(viewModel.EveningSelectedCommand),\n                        commandSource: viewModel\n                    )\n                    .Bind(\n                        Border.BackgroundProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) =>\n                            time == PlayerConstants.evening\n                                ? Color.FromArgb(\"#EF2F50\")\n                                : Colors.Transparent\n                    )\n                    .Bind(\n                        Border.StrokeThicknessProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) => time == PlayerConstants.evening ? 0 : 1\n                    )\n                    .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                    .Row(BodyRow.third)\n                    .Column(BodyColumn.first)\n                    .Margins(0, 10, 0, 0),\n                new Border\n                {\n                    Background = Colors.Transparent,\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(8) },\n                    StrokeThickness = 1,\n                    Padding = new Thickness(10),\n                    Content = new VerticalStackLayout\n                    {\n                        Children =\n                        {\n                            new Image { }\n                                .Bind(\n                                    Image.SourceProperty,\n                                    nameof(viewModel.NightImage),\n                                    source: viewModel\n                                )\n                                .Center()\n                                .Margins(0, 0, 0, 0),\n                            new Medium8Label { Text = \"Night\" }\n                                .Center()\n                                .Margins(0, 10, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.NightTextColor),\n                                    source: viewModel\n                                ),\n                            new Medium8Label { Text = \"(23:00 - 5:00)\" }\n                                .Center()\n                                .Margins(0, 0, 0, 0)\n                                .Bind(\n                                    Medium8Label.TextColorProperty,\n                                    nameof(viewModel.NightTextColor),\n                                    source: viewModel\n                                ),\n                        },\n                    },\n                }\n                    .BindTapGesture(\n                        nameof(viewModel.NightSelectedCommand),\n                        commandSource: viewModel\n                    )\n                    .Bind(\n                        Border.BackgroundProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) =>\n                            time == PlayerConstants.night\n                                ? Color.FromArgb(\"#EF2F50\")\n                                : Colors.Transparent\n                    )\n                    .Bind(\n                        Border.StrokeThicknessProperty,\n                        nameof(viewModel.Timing),\n                        source: viewModel,\n                        convert: (string? time) => time == PlayerConstants.night ? 0 : 1\n                    )\n                    .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                    .Row(BodyRow.third)\n                    .Column(BodyColumn.second)\n                    .Margins(0, 10, 0, 0),\n                new HorizontalStackLayout\n                {\n                    Spacing = 10,\n                    Children =\n                    {\n                        new CheckBox\n                        {\n                            Color = Color.FromArgb(\"#EF2F50\"),\n                            HorizontalOptions = LayoutOptions.Start,\n                        }.Bind(\n                            CheckBox.IsCheckedProperty,\n                            nameof(viewModel.IsSpecificTimeSelected),\n                            source: viewModel\n                        ),\n                        new Bold14Label\n                        {\n                            Text = \"Select specific time\",\n                            VerticalOptions = LayoutOptions.Center,\n                        },\n                    },\n                }\n                    .Margins(0, 30, 0, 0)\n                    .ColumnSpan(2)\n                    .Row(BodyRow.fourth),\n                new Border\n                {\n                    StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) },\n                    Stroke = Color.FromArgb(\"#828282\"),\n                    Background = Colors.Transparent,\n\n                    Content = new Grid\n                    {\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Star),\n                            (BodyColumn.second, Auto),\n                            (BodyColumn.third, Star)\n                        ),\n\n                        Children =\n                        {\n                            new VerticalStackLayout\n                            {\n                                Padding = new Thickness(0, 10, 0, 20),\n                                VerticalOptions = LayoutOptions.Start,\n                                HorizontalOptions = LayoutOptions.Center,\n                                Spacing = 7,\n                                Children =\n                                {\n                                    new Regular12Label\n                                    {\n                                        Text = \"Start Time\",\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    },\n                                    new SemiBold16Label\n                                    {\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    }.Bind(\n                                        SemiBold16Label.TextProperty,\n                                        nameof(viewModel.SelectedStartTime),\n                                        source: viewModel\n                                    ),\n                                    startTimePicker,\n                                },\n                            }\n                                .Invoke(vertical =>\n                                    vertical.GestureRecognizers.Add(startTapGesture)\n                                )\n                                .Column(BodyColumn.first),\n                            new Rectangle\n                            {\n                                Background = Color.FromArgb(\"4E4E4E\"),\n                                WidthRequest = 2,\n                                VerticalOptions = LayoutOptions.Fill,\n                            }.Column(BodyColumn.second),\n                            new VerticalStackLayout\n                            {\n                                Padding = new Thickness(0, 10, 0, 20),\n                                VerticalOptions = LayoutOptions.Start,\n                                HorizontalOptions = LayoutOptions.Center,\n                                Spacing = 7,\n                                Children =\n                                {\n                                    new Regular12Label\n                                    {\n                                        Text = \"End Time\",\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    },\n                                    new SemiBold16Label\n                                    {\n                                        HorizontalOptions = LayoutOptions.Center,\n                                    }.Bind(\n                                        SemiBold16Label.TextProperty,\n                                        nameof(viewModel.SelectedEndTime),\n                                        source: viewModel\n                                    ),\n                                },\n                            }\n                                .Invoke(vertical => vertical.GestureRecognizers.Add(endTapGesture))\n                                .Column(BodyColumn.third),\n                            endTimePicker,\n                        },\n                    },\n                }\n                    .Row(BodyRow.fifth)\n                    .ColumnSpan(2)\n                    .Margins(0, 10, 0, 0),\n                new Regular8Label { Text = \"*Selected time slot should not exceed 3 hours\" }\n                    .ColumnSpan(2)\n                    .Row(BodyRow.sixth),\n                new MediumButton\n                {\n                    Text = \"Done\",\n                    WidthRequest = 300,\n                    HorizontalOptions = LayoutOptions.Center,\n                }\n                    .Bind(\n                        Button.CommandProperty,\n                        nameof(viewModel.TimeSelectionCompleteCommand),\n                        source: viewModel\n                    )\n                    .Column(BodyColumn.first)\n                    .ColumnSpan(2)\n                    .Row(BodyRow.seventh)\n                    .Margins(0, 30, 0, 0),\n            },\n        }.AppThemeBinding(Grid.BackgroundProperty, Colors.White, Colors.Black);\n    }\n}\n","path":null,"size_bytes":19552,"size_tokens":null},"Player/ViewModels/LearnViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class LearnViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string? userName;\n\n        [ObservableProperty]\n        int selectedIndex;\n\n        [ObservableProperty]\n        ObservableCollection<LearningContent>? contentList;\n\n        [ObservableProperty]\n        ObservableCollection<LearningContent>? filteredContentList;\n\n        readonly IRealmService realmService;\n        readonly INavigationService navigationService;\n        readonly ILauncher launcher;\n        readonly IBrowser browser;\n\n        VenueUser? Player;\n        Realm realm;\n\n        public LearnViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            ILauncher launcher,\n            IConnectivity connectivity,\n            IBrowser browser\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.launcher = launcher;\n                this.browser = browser;\n\n                ContentList = new ObservableCollection<LearningContent>();\n                FilteredContentList = new ObservableCollection<LearningContent>();\n\n                realm = Realm.GetInstance(realmService.Config);\n                VenueUser? Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                FilteredContentList = new ObservableCollection<LearningContent>();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                UserName = Player?.FirstName;\n                PlayerImage = Player?.ProfileImage;\n                ContentList = realm.All<LearningContent>().ToObservableCollection();\n\n                FilteredContentList = new ObservableCollection<LearningContent>(\n                    ContentList.Where(n => n.GameCategory == \"Pickleball\")\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        partial void OnSelectedIndexChanged(int oldValue, int newValue)\n        {\n            try\n            {\n                if (oldValue == newValue)\n                    if (ContentList.Count == 0)\n                    {\n                        return;\n                    }\n                FilteredContentList.Clear();\n                if (SelectedIndex == 0)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Pickleball\")\n                    );\n                }\n                else if (SelectedIndex == 1)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Badminton\")\n                    );\n                }\n                else if (SelectedIndex == 2)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Volleyball\")\n                    );\n                }\n                else if (SelectedIndex == 3)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Basketball\")\n                    );\n                }\n                else if (SelectedIndex == 4)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Archery\")\n                    );\n                }\n                else if (SelectedIndex == 5)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Bowling\")\n                    );\n                }\n                else if (SelectedIndex == 6)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Golf\")\n                    );\n                }\n                else if (SelectedIndex == 7)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Escaperoom\")\n                    );\n                }\n                else if (SelectedIndex == 8)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Karting\")\n                    );\n                }\n                else if (SelectedIndex == 9)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Snooker\")\n                    );\n                }\n                else if (SelectedIndex == 10)\n                {\n                    FilteredContentList = new ObservableCollection<LearningContent>(\n                        ContentList.Where(n => n.GameCategory == \"Table tennis\")\n                    );\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        [RelayCommand]\n        async Task ShowContent(LearningContent content)\n        {\n            try\n            {\n                if (content.Type == \"Video\")\n                {\n                    await launcher.OpenAsync(content.Content);\n                }\n                else if (content.Type == \"Article\")\n                {\n                    await launcher.OpenAsync(content.Content);\n\n                    //BrowserLaunchOptions browserLaunchOptions = new BrowserLaunchOptions\n                    //{\n                    //    PreferredToolbarColor = Color.FromArgb(\"#EF2F50\"),\n                    //    PreferredControlColor = Color.FromArgb(\"#EF2F50\"),\n                    //    LaunchMode = BrowserLaunchMode.SystemPreferred,\n                    //    TitleMode = BrowserTitleMode.Show,\n                    //    Flags = BrowserLaunchFlags.None\n                    //};\n                    //await browser.OpenAsync(content.Content, browserLaunchOptions);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":7339,"size_tokens":null},"Player/ViewModels/Account/NewAgeAndInterestViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class NewAgeAndInterestViewModel : AccountBaseViewModel\n    {\n        [ObservableProperty]\n        List<AgeGroup> allAgeGroups;\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Age group not selected\")]\n        AgeGroup? selectedAgeGroup;\n\n        [ObservableProperty]\n        string selectedAgeGroupError = string.Empty;\n\n        [ObservableProperty]\n        List<FavouriteGame> allGames;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Atleast 1 interest is required\")]\n        ObservableCollection<object>? selectedGames;\n\n        [ObservableProperty]\n        string selectedGamesError = string.Empty;\n\n        Realm? realmInstance;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly IPopupNavigation popupNavigation;\n        private readonly IAppStaticData appStaticData;\n\n        public NewAgeAndInterestViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            IAppStaticData appStaticData,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.popupNavigation = popupNavigation;\n            this.appStaticData = appStaticData;\n\n            SelectedGames = new ObservableCollection<object>();\n            AllAgeGroups = new List<AgeGroup>();\n            AllGames = new List<FavouriteGame>();\n        }\n\n        public async Task InitializeAsync()\n        {\n            try\n            {\n                AllAgeGroups = await appStaticData.GetAgeGroupsForUser();\n                AllGames = await appStaticData.GetGamesForUser();\n\n                realmInstance = Realm.GetInstance(realmService.Config);\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task AgeGroupSelected()\n        {\n            try\n            {\n                if (SelectedAgeGroup != null)\n                {\n                    AllAgeGroups.ForEach(ageGroup => ageGroup.IsSelected = false);\n                    SelectedAgeGroup.IsSelected = true;\n                    SelectedAgeGroupError = \"\";\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private void InterestSelected()\n        {\n            try\n            {\n                AllGames.ForEach(game => game.IsSelected = false);\n                if (SelectedGames.Any())\n                {\n                    SelectedGamesError = \"\";\n                    foreach (FavouriteGame favouriteGame in SelectedGames.Cast<FavouriteGame>())\n                    {\n                        favouriteGame.IsSelected = true;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case nameof(SelectedAgeGroup):\n                        SelectedAgeGroupError = errorMessage;\n                        break;\n                    case nameof(SelectedGames):\n                        SelectedGamesError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Save()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult result in propertyErrors)\n                        {\n                            if (result.ErrorMessage != null)\n                            {\n                                SetErrorValue(result.MemberNames.ElementAt(0), result.ErrorMessage);\n                            }\n                            else\n                            {\n                                SetErrorValue(result.MemberNames.ElementAt(0), \"error\");\n                            }\n                        }\n                    }\n                }\n                else\n                {\n                    await CreateUserProfile();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task CreateUserProfile()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                VenueUser? AppUser = realmInstance\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                await realmInstance.WriteAsync(() =>\n                {\n                    AppUser.AgeGroup = SelectedAgeGroup?.AgeGroupName;\n                    foreach (FavouriteGame game in SelectedGames.Cast<FavouriteGame>())\n                    {\n                        AppUser.FavouriteGames.Add(game.GameName);\n                    }\n                });\n\n                await navigationService.NavigateToAsync(\"///LoggedInBar\");\n\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6423,"size_tokens":null},"Player/Models/Chat/ParticipantCreateResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class ParticipantCreateResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"username\")]\n    public string? UserName { get; set; }\n\n    [JsonPropertyName(\"message\")]\n    public string? Message { get; set; }\n}\n","path":null,"size_bytes":314,"size_tokens":null},"Player/ViewModels/Account/EditProfileViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account;\n\npublic partial class EditProfileViewModel : AccountBaseViewModel\n{\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    [ObservableProperty]\n    List<Province>? allProvinces;\n\n    [ObservableProperty]\n    [Required(ErrorMessage = \"Province is Empty\")]\n    Province? selectedProvince;\n\n    [ObservableProperty]\n    ObservableCollection<City>? cities;\n\n    [ObservableProperty]\n    [Required(ErrorMessage = \"City is Empty\")]\n    City? selectedCity;\n\n    [ObservableProperty]\n    [Required(ErrorMessage = \"First name is Empty\")]\n    string firstName = String.Empty;\n\n    [ObservableProperty]\n    [Required(ErrorMessage = \"Last name is Empty\")]\n    string lastName = string.Empty;\n\n    [ObservableProperty]\n    string firstNameError = string.Empty;\n\n    [ObservableProperty]\n    string lastNameError = string.Empty;\n\n    [ObservableProperty]\n    string provinceError = string.Empty;\n\n    [ObservableProperty]\n    string cityError = string.Empty;\n\n    private readonly CountryPopup? countryPopup;\n\n    VenueUser? thisPlayer;\n\n    Realm? realmInstance;\n\n    private readonly INavigationService? navigationService;\n    private readonly IRealmService? realmService;\n    private readonly IConnectivity? connectivity;\n    private readonly IImageService? imageService;\n    private readonly IPopupNavigation? popupNavigation;\n\n    public EditProfileViewModel(\n        INavigationService navigationService,\n        IRealmService realmService,\n        IConnectivity connectivity,\n        ISettingsService settingsService,\n        IImageService imageService,\n        IPopupNavigation? popupNavigation\n    )\n        : base(navigationService, connectivity, settingsService)\n    {\n        try\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.imageService = imageService;\n            this.popupNavigation = popupNavigation;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    public async Task InitializeAsync()\n    {\n        realmInstance = Realm.GetInstance(realmService.Config);\n        AllProvinces = realmInstance.All<Province>().ToList();\n        thisPlayer = realmInstance\n            .All<VenueUser>()\n            .Where(n => n.OwnerId == realmService.RealmUser.Id)\n            .FirstOrDefault();\n        SelectedProvince = AllProvinces?.FirstOrDefault(p =>\n            p.ProvinceName == thisPlayer.Address.Province\n        );\n        Cities = SelectedProvince.Cities.OrderBy(c => c.CityName).ToObservableCollection();\n        SelectedCity = Cities?.FirstOrDefault(c => c.CityName == thisPlayer.Address.City);\n        FirstName = thisPlayer.FirstName;\n        LastName = thisPlayer.LastName;\n        PlayerImage = thisPlayer.ProfileImage;\n    }\n\n    protected override void OnPropertyChanged(PropertyChangedEventArgs e)\n    {\n        try\n        {\n            base.OnPropertyChanged(e);\n            if (e.PropertyName.Contains(\"Error\"))\n                return;\n            ClearErrors(e.PropertyName);\n            ValidateAllProperties();\n            IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n            if (propertyErrors.Any())\n            {\n                string? errorMessage = propertyErrors.FirstOrDefault()?.ErrorMessage ?? \"error\";\n                SetErrorValue(e.PropertyName, errorMessage);\n            }\n            else\n            {\n                string errorMessage = string.Empty;\n                SetErrorValue(e.PropertyName, errorMessage);\n            }\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private void SetErrorValue(string propertyName, string errorMessage)\n    {\n        try\n        {\n            switch (propertyName)\n            {\n                case nameof(FirstName):\n                    FirstNameError = errorMessage;\n                    break;\n                case nameof(LastName):\n                    LastNameError = errorMessage;\n                    break;\n                case nameof(SelectedProvince):\n                    ProvinceError = errorMessage;\n                    break;\n                case nameof(SelectedCity):\n                    CityError = errorMessage;\n                    break;\n                default:\n                    break;\n            }\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task AddImage()\n    {\n        try\n        {\n            if (imageService == null)\n            {\n                throw new NullReferenceException(nameof(imageService));\n            }\n            else\n            {\n                Dictionary<string, object>? imageResult = await imageService.PickImageAsync();\n\n                if (imageResult != null)\n                {\n                    byte[]? imageBytes = (byte[])imageResult[\"image\"];\n                    if (imageBytes != null)\n                    {\n                        PlayerImage = imageBytes;\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Save()\n    {\n        try\n        {\n            ValidateAllProperties();\n            if (HasErrors)\n            {\n                IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                if (propertyErrors.Any())\n                {\n                    foreach (ValidationResult result in propertyErrors)\n                    {\n                        SetErrorValue(result.MemberNames.ElementAt(0), result.ErrorMessage);\n                    }\n                }\n            }\n            else\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n\n                realmInstance = Realm.GetInstance(realmInstance.Config);\n\n                await realmInstance.WriteAsync(() =>\n                {\n                    thisPlayer.FirstName = FirstName;\n                    thisPlayer.LastName = LastName;\n                    thisPlayer.Address.Province = SelectedProvince.ProvinceName;\n                    thisPlayer.Address.City = SelectedCity.CityName;\n                    if (PlayerImage != null)\n                    {\n                        thisPlayer.ProfileImage = PlayerImage;\n                    }\n                });\n\n                await navigationService.PopAsync();\n\n                await popupNavigation.PopAsync();\n\n                realmInstance.Dispose();\n            }\n        }\n        catch (Exception ex)\n        {\n            await popupNavigation.PopAsync();\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Cancel()\n    {\n        await navigationService.PopAsync();\n    }\n}\n","path":null,"size_bytes":7023,"size_tokens":null},"Player/Views/LoadDataView.cs":{"content":"namespace Player.Views;\n\npublic class LoadDataView : ContentPage\n{\n    int count = 0;\n\n    public LoadDataView(LoadDataViewModel viewModel)\n    {\n        this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n\n        Content = new VerticalStackLayout\n        {\n            WidthRequest = 300,\n            VerticalOptions = LayoutOptions.Center,\n            HorizontalOptions = LayoutOptions.Center,\n            Spacing = 30,\n            Children =\n            {\n                new ActivityIndicator\n                {\n                    WidthRequest = 100,\n                    HeightRequest = 100,\n                    Color = Color.FromArgb(\"#EF2F50\"),\n                    IsRunning = true,\n                    IsVisible = true,\n                },\n                new Regular18Label\n                {\n                    Text = \"Loading Data...\",\n                    HorizontalOptions = LayoutOptions.Center,\n                },\n            },\n        };\n\n        BindingContext = viewModel;\n\n        Loaded += async (sender, args) =>\n        {\n            // the loaded event is fired twice on iOS. Thus the count variable is used to limit the execution of the method to just once\n            count++;\n            if (count == 1)\n            {\n                await viewModel.LoadData();\n            }\n        };\n    }\n}\n","path":null,"size_bytes":1350,"size_tokens":null},"Player/ViewModels/Connect/ReviewGameBeforeApplyingViewModel.cs":{"content":"namespace Player.ViewModels.Connect;\n\npublic partial class ReviewGameBeforeApplyingViewModel : BaseViewModel, IQueryAttributable\n{\n    [ObservableProperty]\n    PlannedBooking selectedBooking;\n\n    [NotifyPropertyChangedFor(nameof(ApplicantMessageLength))]\n    [ObservableProperty]\n    string? applicantMessage;\n\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    public string? ApplicantMessageLength => (ApplicantMessage?.Length ?? 0).ToString();\n\n    Realm realm;\n\n    private readonly INavigationService navigationService;\n    private readonly IRealmService realmService;\n    private readonly IConnectivity connectivity;\n\n    public ReviewGameBeforeApplyingViewModel(\n        INavigationService navigationService,\n        IRealmService realmService,\n        IConnectivity connectivity\n    )\n        : base(navigationService, realmService, connectivity)\n    {\n        try\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n\n            realm = Realm.GetInstance(realmService.Config);\n\n            VenueUser? Player = realm\n                .All<VenueUser>()\n                .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n            PlayerImage = Player?.ProfileImage;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    public async void ApplyQueryAttributes(IDictionary<string, object> query)\n    {\n        try\n        {\n            if (query.TryGetValue(\"Id\", out object? id))\n            {\n                if (id != null)\n                {\n                    ObjectId Id = ObjectId.Parse(id.ToString());\n                    SelectedBooking = realm.Find<PlannedBooking>(Id);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Apply()\n    {\n        try\n        {\n            VenueUser? applicant = realm\n                .All<VenueUser>()\n                .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n            JoinRequest request = new JoinRequest\n            {\n                AppliedBy = applicant,\n                ApplicantMessage = ApplicantMessage,\n                IsApproved = false,\n            };\n            await realm.WriteAsync(() =>\n            {\n                SelectedBooking.JoinRequests.Add(request);\n            });\n\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n\n    [RelayCommand]\n    async Task Cancel()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":3019,"size_tokens":null},"Admin/View/BaseView.cs":{"content":"namespace Admin.View\n{\n    public class BaseView : ContentPage\n    {\n        public BaseView(BaseViewModel viewModel)\n        {\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n\n            BindingContext = viewModel;\n        }\n    }\n}\n","path":null,"size_bytes":356,"size_tokens":null},"Player/ViewModels/Connect/JoinRequestsViewModel.cs":{"content":"namespace Player.ViewModels.Connect;\n\npublic partial class JoinRequestsViewModel : BaseViewModel, IQueryAttributable\n{\n    [ObservableProperty]\n    public PlannedBooking? futureBooking;\n\n    [ObservableProperty]\n    public Booking? purchasedBooking;\n\n    [ObservableProperty]\n    ObservableCollection<JoinRequest>? acceptedRequests;\n\n    [ObservableProperty]\n    ObservableCollection<JoinRequest>? appliedRequests;\n\n    [ObservableProperty]\n    string? venueName;\n\n    [ObservableProperty]\n    string? bookingInformation;\n\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    VenueUser player;\n\n    Realm realm;\n\n    private readonly INavigationService navigationService;\n    private readonly IRealmService realmService;\n    private readonly IConnectivity connectivity;\n\n    private readonly IChatService chatService;\n\n    public JoinRequestsViewModel(\n        INavigationService navigationService,\n        IRealmService realmService,\n        IConnectivity connectivity,\n        IChatService chatService\n    )\n        : base(navigationService, realmService, connectivity)\n    {\n        this.navigationService = navigationService;\n        this.realmService = realmService;\n        this.connectivity = connectivity;\n        this.chatService = chatService;\n\n        AppliedRequests = new ObservableCollection<JoinRequest>();\n        AcceptedRequests = new ObservableCollection<JoinRequest>();\n\n        realm = Realm.GetInstance(realmService.Config);\n        player = realm.All<VenueUser>().First(x => x.OwnerId == realmService.RealmUser.Id);\n    }\n\n    public async void ApplyQueryAttributes(IDictionary<string, object> query)\n    {\n        try\n        {\n            if (query.TryGetValue(\"plannedBookingId\", out object? id))\n            {\n                if (id != null)\n                {\n                    ObjectId objectId = ObjectId.Parse(id.ToString());\n                    FutureBooking = realm.Find<PlannedBooking>(objectId);\n                    await Initialize();\n                }\n            }\n            if (query.TryGetValue(\"purchasedBookingId\", out object? bookingId))\n            {\n                if (bookingId != null)\n                {\n                    ObjectId objectId = ObjectId.Parse(bookingId.ToString());\n                    PurchasedBooking = realm.Find<Booking>(objectId);\n                    await Initialize();\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    public async Task Initialize()\n    {\n        try\n        {\n            if (FutureBooking == null)\n            {\n                FutureBooking = realm.Find<PlannedBooking>(\n                    PurchasedBooking.ConnectedPlannedBooking.Id\n                );\n            }\n            if (FutureBooking != null)\n            {\n                foreach (JoinRequest request in FutureBooking.JoinRequests)\n                {\n                    if (request.IsApproved == true)\n                    {\n                        AcceptedRequests.Add(request);\n                    }\n                    else\n                    {\n                        AppliedRequests.Add(request);\n                    }\n                }\n            }\n\n            if (player != null)\n            {\n                PlayerImage = player.ProfileImage;\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    public async Task UpdateJoinRequests(JoinRequest joinRequest)\n    {\n        try\n        {\n            bool isApproved;\n            if (joinRequest.IsApproved)\n            {\n                isApproved = await Shell.Current.DisplayAlert(\n                    \"Remove Request\",\n                    \"Do you want to remove this request?\",\n                    \"Yes\",\n                    \"No\"\n                );\n            }\n            else\n            {\n                // the host can only approve the number of players required for the booking -1 as the host is already included in the booking\n                if (AcceptedRequests.Count == FutureBooking.NumberOfPlayers - 1)\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Alert\",\n                        \"You have reached the maximum number of players\",\n                        \"OK\"\n                    );\n                    return;\n                }\n                isApproved = await Shell.Current.DisplayAlert(\n                    \"Approve Request\",\n                    \"Do you want to approve this request?\",\n                    \"Yes\",\n                    \"No\"\n                );\n            }\n            if (isApproved)\n            {\n                await realm.WriteAsync(() =>\n                {\n                    // if the planned booking is connected with the Purchased booking the user is removed from the joinedPlayers of the purchased booking\n                    if (PurchasedBooking != null)\n                    {\n                        VenueUser user = realm\n                            .All<VenueUser>()\n                            .First(x => x.OwnerId == joinRequest.AppliedBy.OwnerId);\n                        if (joinRequest.IsApproved)\n                        {\n                            PurchasedBooking.JoinedPlayers.Remove(joinRequest.AppliedBy);\n                        }\n                    }\n\n                    joinRequest.IsApproved = !joinRequest.IsApproved;\n                });\n\n                AcceptedRequests.Clear();\n                AppliedRequests.Clear();\n                foreach (JoinRequest request in FutureBooking.JoinRequests)\n                {\n                    if (request.IsApproved == true)\n                    {\n                        AcceptedRequests.Add(request);\n                    }\n                    else\n                    {\n                        AppliedRequests.Add(request);\n                    }\n                }\n\n                await UpdateConversation(joinRequest);\n            }\n            else\n            {\n                await realm.WriteAsync(() =>\n                {\n                    joinRequest.IsApproved = joinRequest.IsApproved;\n                });\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// the request is deleted from the planned booking and the if the planned booking is connected to a purchased booking, the user is also removed from the joinedPlayers of the purchased booking\n    /// </summary>\n    /// <param name=\"joinRequest\"></param>\n    /// <returns></returns>\n    [RelayCommand]\n    public async Task DeleteRequest(JoinRequest joinRequest)\n    {\n        try\n        {\n            bool isApproved = await Shell.Current.DisplayAlert(\n                \"Delete Request\",\n                \"Do you want to delete this request?\",\n                \"Yes\",\n                \"No\"\n            );\n            if (isApproved)\n            {\n                await realm.WriteAsync(() =>\n                {\n                    // if the planned booking is connected to a purchased booking, the user is removed from the purchased booking\n                    if (PurchasedBooking != null)\n                    {\n                        VenueUser user = realm\n                            .All<VenueUser>()\n                            .First(x => x.OwnerId == joinRequest.AppliedBy.OwnerId);\n\n                        PurchasedBooking.JoinedPlayers.Remove(joinRequest.AppliedBy);\n                    }\n                    FutureBooking.JoinRequests.Remove(joinRequest);\n                });\n                await Initialize();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// A new conversation is created whenever a new user is added to the group. the conversation Id is added to the Planned Booking\n    /// </summary>\n    /// <param name=\"joinRequest\"></param>\n    /// <returns></returns>\n    private async Task UpdateConversation(JoinRequest joinRequest)\n    {\n        try\n        {\n            if (joinRequest.IsApproved)\n            {\n                if (string.IsNullOrWhiteSpace(FutureBooking.ConversationId))\n                {\n                    string conversationId = string.Empty;\n                    // string acceptedUserNames= string.Join(\",\", AcceptedRequests.Select(x=> x.AppliedBy.Email).ToList());\n                    ConversationCreateResponse? response =\n                        await chatService.CreateGroupConversation(\n                            player.Email,\n                            joinRequest.AppliedBy.Email\n                        );\n                    if (string.IsNullOrWhiteSpace(response?.Error))\n                    {\n                        conversationId = response?.ConversationId;\n                        await realm.WriteAsync(() =>\n                        {\n                            FutureBooking.ConversationId = conversationId;\n                        });\n                    }\n                }\n                else\n                {\n                    AddRemoveUserResponse? response = await chatService.AddConversationUsers(\n                        FutureBooking.ConversationId,\n                        player.Email,\n                        joinRequest.AppliedBy.Email\n                    );\n                    if (!string.IsNullOrWhiteSpace(response?.Error))\n                    {\n                        await Shell.Current.DisplayAlert(\"Failure\", \"try after some time\", \"OK\");\n                    }\n                }\n            }\n            else\n            {\n                AddRemoveUserResponse? response = await chatService.RemoveConversationUser(\n                    FutureBooking.ConversationId,\n                    player.Email,\n                    joinRequest.AppliedBy.Email\n                );\n                if (!string.IsNullOrWhiteSpace(response?.Error))\n                {\n                    await Shell.Current.DisplayAlert(\"Failure\", \"try after some time\", \"OK\");\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task NavigateBack()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":10627,"size_tokens":null},"Player/CustomControls/Entries/BorderedEntry.cs":{"content":"namespace Player.CustomControls.Entries;\n\npublic class BorderedEntry : Border\n{\n    public static readonly BindableProperty EntryTextProperty = BindableProperty.Create(\n        nameof(EntryText),\n        typeof(string),\n        typeof(BorderedEntry),\n        string.Empty,\n        BindingMode.TwoWay,\n        propertyChanged: EntryTextPropetyChanged\n    );\n\n    private static void EntryTextPropetyChanged(\n        BindableObject bindable,\n        object oldValue,\n        object newValue\n    )\n    {\n        BorderedEntry control = (BorderedEntry)bindable;\n        if (control != null)\n        {\n            control.entry.Text = newValue?.ToString();\n        }\n    }\n\n    public string EntryText\n    {\n        get => (string)GetValue(EntryTextProperty);\n        set => SetValue(EntryTextProperty, value);\n    }\n\n    public static readonly BindableProperty PlaceholderTextProperty = BindableProperty.Create(\n        nameof(PlaceholderText),\n        typeof(string),\n        typeof(BorderedEntry),\n        string.Empty,\n        BindingMode.OneTime,\n        propertyChanged: PlaceholderTextPropetyChanged\n    );\n\n    private static void PlaceholderTextPropetyChanged(\n        BindableObject bindable,\n        object oldValue,\n        object newValue\n    )\n    {\n        BorderedEntry control = (BorderedEntry)bindable;\n        if (control != null)\n        {\n            control.entry.Placeholder = newValue?.ToString();\n        }\n    }\n\n    public string PlaceholderText\n    {\n        get => (string)GetValue(PlaceholderTextProperty);\n        set => SetValue(PlaceholderTextProperty, value);\n    }\n\n    public CustomEntry entry;\n\n    public BorderedEntry()\n    {\n        try\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) };\n#if IOS\n            Padding = new Thickness(10);\n#elif ANDROID\n            Padding = new Thickness(10, 5);\n#endif\n            Stroke = Brush.Black;\n\n            this.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#23262A\")\n            );\n\n            entry = new CustomEntry { }.Bind(\n                CustomEntry.TextProperty,\n                nameof(EntryText),\n                BindingMode.TwoWay,\n                source: this\n            );\n\n            Content = entry;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":2482,"size_tokens":null},"Player/ViewModels/Account/ForgotPasswordViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class ForgotPasswordViewModel : AccountBaseViewModel\n    {\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        [ObservableProperty]\n        string email = String.Empty;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmNewPassword))]\n        string newPassword = String.Empty;\n\n        string confirmNewPassword = String.Empty;\n\n        [Required]\n        [Compare(nameof(NewPassword), ErrorMessage = \"Passwords do not match\")]\n        public string ConfirmNewPassword\n        {\n            get => confirmNewPassword;\n            set => SetProperty(ref confirmNewPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string newPasswordError = string.Empty;\n\n        [ObservableProperty]\n        string confirmNewPasswordError = string.Empty;\n\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n\n        public ForgotPasswordViewModel(\n            IRealmService realmService,\n            IConnectivity connectivity,\n            INavigationService navigationService,\n            ISettingsService settingsService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.navigationService = navigationService;\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == null)\n                {\n                    return;\n                }\n                if (e.PropertyName.Contains(\"Error\") || e.PropertyName == \"VisibilityImage\")\n                {\n                    return;\n                }\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string? errorMessage = propertyErrors.First().ErrorMessage;\n                    if (errorMessage != null)\n                        SetErrorValue(e.PropertyName, errorMessage);\n                    else\n                        SetErrorValue(e.PropertyName, \"error\");\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"Email\":\n                        EmailError = errorMessage;\n                        break;\n                    case \"NewPassword\":\n                        NewPasswordError = errorMessage;\n                        break;\n                    case \"ConfirmNewPassword\":\n                        ConfirmNewPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ResetPassword()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult validationResult in propertyErrors)\n                        {\n                            if (validationResult.ErrorMessage != null)\n                                SetErrorValue(\n                                    validationResult.MemberNames.ElementAt(0),\n                                    validationResult.ErrorMessage\n                                );\n                            else\n                                SetErrorValue(validationResult.MemberNames.ElementAt(0), \"error\");\n                        }\n                        return;\n                    }\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await navigationService.NavigateToAsync(\n                    nameof(VerifyEmailForPasswordResetView),\n                    new ShellNavigationQueryParameters\n                    {\n                        { \"Email\", Email },\n                        { \"NewPassword\", NewPassword },\n                    }\n                );\n\n                Email = string.Empty;\n                NewPassword = string.Empty;\n                ConfirmNewPassword = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task CancelPasswordReset()\n        {\n            await navigationService.PopAsync();\n            Email = string.Empty;\n            NewPassword = string.Empty;\n            ConfirmNewPassword = string.Empty;\n        }\n\n        [RelayCommand]\n        async Task SignIn()\n        {\n            await navigationService.NavigateToAsync($\"///{nameof(LoginView)}\");\n            Email = string.Empty;\n            NewPassword = string.Empty;\n            ConfirmNewPassword = string.Empty;\n        }\n    }\n}\n","path":null,"size_bytes":6344,"size_tokens":null},"Player/Views/FeedbackEmailView.cs":{"content":"namespace Player.Views;\n\npublic class FeedbackEmailView : BaseView\n{\n    public FeedbackEmailView(FeedbackEmailViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.AppThemeBinding(ContentPage.BackgroundProperty, Colors.White, Colors.Black);\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.NavigateBackCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new VerticalStackLayout\n                {\n                    Margin = new Thickness(29, 10, 29, 0),\n                    Children =\n                    {\n                        new Bold28Label { Text = \"Contact Us\" },\n                        new Bold10Label\n                        {\n                            Text = \"usual response time is 24-48 hours\",\n                            TextColor = Color.FromArgb(\"#A2A2A2\"),\n                        }.Margins(0, 10, 0, 0),\n                        new Border\n                        {\n                            StrokeThickness = .5,\n                            StrokeShape = new RoundRectangle\n                            {\n                                CornerRadius = new CornerRadius(22),\n                            },\n                            Padding = new Thickness(0),\n                            Background = Colors.Transparent,\n                            Content = new Editor\n                            {\n                                AutoSize = EditorAutoSizeOption.TextChanges,\n                                HeightRequest = 260,\n                                MaxLength = 1000,\n                                FontSize = 14,\n                                FontFamily = \"InterRegular\",\n                            }\n                                .AppThemeBinding(\n                                    Editor.TextColorProperty,\n                                    Colors.Black,\n                                    Colors.White\n                                )\n                                .Bind(Editor.TextProperty, nameof(viewModel.Message))\n                                .Margin(5),\n                        }\n                            .AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White)\n                            .Margins(0, 40, 0, 0),\n                        new MediumButton { Text = \"SUBMIT\" }\n                            .BindCommand(nameof(viewModel.SendEmailCommand))\n                            .Margins(0, 38, 0, 0),\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n    }\n}\n","path":null,"size_bytes":3158,"size_tokens":null},"Player/Services/Implementations/ImageService.cs":{"content":"﻿using Amazon;\nusing Amazon.Runtime;\nusing Amazon.S3;\nusing Amazon.S3.Model;\n\nnamespace Dome.Player.Services.Implementations\n{\n    public class ImageService : IImageService\n    {\n        readonly string? bucketName;\n        readonly string? accessKey;\n        readonly string? secretAccessKey;\n        readonly string region = \"ca-central-1\";\n\n        readonly IAmazonS3 s3Client;\n        private readonly IMediaPicker? mediaPicker;\n        private readonly IFileSystem? fileSystem;\n\n        public ImageService(\n            IMediaPicker mediaPicker,\n            ISecretsService secretsService,\n            IFileSystem fileSystem\n        )\n        {\n            this.mediaPicker = mediaPicker;\n            this.fileSystem = fileSystem;\n            bucketName = secretsService?.AWSS3BucketName;\n            accessKey = secretsService?.AWSS3AccessKey;\n            secretAccessKey = secretsService?.AWSS3SecretAccessKey;\n\n            var credentials = new BasicAWSCredentials(accessKey, secretAccessKey);\n            var config = new AmazonS3Config\n            {\n                RegionEndpoint = RegionEndpoint.CACentral1,\n                ServiceURL = \"https://s3.ca-central-1.amazonaws.com\",\n            };\n\n            this.s3Client = new AmazonS3Client(credentials, config);\n        }\n\n        public async Task UploadImageToAWSS3Async(byte[] imageBytes, string imageName)\n        {\n            // convert byte[] to Stream\n            using MemoryStream photoStream = new MemoryStream(imageBytes);\n            // get the file extension\n            string extension = System.IO.Path.GetExtension(imageName);\n\n            string type = string.Empty;\n            if (extension == \".jpeg\" || extension == \".jpg\")\n            {\n                type = \"image/jpeg\";\n            }\n            else if (extension == \".png\")\n            {\n                type = \"image/png\";\n            }\n            else if (extension == \".gif\")\n            {\n                type = \"image/gif\";\n            }\n            else if (extension == \".bmp\")\n            {\n                type = \"image/bmp\";\n            }\n\n            var request = new PutObjectRequest\n            {\n                BucketName = bucketName,\n                Key = imageName,\n                InputStream = photoStream,\n                ContentType = type,\n            };\n\n            await s3Client.PutObjectAsync(request);\n        }\n\n        public async Task DownloadImageFromAWSS3Async(string imageName)\n        {\n            var path = fileSystem?.AppDataDirectory;\n            var fullPath = System.IO.Path.Combine(path, imageName);\n\n            var request = new GetObjectRequest { BucketName = bucketName, Key = imageName };\n\n            await Task.Run(async () =>\n            {\n                using GetObjectResponse? response = await s3Client.GetObjectAsync(request);\n                using Stream? responseStream = response.ResponseStream;\n                MemoryStream memoryStream = new MemoryStream();\n                responseStream.CopyTo(memoryStream);\n                memoryStream.Position = 0;\n\n                await File.WriteAllBytesAsync(fullPath, memoryStream.ToArray());\n            });\n        }\n\n        public async Task<byte[]?> GetImageFromLocalStorageAsync(string imageName)\n        {\n            var path = fileSystem?.AppDataDirectory;\n            var fullPath = System.IO.Path.Combine(path, imageName);\n            bool exists = File.Exists(fullPath);\n            if (!exists)\n            {\n                return null;\n            }\n            byte[] imageBytes = await File.ReadAllBytesAsync(fullPath);\n\n            if (imageBytes != null)\n            {\n                return imageBytes;\n            }\n\n            return null;\n        }\n\n        public async Task DeleteImageFromAWSS3Async(string imageName)\n        {\n            var request = new DeleteObjectRequest { BucketName = bucketName, Key = imageName };\n\n            await s3Client.DeleteObjectAsync(request);\n        }\n\n        public async Task<Dictionary<string, object>?> PickImageAsync()\n        {\n            byte[]? selectedImage = null;\n\n            FileResult fileResult = await mediaPicker.PickPhotoAsync(\n                new MediaPickerOptions { Title = \"Please pick a photo\" }\n            );\n\n            if (fileResult != null)\n            {\n                using Stream photoStream = await fileResult.OpenReadAsync();\n\n                if (photoStream != null)\n                {\n                    using MemoryStream memoryStream = new MemoryStream();\n                    photoStream.CopyTo(memoryStream);\n                    memoryStream.Position = 0;\n                    photoStream.Position = 0;\n                    selectedImage = memoryStream.ToArray();\n                    string extension = System.IO.Path.GetExtension(fileResult.FileName);\n                    return new Dictionary<string, object>\n                    {\n                        { \"image\", selectedImage },\n                        { \"extension\", extension },\n                    };\n                }\n            }\n\n            return null;\n        }\n    }\n}\n","path":null,"size_bytes":5093,"size_tokens":null},"Dome.Shared/Synced/LearningContent.cs":{"content":"﻿namespace Dome.Shared.Synced\n{\n    public partial class LearningContent : IRealmObject\n    {\n        private LearningContent() { }\n\n        public LearningContent(\n            ObjectId id,\n            string type,\n            string title,\n            string description,\n            string content,\n            DateTimeOffset created,\n            string publishedBy,\n            string gameCategory\n        )\n        {\n            Id = id;\n            Type = type;\n            Title = title;\n            Description = description;\n            Content = content;\n            Created = created;\n            PublishedBy = publishedBy;\n            GameCategory = gameCategory;\n        }\n\n        [PrimaryKey]\n        [MapTo(\"_id\")]\n        public ObjectId Id { get; set; }\n\n        [MapTo(\"type\")]\n        public string Type { get; set; }\n\n        [MapTo(\"title\")]\n        public string Title { get; set; }\n\n        [MapTo(\"description\")]\n        public string Description { get; set; }\n\n        [MapTo(\"content\")]\n        public string Content { get; set; }\n\n        [Indexed]\n        [MapTo(\"gameCategory\")]\n        public string GameCategory { get; set; }\n\n        [MapTo(\"created\")]\n        public DateTimeOffset Created { get; set; }\n\n        [MapTo(\"publishedBy\")]\n        public string PublishedBy { get; set; }\n    }\n}\n","path":null,"size_bytes":1327,"size_tokens":null},"Admin/CustomControls/ShellCustomControls/FlyoutHeader.cs":{"content":"﻿namespace Admin.CustomControls.ShellCustomControls\n{\n    public class FlyoutHeader : ContentView\n    {\n        public FlyoutHeader()\n        {\n            Content = new VerticalStackLayout\n            {\n                HorizontalOptions = LayoutOptions.Center,\n                Spacing = 0,\n                Margin = new Thickness(0, 20, 0, 40),\n                Children =\n                {\n                    new Image\n                    {\n                        Source = \"dx_dome_text.png\",\n                        HorizontalOptions = LayoutOptions.Center,\n                        Aspect = Aspect.AspectFit,\n                        HeightRequest = 109,\n                        WidthRequest = 132,\n                    },\n                },\n            };\n        }\n    }\n}\n","path":null,"size_bytes":778,"size_tokens":null},"Player/CustomControls/AccountTopControl.cs":{"content":"namespace Player.CustomControls;\n\npublic class AccountTopControl : Grid\n{\n    public AccountTopControl()\n    {\n        ColumnDefinitions = Columns.Define((BodyColumn.first, Star), (BodyColumn.second, Star));\n\n        this.Children.Add(\n            new Image\n            {\n                HorizontalOptions = LayoutOptions.Start,\n                VerticalOptions = LayoutOptions.Start,\n                HeightRequest = 84,\n                WidthRequest = 82,\n            }\n                .AppThemeBinding(Image.SourceProperty, \"dome_logo.png\", \"dome_logo_white.png\")\n                .Margins(20, 15, 0, 0)\n        );\n        this.Children.Add(\n            new Image\n            {\n                HorizontalOptions = LayoutOptions.End,\n                VerticalOptions = LayoutOptions.Start,\n                Source = \"ellipse.png\",\n                HeightRequest = 164,\n            }.Column(BodyColumn.second)\n        );\n    }\n}\n","path":null,"size_bytes":923,"size_tokens":null},"Admin/View/Account/ForgotPasswordView.cs":{"content":"namespace Admin.View.Account;\n\npublic class ForgotPasswordView : ContentPage\n{\n    public ForgotPasswordView(ForgotPasswordViewModel viewModel)\n    {\n        try\n        {\n            Shell.SetFlyoutBehavior(this, FlyoutBehavior.Disabled);\n            this.AppThemeBinding(\n                ContentPage.BackgroundProperty,\n                Color.FromArgb(\"#F1F3F2\"),\n                Colors.Black\n            );\n\n            Content = new ScrollView\n            {\n                HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                VerticalScrollBarVisibility = ScrollBarVisibility.Always,\n                Orientation = ScrollOrientation.Both,\n                Content = new VerticalStackLayout\n                {\n                    HorizontalOptions = LayoutOptions.Center,\n                    Margin = new Thickness(20, 10, 20, 10),\n                    Children =\n                    {\n                        new Regular20Label { Text = \"Email Address\" }.Margins(10, 20, 0, 0),\n                        new SingleImageBorderedEntry { WidthRequest = 600 }\n                            .AppThemeBinding(\n                                SingleImageBorderedEntry.ImgSourceProperty,\n                                \"email_black_24dp.png\",\n                                \"email_white_24dp.png\"\n                            )\n                            .Margins(0, 10, 0, 0)\n                            .Bind(\n                                SingleImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.Email),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            ),\n                        new Regular16Label\n                        {\n                            TextColor = Colors.Red,\n                            HorizontalOptions = LayoutOptions.Start,\n                        }\n                            .Bind(\n                                Label.TextProperty,\n                                static (ForgotPasswordViewModel vm) => vm.EmailError,\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.EmailError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Margins(10, 0, 0, 0),\n                        new Regular20Label { Text = \"New Password\" }.Margins(10, 20, 0, 0),\n                        new DualImageBorderedEntry { WidthRequest = 600 }\n                            .Bind(\n                                DualImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.NewPassword),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Margins(0, 10, 0, 0),\n                        new Regular16Label\n                        {\n                            TextColor = Colors.Red,\n                            HorizontalOptions = LayoutOptions.Start,\n                        }\n                            .Bind(\n                                Label.TextProperty,\n                                static (ForgotPasswordViewModel vm) => vm.NewPasswordError,\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.NewPasswordError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Margins(10, 0, 0, 0),\n                        new Regular20Label { Text = \"Confirm New Password\" }.Margins(10, 20, 0, 0),\n                        new DualImageBorderedEntry { WidthRequest = 600 }\n                            .Bind(\n                                DualImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.ConfirmNewPassword),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Margins(0, 10, 0, 0),\n                        new Regular16Label\n                        {\n                            TextColor = Colors.Red,\n                            HorizontalOptions = LayoutOptions.Start,\n                        }\n                            .Bind(\n                                Label.TextProperty,\n                                static (ForgotPasswordViewModel vm) => vm.ConfirmNewPasswordError,\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.ConfirmNewPasswordError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Margins(10, 0, 0, 0),\n                        new RegularButton\n                        {\n                            Text = \"SUBMIT\",\n                            WidthRequest = 500,\n                            FontSize = 32,\n                            FontFamily = \"InterBold\",\n                            HeightRequest = 70,\n                        }\n                            .BindCommand(nameof(viewModel.ResetPasswordCommand), source: viewModel)\n                            .Margins(0, 20, 0, 0),\n                        new RegularButton\n                        {\n                            Text = \"CANCEL\",\n                            WidthRequest = 500,\n                            FontSize = 32,\n                            FontFamily = \"InterBold\",\n                            HeightRequest = 70,\n                        }\n                            .BindCommand(\n                                nameof(viewModel.CancelPasswordResetCommand),\n                                source: viewModel\n                            )\n                            .Margins(0, 20, 0, 0),\n                    },\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":6574,"size_tokens":null},"Admin/View/SyncDataView.cs":{"content":"namespace Admin.View;\n\npublic class SyncDataView : ContentPage\n{\n    public SyncDataView(SyncDataViewModel viewModel)\n    {\n        Content = new VerticalStackLayout\n        {\n            VerticalOptions = LayoutOptions.Center,\n            HorizontalOptions = LayoutOptions.Center,\n            Spacing = 30,\n            Children =\n            {\n                new ActivityIndicator\n                {\n                    WidthRequest = 100,\n                    HeightRequest = 100,\n                    Color = Color.FromArgb(\"#EF2F50\"),\n                    IsRunning = true,\n                    IsVisible = true,\n                },\n                new Regular28Label { Text = \"Loading Data...\" },\n            },\n        };\n\n        BindingContext = viewModel;\n\n        Loaded += async (sender, args) =>\n        {\n            await viewModel.LoadData();\n        };\n    }\n}\n","path":null,"size_bytes":872,"size_tokens":null},"Player/CustomControls/Borders/CustomBorder.cs":{"content":"namespace Player.CustomControls.Borders\n{\n    public class CustomBorder : Border\n    {\n        public CustomBorder()\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(10) };\n            Padding = new Thickness(0);\n\n            this.AppThemeBinding(Border.StrokeProperty, Brush.Black, Brush.White);\n            this.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#4C4C4C\")\n            );\n        }\n    }\n}\n","path":null,"size_bytes":553,"size_tokens":null},"Player/ViewModels/Account/AccountBaseViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class AccountBaseViewModel : ObservableValidator\n    {\n        private readonly INavigationService? navigationService;\n        private readonly IConnectivity? connectivity;\n        private readonly ISettingsService? settingsService;\n\n        public AccountBaseViewModel(\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            ISettingsService settingsService\n        )\n        {\n            this.navigationService = navigationService;\n            this.connectivity = connectivity;\n            this.settingsService = settingsService;\n        }\n    }\n}\n","path":null,"size_bytes":658,"size_tokens":null},"Admin/View/CouponView.cs":{"content":"namespace Admin.View;\n\npublic class CouponView : ContentPage\n{\n    CouponViewModel viewModel;\n\n    public CouponView(CouponViewModel viewModel)\n    {\n        Title = \"Coupons\";\n        this.viewModel = viewModel;\n        Content = new ScrollView\n        {\n            Content = new VerticalStackLayout\n            {\n                WidthRequest = 600,\n                Padding = 20,\n                Spacing = 10,\n                Children =\n                {\n                    new HorizontalStackLayout\n                    {\n                        Spacing = 40,\n                        Children =\n                        {\n                            new Picker { WidthRequest = 305 }\n                                .Bind(Picker.ItemsSourceProperty, static (CouponViewModel vm) => vm.CouponStatuses, source: viewModel)\n                                .Bind(\n                                    Picker.SelectedItemProperty,\n                                    static (CouponViewModel vm) => vm.SelectedCouponStatus,\n                                    mode: BindingMode.TwoWay,\n                                    source: viewModel\n                                ),\n                            new RegularButton\n                            {\n                                Text = \"New Coupon\",\n                                WidthRequest = 200,\n                            }.BindCommand(static (CouponViewModel vm) => vm.AddCouponCommand, source: viewModel),\n                        },\n                    }.Row(BodyRow.first),\n                    new CollectionView\n                    {\n                        ItemsLayout = new GridItemsLayout(3, ItemsLayoutOrientation.Vertical)\n                        {\n                            HorizontalItemSpacing = 10,\n                            VerticalItemSpacing = 10,\n                        },\n                        ItemTemplate = new DataTemplate(() =>\n                        {\n                            return new Grid\n                            {\n                                RowDefinitions = Rows.Define(\n                                    (BodyRow.first, Auto),\n                                    (BodyRow.second, Auto),\n                                    (BodyRow.third, Auto),\n                                    (BodyRow.fourth, Auto),\n                                    (BodyRow.fifth, Auto),\n                                    (BodyRow.sixth, Auto),\n                                    (BodyRow.seventh, Auto)\n                                ),\n\n                                Padding = 20,\n                                ColumnSpacing = 10,\n                                Children =\n                                {\n                                    new Bold12Label { Text = \"Coupon Code\" }.Row(BodyRow.first),\n                                    new Regular14Label { }\n                                        .Bind(\n                                            Regular14Label.TextProperty,\n                                            static (Coupon coupon) => coupon.CouponCode\n                                        )\n                                        .Row(BodyRow.second),\n                                    new Bold12Label { Text = \"Discount\" }\n                                        .Row(BodyRow.third)\n                                        .ColumnSpan(2)\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular14Label { }\n                                        .Bind(\n                                            Regular14Label.TextProperty,\n                                            static (Coupon coupon) => coupon.DiscountPercentage,\n                                            stringFormat: \"{0}%\"\n                                        )\n                                        .Row(BodyRow.fourth),\n                                    new Bold12Label { Text = \"Expiry\" }\n                                        .Row(BodyRow.fifth)\n                                        .Margins(0, 10, 0, 0),\n                                    new Regular14Label { }\n                                        .Bind(\n                                            Regular14Label.TextProperty,\n                                            static (Coupon coupon) => coupon.ExpiryDate,\n                                            stringFormat: \"{0:dd MMMM, yyyy}\"\n                                        )\n                                        .Row(BodyRow.sixth),\n                                    new RegularButton\n                                    {\n                                        Text = \"DELETE\",\n                                        FontSize = 14,\n                                        WidthRequest = 100,\n                                    }\n                                        .BindCommand(\n                                            static (CouponViewModel vm) => vm.DeleteCouponCommand,\n                                            source: viewModel\n                                        )\n                                        .Row(BodyRow.seventh)\n                                        .Margins(0, 15, 0, 0),\n                                },\n                            }.AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Color.FromArgb(\"#FAFAFA\"),\n                                Color.FromArgb(\"#23262A\")\n                            );\n                        }),\n                    }.Bind(ItemsView.ItemsSourceProperty, static (CouponViewModel vm) => vm.FilteredCoupons, source: viewModel),\n                },\n            },\n        };\n\n        BindingContext = viewModel;\n\n        Loaded += CouponView_Loaded;\n    }\n\n    private async void CouponView_Loaded(object? sender, EventArgs e)\n    {\n        await viewModel.Initialize();\n    }\n}\n","path":null,"size_bytes":5889,"size_tokens":null},"Dome.Shared/Services/Interfaces/ITwilioService.cs":{"content":"﻿namespace Dome.Shared.Services.Interfaces\n{\n    public interface ITwilioService\n    {\n        Task SendEmailOTP(string email);\n\n        Task SendSMSOTP(string phoneNumber);\n\n        Task<string> VerifyEmailOTP(string email, string otp);\n\n        Task<string> VerifySMSOTP(string phoneNumber, string otp);\n    }\n}\n","path":null,"size_bytes":316,"size_tokens":null},"Player/Views/Account/AccountView.cs":{"content":"namespace Player.Views.Account;\n\npublic class AccountView : AccountBaseView\n{\n    public AccountView(AccountViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Resources = new ResourceDictionary\n            {\n                new Style<Button>((Button.BackgroundProperty, Color.FromArgb(\"EF2F50\"))),\n            };\n\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto),\n                        (BodyRow.seventh, Auto),\n                        (BodyRow.eighth, Auto),\n                        (BodyRow.ninth, Auto),\n                        (BodyRow.tenth, Auto),\n                        (BodyRow.eleventh, Auto),\n                        (BodyRow.twelfth, Auto),\n                        (BodyRow.thirteenth, Auto),\n                        (BodyRow.fourteenth, Auto)\n                    ),\n\n                    Children =\n                    {\n                        new AccountTopControl(),\n                        new ExtraBold28Label { Text = \"Settings\" }\n                            .Row(BodyRow.first)\n                            .Margins(30, 120, 0, 0),\n                        new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Auto),\n                                (BodyColumn.second, Star)\n                            ),\n\n                            ColumnSpacing = 10,\n                            Children =\n                            {\n                                new AvatarView\n                                {\n                                    BorderWidth = 1,\n                                    BorderColor = Colors.Black,\n                                    Background = Colors.White,\n                                    WidthRequest = 130,\n                                    HeightRequest = 130,\n                                    CornerRadius = 65,\n                                    Padding = 0,\n                                    HorizontalOptions = LayoutOptions.Center,\n                                }\n                                    .Bind(\n                                        AvatarView.ImageSourceProperty,\n                                        nameof(viewModel.PlayerImage),\n                                        converter: new ByteArrayToImageSourceConverter(),\n                                        targetNullValue: \"profile_image_fallback\"\n                                    )\n                                    .BindTapGesture(nameof(viewModel.AddImageCommand))\n                                    .Column(BodyColumn.first),\n                                new VerticalStackLayout\n                                {\n                                    VerticalOptions = LayoutOptions.Center,\n                                    Children =\n                                    {\n                                        new Label { }.FormattedText(\n                                            new[]\n                                            {\n                                                new Span { FontFamily = \"InterBold\", FontSize = 28 }\n                                                    .AppThemeBinding(\n                                                        Span.TextColorProperty,\n                                                        Colors.Black,\n                                                        Colors.White\n                                                    )\n                                                    .Bind(\n                                                        Span.TextProperty,\n                                                        $\"{nameof(viewModel.VenueUser)}.{nameof(viewModel.VenueUser.FirstName)}\",\n                                                        stringFormat: \"{0}\\n\"\n                                                    ),\n                                                new Span\n                                                {\n                                                    FontFamily = \"InterRegular\",\n                                                    FontSize = 28,\n                                                }\n                                                    .AppThemeBinding(\n                                                        Span.TextColorProperty,\n                                                        Colors.Black,\n                                                        Colors.White\n                                                    )\n                                                    .Bind(\n                                                        Span.TextProperty,\n                                                        $\"{nameof(viewModel.VenueUser)}.{nameof(viewModel.VenueUser.LastName)}\"\n                                                    ),\n                                            }\n                                        ),\n                                        new Regular14Label\n                                        {\n                                            VerticalOptions = LayoutOptions.Start,\n                                        }.Bind(\n                                            Regular14Label.TextProperty,\n                                            $\"{nameof(viewModel.VenueUser)}.{nameof(viewModel.VenueUser.Email)}\"\n                                        ),\n                                    },\n                                }.Column(BodyColumn.second),\n                            },\n                        }\n                            .Row(BodyRow.second)\n                            .Margins(30, 10, 30, 0),\n                        new HorizontalStackLayout\n                        {\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Image { }.AppThemeBinding(\n                                    Image.SourceProperty,\n                                    \"account_icon_light_theme.png\",\n                                    \"account_icon_dark_theme.png\"\n                                ),\n                                new ExtraBold18Label\n                                {\n                                    Text = \"Account\",\n                                    VerticalOptions = LayoutOptions.Center,\n                                },\n                            },\n                        }\n                            .Row(BodyRow.third)\n                            .Margins(30, 20, 0, 10),\n                        new Rectangle { HeightRequest = 2 }\n                            .AppThemeBinding(\n                                Rectangle.BackgroundProperty,\n                                Colors.Black,\n                                Color.FromArgb(\"#A3A3A3\")\n                            )\n                            .Row(BodyRow.fourth),\n                        new Grid\n                        {\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    Text = \"Dark Theme\",\n                                    VerticalOptions = LayoutOptions.Center,\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new Switch\n                                {\n                                    OnColor = Colors.LightGrey,\n                                    ThumbColor = Color.FromArgb(\"#EF2F50\"),\n                                    VerticalOptions = LayoutOptions.Start,\n                                    HorizontalOptions = LayoutOptions.End,\n                                }.Bind(\n                                    Switch.IsToggledProperty,\n                                    nameof(viewModel.IsDarkThemWantedByUser)\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.fifth)\n                            .BindTapGesture(nameof(viewModel.EditProfileCommand))\n                            .Margins(30, 10, 20, 0),\n                        new Grid\n                        {\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    Text = \"Profile\",\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new Medium16Label\n                                {\n                                    Text = \">\",\n                                    HorizontalOptions = LayoutOptions.End,\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.sixth)\n                            .BindTapGesture(nameof(viewModel.EditProfileCommand))\n                            .Margins(30, 10, 30, 0),\n                        new Grid\n                        {\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    Text = \"Age & Interests\",\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new Medium16Label\n                                {\n                                    Text = \">\",\n                                    HorizontalOptions = LayoutOptions.End,\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.seventh)\n                            .BindTapGesture(nameof(viewModel.EditAgeAndInterestsCommand))\n                            .Margins(30, 20, 30, 0),\n                        new Grid\n                        {\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    Text = \"Change Password\",\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new Medium16Label\n                                {\n                                    Text = \">\",\n                                    HorizontalOptions = LayoutOptions.End,\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.eighth)\n                            .BindTapGesture(nameof(viewModel.ChangePasswordCommand))\n                            .Margins(30, 20, 30, 0),\n                        new Grid\n                        {\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    Text = \"Delete Account\",\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new Medium16Label\n                                {\n                                    Text = \">\",\n                                    HorizontalOptions = LayoutOptions.End,\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.ninth)\n                            .BindTapGesture(nameof(viewModel.DeleteAccountCommand))\n                            .Margins(30, 20, 30, 0),\n                        new HorizontalStackLayout\n                        {\n                            Spacing = 5,\n                            Children =\n                            {\n                                new Image { }.AppThemeBinding(\n                                    Image.SourceProperty,\n                                    \"notification_light_theme.png\",\n                                    \"notification_dark_theme.png\"\n                                ),\n                                new ExtraBold18Label { Text = \"Notifications\" },\n                            },\n                        }\n                            .Row(BodyRow.tenth)\n                            .Margins(30, 40, 30, 10),\n                        new Rectangle { HeightRequest = 2 }\n                            .AppThemeBinding(\n                                Rectangle.BackgroundProperty,\n                                Colors.Black,\n                                Color.FromArgb(\"#A3A3A3\")\n                            )\n                            .Row(BodyRow.eleventh),\n                        new Grid\n                        {\n                            ColumnDefinitions = Columns.Define(\n                                (BodyColumn.first, Star),\n                                (BodyColumn.second, Auto),\n                                (BodyColumn.third, Auto)\n                            ),\n                            ColumnSpacing = 10,\n                            Children =\n                            {\n                                new Medium16Label\n                                {\n                                    HorizontalOptions = LayoutOptions.Start,\n                                    Text = \"Mobile Number\",\n                                }.AppThemeBinding(\n                                    Medium16Label.TextColorProperty,\n                                    Colors.Black,\n                                    Color.FromArgb(\"#BBBBBB\")\n                                ),\n                                new MediumButton\n                                {\n                                    Text = \"Change\",\n                                    CornerRadius = 7,\n                                    FontSize = 8,\n                                    WidthRequest = 65,\n                                    Padding = new Thickness(0, 2),\n                                }\n                                    .Column(BodyColumn.second)\n                                    .BindCommand(nameof(viewModel.ChangeMobileNumberCommand)),\n                                new MediumButton\n                                {\n                                    Text = \"Confirm\",\n                                    CornerRadius = 7,\n                                    FontSize = 8,\n                                    Background = Colors.Black,\n                                    WidthRequest = 65,\n                                    Padding = new Thickness(0, 2),\n                                }\n                                    .Bind(\n                                        MediumButton.IsVisibleProperty,\n                                        $\"{nameof(viewModel.VenueUser)}.{nameof(viewModel.VenueUser.IsMobileNumberVerified)}\",\n                                        convert: (bool verified) => verified == true ? false : true\n                                    )\n                                    .Column(BodyColumn.third)\n                                    .BindCommand(nameof(viewModel.ConfirmMobileNumberCommand)),\n                            },\n                        }\n                            .Row(BodyRow.twelfth)\n                            .Margins(30, 20, 30, 0),\n                        new MediumButton\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            Text = \"Logout\",\n                            WidthRequest = 133,\n                            HeightRequest = 47,\n                            CornerRadius = 20,\n                        }\n                            .Row(BodyRow.thirteenth)\n                            .BindCommand(nameof(viewModel.LogoutCommand))\n                            .Margins(30, 80, 30, 0),\n                        new MediumButton\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            Text = \"Contact Us\",\n                            Padding = 0,\n                            TextColor = Color.FromArgb(\"#EF2F50\"),\n                            Background = Colors.Transparent,\n                        }\n                            .Row(BodyRow.fourteenth)\n                            .BindCommand(nameof(viewModel.EmailUsCommand))\n                            .Margins(30, 15, 30, 15),\n                    },\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":19149,"size_tokens":null},"Player/Services/Interfaces/ISettingsService.cs":{"content":"﻿namespace Player.Services.Interfaces\n{\n    public interface ISettingsService\n    {\n        bool IsLoginAuthenticationPending { get; set; }\n\n        bool IsDarkThemeWantedByUser { get; set; }\n    }\n}\n","path":null,"size_bytes":202,"size_tokens":null},"Player/Services/Implementations/StripeService.cs":{"content":"using System.Text;\n\nnamespace Player.Services.Implementations\n{\n    public class StripeService : IStripeService\n    {\n        HttpClient httpClient = new HttpClient()\n        {\n            BaseAddress = new Uri(\"https://dafloserver.com/dome/stripe/\"),\n        };\n\n        public async Task<CustomerCreateResponse?> CreateCustomer(\n            CustomerCreateRequest customerCreateRequest\n        )\n        {\n            var response = await httpClient.PostAsJsonAsync(\n                \"createCustomer\",\n                customerCreateRequest\n            );\n\n            var dataInJSON = await response.Content.ReadAsStringAsync();\n\n            var data = JsonSerializer.Deserialize<CustomerCreateResponse>(dataInJSON);\n\n            return data;\n        }\n\n        public async Task<ValidateAvailabilityResponse?> CreateBooking(\n            CreateBookingsRequest request\n        )\n        {\n            string? json = JsonSerializer.Serialize(\n                request,\n                new JsonSerializerOptions { WriteIndented = true }\n            );\n\n            System.Diagnostics.Debug.WriteLine($\"JSON being sent: {json}\");\n\n            var response = await httpClient.PostAsync(\n                \"createBooking\",\n                new StringContent(json, Encoding.UTF8, \"application/json\")\n            );\n\n            // var response = await httpClient.PostAsJsonAsync(\"createBooking\", request);\n\n            var dataInJSON = await response.Content.ReadAsStringAsync();\n\n            var data = JsonSerializer.Deserialize<ValidateAvailabilityResponse>(dataInJSON);\n\n            return data;\n        }\n\n        public async Task<PaymentIntentCreateResponse?> FetchPaymentIntent(\n            RequestWithBookingIds request\n        )\n        {\n            var response = await httpClient.PostAsJsonAsync(\"paymentIntent\", request);\n\n            var dataInJSON = await response.Content.ReadAsStringAsync();\n\n            var data = JsonSerializer.Deserialize<PaymentIntentCreateResponse>(dataInJSON);\n\n            return data;\n        }\n\n        public async Task<CancelPaymentIntentResponse?> CancelPaymentIntent(\n            RequestWithBookingIds request\n        )\n        {\n            var response = await httpClient.PostAsJsonAsync(\"cancelPaymentIntent\", request);\n\n            var dataInJSON = await response.Content.ReadAsStringAsync();\n\n            var data = JsonSerializer.Deserialize<CancelPaymentIntentResponse>(dataInJSON);\n\n            return data;\n        }\n\n        public async Task<CancelBookingResponse?> CancelBooking(RequestWithBookingIds request)\n        {\n            var response = await httpClient.PostAsJsonAsync(\"cancelBooking\", request);\n\n            var dataInJSON = await response.Content.ReadAsStringAsync();\n\n            var data = JsonSerializer.Deserialize<CancelBookingResponse>(dataInJSON);\n\n            return data;\n        }\n    }\n}\n","path":null,"size_bytes":2862,"size_tokens":null},"Admin/Platforms/MacCatalyst/Program.cs":{"content":"﻿using ObjCRuntime;\nusing UIKit;\n\nnamespace Admin;\n\npublic class Program\n{\n    // This is the main entry point of the application.\n    static void Main(string[] args)\n    {\n        // if you want to use a different Application Delegate class from \"AppDelegate\"\n        // you can specify it here.\n        UIApplication.Main(args, null, typeof(AppDelegate));\n    }\n}\n","path":null,"size_bytes":368,"size_tokens":null},"replit.md":{"content":"# Dome - .NET MAUI Mobile/Desktop Application\n\n## Overview\nDome is a .NET MAUI (Multi-platform App UI) application consisting of three projects:\n- **Admin**: A MAUI app targeting macOS Catalyst and Windows for administration\n- **Player**: A MAUI app targeting Android and iOS for end users\n- **Dome.Shared**: A shared class library (net9.0) used by both Admin and Player\n\n## Project Architecture\n```\n/\n├── Admin/               # Admin MAUI app (maccatalyst, windows)\n│   ├── Admin.csproj\n│   ├── CustomControls/  # UI custom controls\n│   ├── Models/          # Local models\n│   ├── Popups/          # Popup UI components\n│   ├── Services/        # Admin-specific services\n│   ├── View/            # MVVM Views\n│   └── ViewModels/      # MVVM ViewModels\n├── Player/              # Player MAUI app (android, ios)\n│   ├── Player.csproj\n│   ├── Handlers/\n│   ├── Resources/       # Images, fonts, splash screens\n│   ├── View/\n│   └── ViewModels/\n├── Dome.Shared/         # Shared library (net9.0)\n│   ├── Dome.Shared.csproj\n│   ├── Services/        # Shared services (Secrets, Auth, etc.)\n│   ├── Synced/          # Realm synced models\n│   └── appsettings.json # Configuration (gitignored - needs manual setup)\n├── Dome.sln             # Solution file\n└── Directory.Build.props # MSBuild config (disables workload resolver for Linux)\n```\n\n## Technology Stack\n- **.NET 9** (SDK 9.0.308)\n- **.NET MAUI** for cross-platform UI\n- **MongoDB Realm** for data sync\n- **AWS** (S3 for storage, Secrets Manager for secrets)\n- **Twilio** for SMS/verification\n- **SendGrid** for email\n- **Stripe** for payments (Player app)\n- **Ory** for authentication\n- **Syncfusion MAUI Toolkit** for UI components\n\n## Build & Development\n- The Dome.Shared library builds on Linux (Replit) with `dotnet build Dome.Shared/Dome.Shared.csproj`\n- Admin and Player apps require platform-specific MAUI workloads (macOS/Windows/iOS/Android) which are not available in this environment\n- A `Directory.Build.props` file disables the MSBuild workload resolver to allow building on Linux\n\n## Configuration\n- `Dome.Shared/appsettings.json` is gitignored and must be created manually with API keys:\n  - AWS credentials (accessKey, secretKey, region)\n  - Twilio credentials\n  - SendGrid API key\n  - AWS S3 credentials\n  - MongoDB Realm App IDs\n  - Stripe secret keys\n\n## Recent Changes\n- 2026-02-19: Fixed 5 mobile app bugs\n  - **Back button**: Re-enabled Android back button for general navigation; disabled only on PaymentView, PaymentSuccessView, and BookingTimingView\n  - **UTC timezone**: Fixed booking times stored with `TimeSpan.Zero` → now uses `TimeZoneInfo.Local.GetUtcOffset()` so server-side Completed status transition respects local time\n  - **Orange border**: Added Android ButtonHandler/ImageButtonHandler mappers to remove default state animator and elevation that caused orange focus border\n  - **Booking timeout**: Replaced 5-second `Task.Delay` with bounded `WaitForSynchronizationAsync` (max 3s) for faster, more reliable sync before PaymentView\n  - **App slowness**: The 5s delay removal directly improves booking flow speed\n- 2026-02-19: Implemented multi-sport court support for the mobile Player app\n  - Added `MultiSportCourtNumbers` (19-22) and `MultiSportOptions` (Badminton, Pickleball) to `AppConstants.cs`\n  - Added `GetEffectiveFields()` helper in `BookingTimingViewModel.cs` that merges multi-sport courts from other games at the venue\n  - Pickleball flow now shows Courts 1, 2 (exclusive) + Courts 19-22 (multi-sport) with Pickleball timing/pricing\n  - Badminton flow unchanged (already shows all 22 courts)\n  - No sport selection dialog needed (mobile is sport-first flow)\n  - Cross-sport availability sync works automatically via shared database\n- 2026-02-17: Implemented Option B (email-based booking lookup) to fix web-to-mobile booking sync issue\n  - Added `customerEmail`, `customerName`, `customerPhone` fields to `Dome.Shared/Synced/Booking.cs` Realm model with `[MapTo]` attributes\n  - Updated `Player/ViewModels/MyBookingsViewModel.cs` to query bookings by `customerEmail` matching player's email (case-insensitive via `ToLowerInvariant()`)\n  - Added email-based Realm notification token for real-time updates when web bookings sync\n  - Deduplication via `HashSet<ObjectId>` prevents showing same booking twice across backlink and email-match paths\n- 2026-02-15: Initial Replit setup, .NET 9 SDK installed, workload resolver workaround added\n","path":null,"size_bytes":4602,"size_tokens":null},"Player/ViewModels/Account/EditInterestsViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class EditInterestsViewModel : AccountBaseViewModel\n    {\n        public List<AgeGroup>? AllAgeGroups { get; }\n\n        [ObservableProperty]\n        [Required(ErrorMessage = \"Age group not selected\")]\n        AgeGroup? selectedAgeGroup;\n\n        public List<FavouriteGame>? AllGames { get; }\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(1, ErrorMessage = \"Atleast 1 interest is required\")]\n        ObservableCollection<object>? selectedGames;\n\n        [ObservableProperty]\n        string selectedAgeGroupError = string.Empty;\n\n        [ObservableProperty]\n        string selectedGamesError = string.Empty;\n\n        Realm? realmInstance;\n\n        [ObservableProperty]\n        VenueUser? venueUser;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n\n        public EditInterestsViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService,\n            IAppStaticData appStaticData\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n                this.realmService = realmService;\n\n                realmInstance = Realm.GetInstance(realmService.Config);\n                VenueUser = realmInstance\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n\n                AllAgeGroups = appStaticData.GetAgeGroupsForUser().Result;\n                AllGames = appStaticData.GetGamesForUser().Result;\n\n                SelectedGames = new ObservableCollection<object>();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task AddGamesAndAge()\n        {\n            try\n            {\n                SelectedGames!.Clear();\n                //SelectedAgeGroup = new AgeGroup();\n                if (AllGames == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"AllGames is null\", \"OK\");\n                    return;\n                }\n                else if (AllAgeGroups == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"AllAgeGroups is null\", \"OK\");\n                    return;\n                }\n                if (VenueUser?.FavouriteGames.Count > 0)\n                {\n                    IList<string> favouriteGames = VenueUser.FavouriteGames;\n                    foreach (string game in favouriteGames)\n                    {\n                        FavouriteGame? favouriteGame = AllGames\n                            .Where(x => x.GameName == game)\n                            .FirstOrDefault();\n                        if (favouriteGame != null)\n                        {\n                            favouriteGame.IsSelected = true;\n                            SelectedGames.Add(favouriteGame);\n                        }\n                    }\n                }\n                if (!string.IsNullOrWhiteSpace(VenueUser?.AgeGroup))\n                {\n                    AgeGroup? ageGroup = AllAgeGroups\n                        .Where(x => x.AgeGroupName == VenueUser.AgeGroup)\n                        .FirstOrDefault();\n                    if (ageGroup != null)\n                    {\n                        ageGroup.IsSelected = true;\n                        SelectedAgeGroup = ageGroup;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName.Contains(\"Error\") || e.PropertyName == nameof(SelectedGames))\n                    return;\n                ClearErrors(e.PropertyName);\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string errorMessage = propertyErrors.FirstOrDefault().ErrorMessage;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"SelectedAgeGroup\":\n                        SelectedAgeGroupError = errorMessage;\n                        break;\n                    //case \"SelectedGames\":\n                    //    SelectedGamesError = errorMessage;\n                    //    break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Save()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors || SelectedGames!.Count() == 0)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult result in propertyErrors)\n                        {\n                            SetErrorValue(result.MemberNames.ElementAt(0), result.ErrorMessage);\n                        }\n                        return;\n                    }\n                }\n                else\n                {\n                    await realmInstance.WriteAsync(() =>\n                    {\n                        VenueUser.FavouriteGames.Clear();\n                        foreach (FavouriteGame game in SelectedGames.Cast<FavouriteGame>())\n                        {\n                            VenueUser.FavouriteGames.Add(game.GameName);\n                        }\n                        VenueUser.AgeGroup = SelectedAgeGroup.AgeGroupName;\n                    });\n\n                    await navigationService.PopAsync();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task AgeGroupSelected()\n        {\n            try\n            {\n                if (SelectedAgeGroup != null)\n                {\n                    AllAgeGroups.ForEach(ageGroup => ageGroup.IsSelected = false);\n                    SelectedAgeGroup.IsSelected = true;\n                    SelectedAgeGroupError = \"\";\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private void InterestSelected()\n        {\n            try\n            {\n                if (SelectedGames.Any())\n                {\n                    SelectedGamesError = \"\";\n                    AllGames.ForEach(game => game.IsSelected = false);\n                    foreach (FavouriteGame favouriteGame in SelectedGames.Cast<FavouriteGame>())\n                    {\n                        favouriteGame.IsSelected = true;\n                    }\n                }\n                else if (!SelectedGames.Any())\n                {\n                    AllGames.ForEach(game => game.IsSelected = false);\n                    SelectedGamesError = \"Atleast 1 interest is required\";\n                    this.OnPropertyChanged(nameof(AllGames));\n                }\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            await navigationService.PopAsync();\n        }\n    }\n}\n","path":null,"size_bytes":8598,"size_tokens":null},"Player/CustomControls/CollectionViews/PlannedBookingsTemplate.cs":{"content":"using System;\n\nnamespace Player.CustomControls.CollectionViews;\n\npublic class PlannedBookingsTemplate : CollectionView\n{\n    public PlannedBookingsTemplate()\n    {\n        SelectionMode = SelectionMode.Single;\n        EmptyView = new Regular16Label\n        {\n            Text = \"No planned Bookings\",\n            HorizontalOptions = LayoutOptions.Center,\n            VerticalOptions = LayoutOptions.Center,\n        };\n        ItemsLayout = new LinearItemsLayout(ItemsLayoutOrientation.Vertical) { ItemSpacing = 10 };\n        ItemTemplate = new DataTemplate(() =>\n        {\n            return new Border\n            {\n                StrokeThickness = 0,\n                StrokeShape = new RoundRectangle { CornerRadius = 8 },\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, Auto),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto),\n                        (BodyRow.seventh, Auto)\n                    ),\n\n                    ColumnDefinitions = Columns.Define(\n                        (BodyColumn.first, Star),\n                        (BodyColumn.second, Auto),\n                        (BodyColumn.third, Star)\n                    ),\n\n                    Padding = new Thickness(8),\n                    Children =\n                    {\n                        new Regular14Label { }\n                            .Bind(\n                                Regular14Label.TextProperty,\n                                binding1: new Binding(nameof(PlannedBooking.GameName)),\n                                binding2: new Binding(nameof(PlannedBooking.SkillLevel)),\n                                convert: ((string? gameName, string? skillLevel) values) =>\n                                    $\"{values.gameName} | {values.skillLevel}\"\n                            )\n                            .Row(BodyRow.first)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3),\n                        new ImageButton\n                        {\n                            HeightRequest = 35,\n                            WidthRequest = 35,\n                            HorizontalOptions = LayoutOptions.End,\n                            VerticalOptions = LayoutOptions.Center,\n                        }\n                            .Bind(\n                                ImageButton.IsVisibleProperty,\n                                nameof(PlannedBooking.IsApplied),\n                                convert: (bool isApplied) => isApplied == true ? false : true\n                            )\n                            .BindCommand(\"BindingContext.ReviewRequestsCommand\", source: this)\n                            .AppThemeBinding(\n                                ImageButton.SourceProperty,\n                                \"review_requests_black.png\",\n                                \"review_requests_white.png\"\n                            )\n                            .Row(BodyRow.first)\n                            .Column(BodyColumn.third)\n                            .Margins(0, 4, 12, 0),\n                        new AvatarView\n                        {\n                            HeightRequest = 20,\n                            WidthRequest = 20,\n                            CornerRadius = 17.5,\n                            Padding = 0,\n                            Background = Color.FromArgb(\"#EF2F50\"),\n                            TextColor = Colors.White,\n                            HorizontalOptions = LayoutOptions.End,\n                            BorderWidth = 0,\n                        }\n                            .Bind(\n                                AvatarView.IsVisibleProperty,\n                                nameof(PlannedBooking.IsApplied),\n                                convert: (bool isApplied) => isApplied == true ? false : true\n                            )\n                            .Bind(AvatarView.TextProperty, nameof(PlannedBooking.PendingRequests))\n                            .Row(BodyRow.first)\n                            .Column(BodyColumn.third)\n                            .Margins(0, 0, 0, 0),\n                        new MediumButton\n                        {\n                            Padding = new Thickness(10, 3),\n                            FontFamily = \"InterRegular\",\n                            FontSize = 10,\n                            HorizontalOptions = LayoutOptions.End,\n                            VerticalOptions = LayoutOptions.End,\n                            CornerRadius = 5,\n                        }\n                            .Bind(\n                                MediumButton.TextProperty,\n                                nameof(PlannedBooking.IsApplied),\n                                convert: (bool applied) => applied == true ? \"Applied\" : \"Planned\"\n                            )\n                            .Row(BodyRow.second)\n                            .Column(BodyColumn.third),\n                        // team status in the planned booking is the accepted (approved requests + 1)/numberOfplayers(Players requirement selected while creating the planned booking)\n                        new Medium12Label\n                        {\n                            HorizontalOptions = LayoutOptions.End,\n                            VerticalOptions = LayoutOptions.Start,\n                        }\n                            .Bind(Medium12Label.TextProperty, nameof(PlannedBooking.TeamStatus))\n                            .Row(BodyRow.third)\n                            .Column(BodyColumn.third),\n                        // display the images of the joined players\n                        new HorizontalStackLayout\n                        {\n                            Children =\n                            {\n                                new AvatarView\n                                {\n                                    HeightRequest = 35,\n                                    WidthRequest = 35,\n                                    CornerRadius = 17.5,\n                                    Padding = 0,\n                                }\n                                    .Bind(\n                                        AvatarView.ImageSourceProperty,\n                                        \"PlayerImage\",\n                                        source: BindingContext,\n                                        converter: new ByteArrayToImageSourceConverter(),\n                                        targetNullValue: \"profile_image_fallback.png\"\n                                    )\n                                    .Margins(10, 0, 0, 0),\n                                new CollectionView\n                                {\n                                    HeightRequest = 40,\n                                    HorizontalScrollBarVisibility = ScrollBarVisibility.Always,\n                                    WidthRequest = 150,\n                                    ItemsLayout = new LinearItemsLayout(\n                                        ItemsLayoutOrientation.Horizontal\n                                    )\n                                    {\n                                        ItemSpacing = 0,\n                                    },\n\n                                    ItemTemplate = new DataTemplate(() =>\n                                    {\n                                        return new AvatarView\n                                        {\n                                            HeightRequest = 35,\n                                            WidthRequest = 35,\n                                            CornerRadius = 17.5,\n                                            Padding = 0,\n                                        }.Bind(\n                                            AvatarView.ImageSourceProperty,\n                                            nameof(VenueUser.ProfileImage),\n                                            converter: new ByteArrayToImageSourceConverter(),\n                                            targetNullValue: \"profile_image_fallback.png\"\n                                        );\n                                    }),\n                                }.Bind(\n                                    ItemsView.ItemsSourceProperty,\n                                    $\"{nameof(PlannedBooking.ConnectedBooking)}.{nameof(PlannedBooking.ConnectedBooking.JoinedPlayers)}\"\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.second)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3)\n                            .Margins(0, 0, 0, 10),\n                        new Medium12Label { }\n                            .Bind(\n                                Medium12Label.TextProperty,\n                                $\"{nameof(PlannedBooking.Host)}.{nameof(PlannedBooking.Host.FullName)}\"\n                            )\n                            .Row(BodyRow.third)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3)\n                            .Margins(0, 20, 0, 0),\n                        new SemiBold12Label { }\n                            .Bind(\n                                SemiBold12Label.TextProperty,\n                                binding1: new Binding(\n                                    $\"{nameof(PlannedBooking.SelectedVenue)}.{nameof(PlannedBooking.SelectedVenue.FullName)}\"\n                                ),\n                                binding2: new Binding(nameof(PlannedBooking.City)),\n                                convert: ((string? venueName, string? cityName) values) =>\n                                    $\"{values.venueName} , {values.cityName}\"\n                            )\n                            .Row(BodyRow.fourth)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3),\n                        new HorizontalStackLayout\n                        {\n                            Children =\n                            {\n                                new SemiBold12Label { }.Bind(\n                                    SemiBold10Label.TextProperty,\n                                    nameof(PlannedBooking.PlannedDate),\n                                    stringFormat: \"{0:dd MMM}, \"\n                                ),\n                                //                                          new SemiBold12Label {  }.Bind(SemiBold12Label.TextProperty,\n                                //    binding1: new Binding(nameof(PlannedBooking.Timing)),\n                                //    binding2: new Binding(nameof(PlannedBooking.TimingDisplay)),\n                                //    convert: ((string? timing, string? timingDisplay) values) => $\"{values.timing} | {values.timingDisplay}\"),\n\n                                new SemiBold12Label { }.Bind(\n                                    SemiBold12Label.TextProperty,\n                                    nameof(PlannedBooking.Timing)\n                                ),\n                            },\n                        }\n                            .Row(BodyRow.fifth)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3)\n                            .Margins(0, 0, 0, 20),\n                        new MediumButton\n                        {\n                            Text = \"Chat\",\n                            FontFamily = \"InterRegular\",\n                            FontSize = 14,\n                            TextColor = Color.FromArgb(\"EF2F50\"),\n                            Background = Colors.Transparent,\n                        }\n                            .Row(BodyRow.seventh)\n                            .Column(BodyColumn.first)\n                            .BindCommand(\"ChatFromPlannedBookingCommand\", source: BindingContext),\n                        new Rectangle\n                        {\n                            HeightRequest = 2,\n                            Background = Color.FromArgb(\"#D4D4D4\"),\n                        }\n                            .Row(BodyRow.sixth)\n                            .Column(BodyColumn.first)\n                            .ColumnSpan(3),\n                        new Rectangle\n                        {\n                            WidthRequest = 2,\n                            Background = Color.FromArgb(\"#D4D4D4\"),\n                        }\n                            .Row(BodyRow.sixth)\n                            .RowSpan(2)\n                            .Column(BodyColumn.second),\n                        new MediumButton\n                        {\n                            Text = \"Cancel Hosting\",\n                            FontFamily = \"InterRegular\",\n                            FontSize = 14,\n                            Background = Colors.Transparent,\n                        }\n                            .Bind(\n                                MediumButton.IsVisibleProperty,\n                                nameof(PlannedBooking.IsApplied),\n                                convert: (bool isApplied) => isApplied == true ? false : true\n                            )\n                            .AppThemeBinding(\n                                MediumButton.TextColorProperty,\n                                Color.FromArgb(\"#626262\"),\n                                Color.FromArgb(\"#E0E0E0\")\n                            )\n                            .Row(BodyRow.seventh)\n                            .Column(BodyColumn.third)\n                            .BindCommand(\"CancelPlannedBookingCommand\", source: BindingContext)\n                            .Margins(5, 0, 0, 0),\n                        new MediumButton\n                        {\n                            Text = \"Quit Game\",\n                            FontFamily = \"InterRegular\",\n                            FontSize = 14,\n                            Background = Colors.Transparent,\n                        }\n                            .Bind(MediumButton.IsVisibleProperty, nameof(PlannedBooking.IsApplied))\n                            .AppThemeBinding(\n                                MediumButton.TextColorProperty,\n                                Color.FromArgb(\"#626262\"),\n                                Color.FromArgb(\"#E0E0E0\")\n                            )\n                            .Row(BodyRow.seventh)\n                            .Column(BodyColumn.third)\n                            .BindCommand(\"QuitPlannedBookingCommand\", source: BindingContext)\n                            .Margins(5, 0, 0, 0),\n                    },\n                },\n            }.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#23262A\")\n            );\n        });\n\n        this.Bind(ItemsView.ItemsSourceProperty, \"PlannedBookings\");\n        this.Bind(SelectableItemsView.SelectionChangedCommandProperty, \"SelectionChangedCommand\");\n        this.Bind(SelectableItemsView.SelectedItemProperty, \"SelectedBooking\");\n    }\n}\n","path":null,"size_bytes":15320,"size_tokens":null},"Player/Models/Chat/ConversationCreateResponse.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class ConversationCreateResponse\n{\n    [JsonPropertyName(\"error\")]\n    public string? Error { get; set; }\n\n    [JsonPropertyName(\"conversationId\")]\n    public string? ConversationId { get; set; }\n\n    [JsonPropertyName(\"message\")]\n    public string? Message { get; set; }\n}\n","path":null,"size_bytes":327,"size_tokens":null},"Dome.Shared/Services/Interfaces/ISecretsService.cs":{"content":"﻿namespace Dome.Shared.Services.Interfaces\n{\n    public interface ISecretsService\n    {\n        // twilio\n        public string? TwilioAccountSid { get; }\n        public string? TwilioAccountAuthToken { get; }\n        public string? TwilioVerifyServiceSid { get; }\n\n        // sendgrid\n        public string? SendGridAPIKey { get; }\n\n        // aws s3\n        public string? AWSS3AccessKey { get; }\n        public string? AWSS3SecretAccessKey { get; }\n        public string? AWSS3BucketName { get; }\n\n        // mongoDB - player\n        public string? RealmPlayerAppId { get; }\n\n        public string? RealmAdminAppId { get; }\n\n        public string? RealmVendorAppId { get; }\n\n        // stripe\n        public string? StripeSecretKey { get; }\n\n        Task LoadAllSecrets();\n    }\n}\n","path":null,"size_bytes":786,"size_tokens":null},"Player/Views/Book/TeamView.cs":{"content":"namespace Player.Views.Book;\n\npublic class TeamView : BaseView\n{\n    TeamViewModel? viewModel;\n\n    public TeamView(TeamViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }\n                    .AppThemeBinding(\n                        ImageButton.SourceProperty,\n                        \"back_button_light_theme\",\n                        \"back_button_dark_theme\"\n                    )\n                    .BindCommand(nameof(viewModel.CloseCommand))\n                    .Column(BodyColumn.first)\n            );\n\n            base.BaseContentGrid.Children.Add(\n                new ScrollView\n                {\n                    Content = new VerticalStackLayout\n                    {\n                        Padding = new Thickness(15, 0, 15, 0),\n                        Children =\n                        {\n                            new Border\n                            {\n                                StrokeThickness = 0,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(7),\n                                },\n                                Content = new VerticalStackLayout\n                                {\n                                    Padding = new Thickness(18, 14, 0, 18),\n                                    Children =\n                                    {\n                                        new Regular26Label { Text = \"Member List\" },\n                                        new Medium12Label { }.Bind(\n                                            Medium12Label.TextProperty,\n                                            nameof(viewModel.NameAndLevel)\n                                        ),\n                                        new Medium12Label { }.Bind(\n                                            Medium12Label.TextProperty,\n                                            nameof(viewModel.OtherDetails)\n                                        ),\n                                        new SemiBold12Label { }.Bind(\n                                            SemiBold12Label.TextProperty,\n                                            binding1: new Binding(\n                                                $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.StartTime)}\",\n                                                stringFormat: \"{0:dd MMMM, HH.mm}\"\n                                            ),\n                                            binding2: new Binding(\n                                                $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.TotalDuration)}\",\n                                                stringFormat: \"{0} hours\"\n                                            ),\n                                            binding3: new Binding(\n                                                $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.FieldName)}\"\n                                            ),\n                                            convert: (\n                                                (string? start, string? end, string? field) values\n                                            ) => $\"{values.start} | {values.end} | {values.field}\"\n                                        ),\n                                    },\n                                },\n                            }.AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            ),\n                            new SemiBold12Label\n                            {\n                                FontAttributes = FontAttributes.Bold,\n                                FontSize = 14,\n                                Margin = new Thickness(0, 10, 0, 0),\n                            }\n                                .Bind(\n                                    SemiBold12Label.TextProperty,\n                                    nameof(viewModel.PlayerCount),\n                                    stringFormat: \"Players going ({0})\"\n                                )\n                                .Margins(0, 15, 0, 0),\n                            new Border\n                            {\n                                HeightRequest = 300,\n                                Margin = new Thickness(0, 10, 0, 0),\n                                StrokeThickness = 0,\n                                Padding = new Thickness(10, 12, 10, 12),\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(7),\n                                },\n                                VerticalOptions = LayoutOptions.Start,\n                                Content = new CollectionView\n                                {\n                                    Header = new Grid\n                                    {\n                                        RowDefinitions = Rows.Define(\n                                            (BodyRow.first, Auto),\n                                            (BodyRow.second, Auto),\n                                            (BodyRow.third, Auto)\n                                        ),\n\n                                        ColumnDefinitions = Columns.Define(\n                                            (BodyColumn.first, Auto),\n                                            (BodyColumn.second, Star)\n                                        ),\n                                        ColumnSpacing = 10,\n                                        Children =\n                                        {\n                                            new AvatarView\n                                            {\n                                                HeightRequest = 35,\n                                                WidthRequest = 35,\n                                                CornerRadius = 17.5,\n                                                Padding = 0,\n                                                BorderWidth = 0,\n                                                VerticalOptions = LayoutOptions.Start,\n                                            }\n                                                .Bind(\n                                                    AvatarView.ImageSourceProperty,\n                                                    $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.Player)}.{nameof(viewModel.SelectedBooking.Player.ProfileImage)}\",\n                                                    converter: new ByteArrayToImageSourceConverter(),\n                                                    fallbackValue: \"profile_image_fallback.png\",\n                                                    targetNullValue: \"profile_image_fallback\",\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.first)\n                                                .RowSpan(2)\n                                                .Column(BodyColumn.first),\n                                            new Medium12Label { }\n                                                .Bind(\n                                                    Medium12Label.TextProperty,\n                                                    $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.Player)}.{nameof(viewModel.SelectedBooking.Player.FullName)}\",\n                                                    source: viewModel\n                                                )\n                                                .Row(BodyRow.first)\n                                                .Column(BodyColumn.second)\n                                                .Margins(0, 3, 0, 0),\n                                            new Medium10Label { Text = \"Host\" }\n                                                .Row(BodyRow.second)\n                                                .Column(BodyColumn.second)\n                                                .Margins(0, 0, 0, 20),\n                                            new Rectangle\n                                            {\n                                                HeightRequest = 2,\n                                                Background = Color.FromArgb(\"#D4D4D4\"),\n                                            }\n                                                .Row(BodyRow.third)\n                                                .Column(BodyColumn.first)\n                                                .ColumnSpan(2),\n                                        },\n                                    }.Margins(0, 0, 0, 10),\n\n                                    ItemsLayout = new LinearItemsLayout(\n                                        ItemsLayoutOrientation.Vertical\n                                    )\n                                    {\n                                        ItemSpacing = 0,\n                                    },\n                                    ItemSizingStrategy = ItemSizingStrategy.MeasureFirstItem,\n                                    ItemTemplate = new DataTemplate(() =>\n                                    {\n                                        return new Grid\n                                        {\n                                            RowDefinitions = Rows.Define(\n                                                (BodyRow.first, Auto),\n                                                (BodyRow.second, Auto),\n                                                (BodyRow.third, Auto)\n                                            ),\n\n                                            ColumnDefinitions = Columns.Define(\n                                                (BodyColumn.first, Auto),\n                                                (BodyColumn.second, Star)\n                                            ),\n                                            ColumnSpacing = 10,\n\n                                            Children =\n                                            {\n                                                new AvatarView\n                                                {\n                                                    HeightRequest = 35,\n                                                    WidthRequest = 35,\n                                                    CornerRadius = 17.5,\n                                                    Padding = 0,\n                                                    BorderWidth = 0,\n                                                    VerticalOptions = LayoutOptions.Start,\n                                                }\n                                                    .Bind(\n                                                        AvatarView.ImageSourceProperty,\n                                                        nameof(VenueUser.ProfileImage),\n                                                        converter: new ByteArrayToImageSourceConverter(),\n                                                        fallbackValue: \"profile_image_fallback.png\",\n                                                        targetNullValue: \"profile_image_fallback\"\n                                                    )\n                                                    .Row(BodyRow.first)\n                                                    .RowSpan(2)\n                                                    .Column(BodyColumn.first)\n                                                    .Margins(0, 10, 0, 10),\n                                                new Medium12Label { }\n                                                    .Bind(\n                                                        Medium12Label.TextProperty,\n                                                        nameof(VenueUser.FullName)\n                                                    )\n                                                    .Row(BodyRow.first)\n                                                    .Column(BodyColumn.second)\n                                                    .Margins(0, 14, 0, 0),\n                                                new Medium10Label { Text = \"Member\" }\n                                                    .Row(BodyRow.second)\n                                                    .Column(BodyColumn.second)\n                                                    .Margins(0, 0, 0, 20),\n                                                new Rectangle\n                                                {\n                                                    HeightRequest = 2,\n                                                    Background = Color.FromArgb(\"#D4D4D4\"),\n                                                }\n                                                    .Row(BodyRow.third)\n                                                    .Column(BodyColumn.first)\n                                                    .ColumnSpan(2),\n                                            },\n                                        };\n                                    }),\n                                }.Bind(\n                                    ItemsView.ItemsSourceProperty,\n                                    $\"{nameof(viewModel.SelectedBooking)}.{nameof(viewModel.SelectedBooking.JoinedPlayers)}\",\n                                    source: viewModel\n                                ),\n                            }.AppThemeBinding(\n                                Border.BackgroundProperty,\n                                Colors.White,\n                                Color.FromArgb(\"#23262A\")\n                            ),\n                        },\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            BindingContext = viewModel;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n        }\n    }\n}\n","path":null,"size_bytes":14572,"size_tokens":null},"Player/Services/Interfaces/IChatService.cs":{"content":"using System;\nusing Player.Models.Chat;\n\nnamespace Player.Services.Interfaces;\n\npublic interface IChatService\n{\n    Task<ParticipantCreateResponse?> CreateParticipant(string username);\n\n    Task<ConversationCreateResponse?> CreateOneToOneConversation(\n        string username,\n        string other_user\n    );\n\n    Task<ConversationCreateResponse?> CreateGroupConversation(string username, string other_users);\n\n    Task<AddRemoveUserResponse?> AddConversationUsers(\n        string convo_sid,\n        string username,\n        string other_users\n    );\n\n    Task<AddRemoveUserResponse?> RemoveConversationUser(\n        string convo_sid,\n        string username,\n        string other_user\n    );\n\n    Task<SendMessageResponse?> SendMessage(string sender, string convo_sid, string message);\n\n    Task<List<LoadMessagesResponse>?> LoadMessages(string convo_sid);\n\n    Task<DeleteConversationResponse?> DeleteConversation(string convo_sid, string username);\n}\n","path":null,"size_bytes":955,"size_tokens":null},"Player/Models/APIServer/NewBooking.cs":{"content":"﻿\n\nnamespace Player.Models.APIServer\n{\n    public class NewBooking\n    {\n        public NewBooking(\n            string _id,\n            string venue,\n            string ownerId,\n            string bookingStatus,\n            string fieldName,\n            string gameName,\n            decimal price,\n            decimal pricePerHour,\n            decimal totalPrice,\n            decimal convenienceFeePercentage,\n            decimal taxPercentage,\n            decimal convenienceFee,\n            decimal tax,\n            decimal priceAfterAddingConvenienceFee,\n            decimal discountPercentage,\n            decimal discount,\n            decimal priceAfterDeductingDiscount,\n            decimal duration,\n            DateTimeOffset startTime,\n            DateTimeOffset endTime,\n            DateTimeOffset bookingDate,\n            string currency,\n            string paymentIntentStatus,\n            string cartId,\n            int peoplePerGame,\n            bool isHosted,\n            int numberOfPlayersRequiredForHosting,\n            bool isBookedByVendor,\n            bool costShared,\n            bool bringYourOwnEquipment,\n            string playerCompetancyLevel,\n            string player,\n            string customerName,\n            string customerEmail,\n            string customerPhone,\n            string source,\n            string notes,\n            bool isFirstBookingCouponApplied,\n            decimal nonPeakHoursDuration,\n            decimal peakHoursDuration,\n            decimal totalDuration,\n            decimal nonPeakPricePerHour,\n            decimal peakPricePerHour\n        )\n        {\n            Id = _id;\n            Venue = venue;\n            OwnerId = ownerId;\n            BookingStatus = bookingStatus;\n            FieldName = fieldName;\n            GameName = gameName;\n            Price = price;\n            PricePerHour = pricePerHour;\n            TotalPrice = totalPrice;\n            ConvenienceFeePercentage = convenienceFeePercentage;\n            TaxPercentage = taxPercentage;\n            ConvenienceFee = convenienceFee;\n            Tax = tax;\n            PriceAfterAddingConvenienceFee = priceAfterAddingConvenienceFee;\n            DiscountPercentage = discountPercentage;\n            Discount = discount;\n            PriceAfterDeductingDiscount = priceAfterDeductingDiscount;\n            Duration = duration;\n            StartTime = startTime;\n            EndTime = endTime;\n            BookingDate = bookingDate;\n            Currency = currency;\n            PaymentIntentStatus = paymentIntentStatus;\n            CartId = cartId;\n            PeoplePerGame = peoplePerGame;\n            IsHosted = isHosted;\n            NumberOfPlayersRequiredForHosting = numberOfPlayersRequiredForHosting;\n            IsBookedByVendor = isBookedByVendor;\n            CostShared = costShared;\n            BringYourOwnEquipment = bringYourOwnEquipment;\n            PlayerCompetancyLevel = playerCompetancyLevel;\n            Player = player;\n            CustomerName = customerName;\n            CustomerEmail = customerEmail;\n            CustomerPhone = customerPhone;\n            Source = source;\n            Notes = notes;\n            IsFirstBookingCouponApplied = isFirstBookingCouponApplied;\n            NonPeakHoursDuration = nonPeakHoursDuration;\n            PeakHoursDuration = peakHoursDuration;\n            TotalDuration = totalDuration;\n            NonPeakPricePerHour = nonPeakPricePerHour;\n            PeakPricePerHour = peakPricePerHour;\n        }\n\n        [JsonPropertyName(\"_id\")]\n        public string Id { get; set; }\n\n        [JsonPropertyName(\"venue\")]\n        public string Venue { get; set; }\n\n        // the venue id of the venue where the slot is booked\n        [JsonPropertyName(\"owner_id\")]\n        public string OwnerId { get; set; }\n\n        [JsonPropertyName(\"bookingStatus\")]\n        public string BookingStatus { get; set; }\n\n        [JsonPropertyName(\"fieldName\")]\n        public string FieldName { get; set; }\n\n        [JsonPropertyName(\"gameName\")]\n        public string GameName { get; set; }\n\n        [JsonPropertyName(\"price\")]\n        public decimal Price { get; set; } = 0.0M;\n\n        [JsonPropertyName(\"pricePerHour\")]\n        public decimal PricePerHour { get; set; } = 0.0M;\n\n        [JsonPropertyName(\"totalPrice\")]\n        public decimal TotalPrice { get; set; }\n\n        [JsonPropertyName(\"convenienceFeePercentage\")]\n        public decimal ConvenienceFeePercentage { get; set; }\n\n        [JsonPropertyName(\"taxPercentage\")]\n        public decimal TaxPercentage { get; set; }\n\n        [JsonPropertyName(\"convenienceFee\")]\n        public decimal ConvenienceFee { get; set; }\n\n        [JsonPropertyName(\"tax\")]\n        public decimal Tax { get; set; }\n\n        [JsonPropertyName(\"priceAfterAddingConvenienceFee\")]\n        public decimal? PriceAfterAddingConvenienceFee { get; set; }\n\n        [JsonPropertyName(\"discountPercentage\")]\n        public decimal DiscountPercentage { get; set; }\n\n        [JsonPropertyName(\"discount\")]\n        public decimal Discount { get; set; }\n\n        [JsonPropertyName(\"priceAfterDeductingDiscount\")]\n        public decimal PriceAfterDeductingDiscount { get; set; }\n\n        [JsonPropertyName(\"duration\")]\n        public decimal Duration { get; set; }\n\n        //the date and time at which the activity will start\n        [JsonPropertyName(\"startTime\")]\n        public DateTimeOffset StartTime { get; set; }\n\n        //the date and time at which the activity will finish\n        [JsonPropertyName(\"endTime\")]\n        public DateTimeOffset EndTime { get; set; }\n\n        //the date on which the slot is booked. the time value should be zero\n        [JsonPropertyName(\"bookingDate\")]\n        public DateTimeOffset BookingDate { get; set; }\n\n        // the currency of the payment\n        [JsonPropertyName(\"currency\")]\n        public string Currency { get; set; }\n\n        [JsonPropertyName(\"paymentIntentStatus\")]\n        public string PaymentIntentStatus { get; set; }\n\n        // the cartId recognise the the batch of bookings made together. this will be used to connect the booking with the payment. In stripe the value of the cartId will be assigned to the transfer_group\n        [JsonPropertyName(\"cartId\")]\n        public string CartId { get; set; }\n\n        [JsonPropertyName(\"peoplePerGame\")]\n        public int PeoplePerGame { get; set; }\n\n        [JsonPropertyName(\"isHosted\")]\n        public bool IsHosted { get; set; }\n\n        /// <summary>\n        /// this value is taken from the Planned booking that is connected to the shared booking.\n        /// </summary>\n        [JsonPropertyName(\"numberOfPlayersRequiredForHosting\")]\n        public int NumberOfPlayersRequiredForHosting { get; set; }\n\n        [JsonPropertyName(\"isBookedByVendor\")]\n        public bool IsBookedByVendor { get; set; }\n\n        [JsonPropertyName(\"costShared\")]\n        public bool CostShared { get; set; } = true;\n\n        [JsonPropertyName(\"bringYourOwnEquipment\")]\n        public bool BringYourOwnEquipment { get; set; } = true;\n\n        [JsonPropertyName(\"playerCompetancyLevel\")]\n        public string PlayerCompetancyLevel { get; set; } = PlayerCompetancy.Beginner;\n\n        [JsonPropertyName(\"player\")]\n        public string Player { get; set; }\n\n        [JsonPropertyName(\"customerName\")]\n        public string CustomerName { get; set; }\n\n        [JsonPropertyName(\"customerEmail\")]\n        public string CustomerEmail { get; set; }\n\n        [JsonPropertyName(\"customerPhone\")]\n        public string CustomerPhone { get; set; }\n\n        [JsonPropertyName(\"source\")]\n        public string Source { get; set; }\n\n        [JsonPropertyName(\"notes\")]\n        public string Notes { get; set; }\n\n        [JsonPropertyName(\"isFirstBookingCouponApplied\")]\n        public bool IsFirstBookingCouponApplied { get; set; }\n\n        [JsonPropertyName(\"nonPeakHoursDuration\")]\n        public decimal NonPeakHoursDuration { get; set; }\n\n        //time duration of the activity in peak hours\n        [JsonPropertyName(\"peakHoursDuration\")]\n        public decimal PeakHoursDuration { get; set; }\n\n        [JsonPropertyName(\"totalDuration\")]\n        public decimal TotalDuration { get; set; }\n\n        // the price per hour during non-peak hours\n        [JsonPropertyName(\"nonPeakPricePerHour\")]\n        public decimal NonPeakPricePerHour { get; set; }\n\n        [JsonPropertyName(\"peakPricePerHour\")]\n        public decimal PeakPricePerHour { get; set; }\n\n    }\n}\n","path":null,"size_bytes":8438,"size_tokens":null},"Dome.Shared/BusyMopup.cs":{"content":"namespace Dome.Shared\n{\n    public class BusyMopup : PopupPage\n    {\n        public BusyMopup()\n        {\n            this.Background = Color.FromArgb(\"#80000000\");\n            this.CloseWhenBackgroundIsClicked = false;\n\n            this.Animation = new Mopups.Animations.ScaleAnimation\n            {\n                DurationIn = 700,\n                EasingIn = Easing.SinIn,\n                DurationOut = 700,\n                EasingOut = Easing.SinIn,\n                ScaleIn = 1.2,\n                ScaleOut = 0.8,\n                PositionIn = Mopups.Enums.MoveAnimationOptions.Bottom,\n                PositionOut = Mopups.Enums.MoveAnimationOptions.Bottom,\n            };\n\n            if (DeviceInfo.Idiom == DeviceIdiom.Desktop)\n            {\n                Content = new VerticalStackLayout\n                {\n                    HorizontalOptions = LayoutOptions.Center,\n                    WidthRequest = 400,\n                    Spacing = 15,\n                    Children =\n                    {\n                        new ActivityIndicator\n                        {\n                            HeightRequest = 100,\n                            WidthRequest = 100,\n                            Color = Colors.White,\n                            IsRunning = true,\n                        },\n                        new Label\n                        {\n                            FontFamily = \"InterMedium\",\n                            Text = \"Please wait...\",\n                            FontSize = 40,\n                            TextColor = Colors.White,\n                            HorizontalOptions = LayoutOptions.Center,\n                        },\n                    },\n                }.Margins(0, 100, 0, 0);\n            }\n            else if (DeviceInfo.Idiom == DeviceIdiom.Phone)\n            {\n                Content = new VerticalStackLayout\n                {\n                    WidthRequest = 300,\n                    HorizontalOptions = LayoutOptions.Center,\n                    Spacing = 10,\n                    Children =\n                    {\n                        new ActivityIndicator\n                        {\n                            HeightRequest = 50,\n                            WidthRequest = 50,\n                            Color = Colors.White,\n                            IsRunning = true,\n                        },\n                        new Label\n                        {\n                            FontFamily = \"InterMedium\",\n                            Text = \"Please wait...\",\n                            FontSize = 20,\n                            TextColor = Colors.White,\n                            HorizontalOptions = LayoutOptions.Center,\n                        },\n                    },\n                }.Margins(0, 100, 0, 0);\n            }\n        }\n    }\n}\n","path":null,"size_bytes":2816,"size_tokens":null},"Player/ViewModels/Connect/HostingSuccessViewModel.cs":{"content":"﻿using Dome.Shared.Local;\nusing Dome.Shared.Synced;\n\nnamespace Player.ViewModels.Connect\n{\n    public partial class HostingSuccessViewModel : ObservableObject\n    {\n        private readonly INavigationService navigationService;\n\n        public HostingSuccessViewModel(INavigationService navigationService)\n        {\n            try\n            {\n                this.navigationService = navigationService;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Complete()\n        {\n            try\n            {\n                await navigationService.NavigateToAsync($\"///{nameof(MyBookingsView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":917,"size_tokens":null},"Admin/Platforms/Android/MainApplication.cs":{"content":"﻿using Android.App;\nusing Android.Runtime;\n\nnamespace Admin;\n\n[Application]\npublic class MainApplication : MauiApplication\n{\n    public MainApplication(IntPtr handle, JniHandleOwnership ownership)\n        : base(handle, ownership) { }\n\n    protected override MauiApp CreateMauiApp() => MauiProgram.CreateMauiApp();\n}\n","path":null,"size_bytes":319,"size_tokens":null},"Player/ViewModels/FeedbackEmailViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class FeedbackEmailViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string message;\n\n        private readonly IFeedbackEmailService emailService;\n        private readonly IConnectivity connectivity;\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n        private readonly IPopupNavigation popupNavigation;\n\n        public FeedbackEmailViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            IFeedbackEmailService emailService,\n            IPopupNavigation popupNavigation\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.emailService = emailService;\n            this.popupNavigation = popupNavigation;\n\n            using (Realm realm = Realm.GetInstance(realmService.Config))\n            {\n                VenueUser? Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                PlayerImage = Player?.ProfileImage;\n            }\n        }\n\n        [RelayCommand]\n        async Task SendEmail()\n        {\n            try\n            {\n                if (string.IsNullOrWhiteSpace(Message))\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please enter a message\", \"Okay\");\n                }\n                else if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                }\n                else\n                {\n                    await popupNavigation.PushAsync(new BusyMopup());\n\n                    using (Realm realm = Realm.GetInstance(realmService.Config))\n                    {\n                        string? email =\n                            (\n                                realm\n                                    .All<VenueUser>()\n                                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                                    .FirstOrDefault()\n                                    ?.Email\n                            ) ?? string.Empty;\n                        await emailService.SendEmail(email, Message);\n                        await popupNavigation.PopAsync();\n                        await Shell.Current.DisplayAlert(\n                            \"Success\",\n                            \"Your message has been sent\",\n                            \"Okay\"\n                        );\n                        Message = string.Empty;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n            }\n        }\n\n        [RelayCommand]\n        async Task NavigateBack()\n        {\n            try\n            {\n                await navigationService.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3523,"size_tokens":null},"Admin/App.cs":{"content":"﻿namespace Admin\n{\n    public class App : Application\n    {\n        private string? appId;\n\n        public static Realms.Sync.App? RealmApp { get; private set; }\n\n        private readonly ISecretsService? secretsService;\n        private readonly ISettingsService? settingsService;\n\n        public App(ISettingsService settingsService, ISecretsService secretsService)\n        {\n            try\n            {\n                this.secretsService = secretsService;\n                this.settingsService = settingsService;\n                SetLanguage();\n                Task.Run(async () => await secretsService.LoadAllSecrets())\n                    .GetAwaiter()\n                    .GetResult();\n                string? appId = secretsService.RealmAdminAppId;\n                if (appId == null)\n                {\n                    throw new Exception(\"appId  is null\");\n                }\n                AppConfiguration appConfiguration = new(appId)\n                {\n#if WINDOWS\n                    BaseFilePath = Environment.GetFolderPath(\n                        Environment.SpecialFolder.ApplicationData\n                    ),\n#endif\n                };\n\n                // Always put log before App.Create\n#if DEBUG\n                // reveal information that is useful for debugging, no longer paying attention to efficiency\n                Realms.Logging.RealmLogger.SetLogLevel(Realms.Logging.LogLevel.Debug);\n#else\n\n                // log only errors in release mode\n                Realms.Logging.RealmLogger.SetLogLevel(Realms.Logging.LogLevel.Error);\n#endif\n\n                RealmApp = Realms.Sync.App.Create(appConfiguration);\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private void SetLanguage()\n        {\n            // the language and culture to be used in the application is set to canadian english\n            string language = \"en-CA\";\n            // intended to be used for parsing / formatting stuffs.Date and time, numbers and string comparison etc. Use four letter code separated by -, e.g \"de-DE\". First two letters are language code and last two letters are country code\n            Thread.CurrentThread.CurrentCulture = new CultureInfo(language);\n            //Used by the resource manager to look up specific resources at runtime, it's the language used to display text.Use two letter code e.g \"de\"\n            Thread.CurrentThread.CurrentUICulture = new CultureInfo(language);\n            //AppResources.Culture = new CultureInfo(language);\n        }\n\n        protected override Window CreateWindow(IActivationState? activationState)\n        {\n            User? realmUser = RealmApp.CurrentUser;\n\n            if (\n                realmUser == null\n                || realmUser.State == UserState.LoggedOut\n                || realmUser.State == UserState.Removed\n            )\n            {\n                return new Window(new AppShell(\"Login\", new AppShellViewModel()));\n            }\n            else\n            {\n                return new Window(new AppShell(null, new AppShellViewModel()));\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3180,"size_tokens":null},"Admin/Models/LocalModels/LocalTimeData.cs":{"content":"﻿namespace Admin.Models.LocalModels\n{\n    /// <summary>\n    /// the local time data is used to populate the time picker Popup for slecting open time and close time of the venue on weekdays and weekends\n    /// </summary>\n    public class LocalTimeData\n    {\n        public LocalTimeData(int time)\n        {\n            Time = time;\n        }\n\n        public int Time { get; set; }\n    }\n}\n","path":null,"size_bytes":391,"size_tokens":null},"Player/Views/Account/RegisterView.cs":{"content":"namespace Player.Views.Account;\n\npublic class RegisterView : AccountBaseView\n{\n    public RegisterView(RegisterViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define(\n                        (BodyRow.first, 165),\n                        (BodyRow.second, Auto),\n                        (BodyRow.third, Auto),\n                        (BodyRow.fourth, Auto),\n                        (BodyRow.fifth, Auto),\n                        (BodyRow.sixth, Auto),\n                        (BodyRow.seventh, Auto),\n                        (BodyRow.eighth, Auto),\n                        (BodyRow.ninth, Auto),\n                        (BodyRow.tenth, Auto)\n                    ),\n\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first),\n                        new ExtraBold28Label { Text = \"Create Account\" }\n                            .Margins(20, 20, 0, 0)\n                            .Row(BodyRow.second),\n                        new SingleImageBorderedEntry { PlaceholderText = \"Email\" }\n                            .Bind(\n                                SingleImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.Email),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Margins(20, 30, 20, 0)\n                            .Row(BodyRow.third)\n                            .AppThemeBinding(\n                                SingleImageBorderedEntry.ImgSourceProperty,\n                                \"email_light_theme.png\",\n                                \"email_dark_theme.png\"\n                            ),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.EmailError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.EmailError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fourth)\n                            .Margins(20, 0, 20, 0),\n                        new DualImageBorderedEntry { PlaceholderText = \"Password\" }\n                            .Bind(\n                                DualImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.Password),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.fifth)\n                            .Margins(20, 10, 20, 0),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.PasswordError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.PasswordError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.sixth)\n                            .Margins(20, 0, 20, 0),\n                        new DualImageBorderedEntry { PlaceholderText = \"Confirm Password\" }\n                            .Bind(\n                                DualImageBorderedEntry.EntryTextProperty,\n                                nameof(viewModel.ConfirmPassword),\n                                BindingMode.TwoWay,\n                                source: viewModel\n                            )\n                            .Row(BodyRow.seventh)\n                            .Margins(20, 10, 20, 0),\n                        new Regular16Label { TextColor = Colors.Red }\n                            .Bind(\n                                Regular16Label.TextProperty,\n                                nameof(viewModel.ConfirmPasswordError),\n                                source: viewModel\n                            )\n                            .Bind(\n                                IsVisibleProperty,\n                                nameof(viewModel.ConfirmPasswordError),\n                                converter: new IsStringNotNullOrEmptyConverter(),\n                                source: viewModel\n                            )\n                            .Row(BodyRow.eighth)\n                            .Margins(20, 0, 20, 0),\n                        new ImageButton { Source = \"signup.png\" }\n                            .BindCommand(nameof(viewModel.RegisterUserCommand), source: viewModel)\n                            .Row(BodyRow.ninth)\n                            .Margins(0, 40, 0, 0),\n                        new Label\n                        {\n                            HorizontalOptions = LayoutOptions.Center,\n                            VerticalOptions = LayoutOptions.Center,\n                            FormattedText = new FormattedString\n                            {\n                                Spans =\n                                {\n                                    new Span\n                                    {\n                                        Text = \"Already have an account? \",\n                                        FontFamily = \"InterMedium\",\n                                        FontSize = 14,\n                                    }.AppThemeBinding(\n                                        Span.TextColorProperty,\n                                        Colors.Black,\n                                        Color.FromArgb(\"#BBBBBB\")\n                                    ),\n                                    new Span\n                                    {\n                                        Text = \"Sign In\",\n                                        TextColor = Color.FromArgb(\"#EF2F50\"),\n                                        FontFamily = \"InterBold\",\n                                        FontSize = 14,\n                                    }.BindTapGesture(\n                                        nameof(viewModel.SignInCommand),\n                                        commandSource: viewModel\n                                    ),\n                                },\n                            },\n                        }\n                            .Row(BodyRow.tenth)\n                            .Margins(0, 2, 0, 0),\n                    },\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":7194,"size_tokens":null},"Player/ViewModels/BaseViewModel.cs":{"content":"﻿namespace Player.ViewModels\n{\n    public partial class BaseViewModel : ObservableObject\n    {\n        private readonly INavigationService navigationService;\n        private readonly IRealmService realmService;\n        private readonly IConnectivity connectivity;\n\n        public BaseViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity\n        )\n        {\n            this.navigationService = navigationService;\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n        }\n\n        [RelayCommand]\n        public async Task Notification() =>\n            await navigationService.NavigateToAsync(nameof(NotificationView));\n    }\n}\n","path":null,"size_bytes":759,"size_tokens":null},"Admin/Popups/ChangeVendorPasswordPopup.cs":{"content":"using System.Threading.Tasks;\n\nnamespace Admin.Popups\n{\n    public class ChangeVendorPasswordPopup : Popup\n    {\n        public ChangeVendorPasswordPopup(string email)\n        {\n            Background = Color.FromArgb(\"#F3F4F6\");\n            // initiating view model inside constructor because we can't pass view model as parameter from calling page\n            ChangeVendorPasswordViewModel? viewModel =\n                Shell.Current.Handler?.MauiContext?.Services.GetService<ChangeVendorPasswordViewModel>();\n\n            if (viewModel != null)\n            {\n                viewModel.Email = email;\n            }\n            Content = new Grid\n            {\n                Padding = 30,\n                Background = Colors.White,\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, 30),\n                    (BodyRow.second, 25),\n                    (BodyRow.third, 70),\n                    (BodyRow.fourth, 25),\n                    (BodyRow.fifth, 65)\n                ),\n\n                ColumnDefinitions = Columns.Define(\n                    (BodyColumn.first, Stars(1)),\n                    (BodyColumn.second, Stars(1))\n                ),\n                RowSpacing = 10,\n                ColumnSpacing = 20,\n                Children =\n                {\n                    new Bold20Label { Text = \"Change Password\", TextColor = Colors.Black }\n                        .Row(BodyRow.first)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new Regular18Label { TextColor = Colors.Black }\n                        .Bind(\n                            Regular18Label.TextProperty,\n                            nameof(viewModel.Email),\n                            stringFormat: \"Vendor Username: {0}\"\n                        )\n                        .Row(BodyRow.second)\n                        .Column(BodyColumn.first)\n                        .ColumnSpan(2),\n                    new DualImageBorderedEntry\n                    {\n                        PlaceholderText = \"New Password\",\n                        WidthRequest = 350,\n                    }\n                        .Bind(DualImageBorderedEntry.EntryTextProperty, nameof(viewModel.Password))\n                        .Margins(0, 10, 0, 0)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.first),\n                    new Label { TextColor = Colors.Red, LineBreakMode = LineBreakMode.WordWrap }\n                        .Bind(\n                            Label.TextProperty,\n                            nameof(viewModel.PasswordError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            Label.IsVisibleProperty,\n                            nameof(viewModel.PasswordError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.fourth)\n                        .Column(BodyColumn.first),\n                    new DualImageBorderedEntry\n                    {\n                        PlaceholderText = \"Confirm new Password\",\n                        WidthRequest = 350,\n                    }\n                        .Bind(\n                            DualImageBorderedEntry.EntryTextProperty,\n                            nameof(viewModel.ConfirmPassword)\n                        )\n                        .Margins(0, 10, 0, 0)\n                        .Row(BodyRow.third)\n                        .Column(BodyColumn.second),\n                    new Label { TextColor = Colors.Red, LineBreakMode = LineBreakMode.WordWrap }\n                        .Bind(\n                            Label.TextProperty,\n                            nameof(viewModel.ConfirmPasswordError),\n                            source: viewModel\n                        )\n                        .Bind(\n                            Label.IsVisibleProperty,\n                            nameof(viewModel.ConfirmPasswordError),\n                            converter: new IsStringNotNullOrEmptyConverter(),\n                            source: viewModel\n                        )\n                        .Row(BodyRow.fourth)\n                        .Column(BodyColumn.second),\n                    new RegularButton\n                    {\n                        Text = \"CANCEL\",\n                        WidthRequest = 200,\n                        Background = Colors.Black,\n                        HorizontalOptions = LayoutOptions.End,\n                    }\n                        .Invoke(button => button.Clicked += Button_Clicked)\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.fifth)\n                        .Column(BodyColumn.first),\n                    new RegularButton\n                    {\n                        Text = \"CONFIRM\",\n                        WidthRequest = 200,\n                        HorizontalOptions = LayoutOptions.Start,\n                    }\n                        .BindCommand(nameof(viewModel.ResetPasswordCommand))\n                        .Margins(0, 15, 0, 0)\n                        .Row(BodyRow.fifth)\n                        .Column(BodyColumn.second),\n                },\n            };\n\n            BindingContext = viewModel;\n        }\n\n        private async void Button_Clicked(object? sender, EventArgs e)\n        {\n            await CloseAsync();\n        }\n    }\n}\n","path":null,"size_bytes":5499,"size_tokens":null},"Player/CustomControls/Labels/CustomExtraBoldLabel.cs":{"content":"﻿namespace Player.CustomControls.Labels\n{\n    public class CustomExtraBoldLabel : Label\n    {\n        public CustomExtraBoldLabel()\n        {\n            FontFamily = \"InterExtraBold\";\n            LineBreakMode = LineBreakMode.WordWrap;\n            this.AppThemeBinding(Label.TextColorProperty, Colors.Black, Colors.White);\n        }\n    }\n\n    public class ExtraBold7Label : CustomExtraBoldLabel\n    {\n        public ExtraBold7Label()\n        {\n            FontSize = 7;\n        }\n    }\n\n    public class ExtraBold8Label : CustomExtraBoldLabel\n    {\n        public ExtraBold8Label()\n        {\n            FontSize = 8;\n        }\n    }\n\n    public class ExtraBold9Label : CustomExtraBoldLabel\n    {\n        public ExtraBold9Label()\n        {\n            FontSize = 9;\n        }\n    }\n\n    public class ExtraBold10Label : CustomExtraBoldLabel\n    {\n        public ExtraBold10Label()\n        {\n            FontSize = 10;\n        }\n    }\n\n    public class ExtraBold12Label : CustomExtraBoldLabel\n    {\n        public ExtraBold12Label()\n        {\n            FontSize = 12;\n        }\n    }\n\n    public class ExtraBold14Label : CustomExtraBoldLabel\n    {\n        public ExtraBold14Label()\n        {\n            FontSize = 14;\n        }\n    }\n\n    public class ExtraBold16Label : CustomExtraBoldLabel\n    {\n        public ExtraBold16Label()\n        {\n            FontSize = 16;\n        }\n    }\n\n    public class ExtraBold18Label : CustomExtraBoldLabel\n    {\n        public ExtraBold18Label()\n        {\n            FontSize = 18;\n        }\n    }\n\n    public class ExtraBold20Label : CustomExtraBoldLabel\n    {\n        public ExtraBold20Label()\n        {\n            FontSize = 20;\n        }\n    }\n\n    public class ExtraBold24Label : CustomExtraBoldLabel\n    {\n        public ExtraBold24Label()\n        {\n            FontSize = 24;\n        }\n    }\n\n    public class ExtraBold25Label : CustomExtraBoldLabel\n    {\n        public ExtraBold25Label()\n        {\n            FontSize = 25;\n        }\n    }\n\n    public class ExtraBold26Label : CustomExtraBoldLabel\n    {\n        public ExtraBold26Label()\n        {\n            FontSize = 26;\n        }\n    }\n\n    public class ExtraBold28Label : CustomExtraBoldLabel\n    {\n        public ExtraBold28Label()\n        {\n            FontSize = 28;\n        }\n    }\n\n    public class ExtraBold32Label : CustomExtraBoldLabel\n    {\n        public ExtraBold32Label()\n        {\n            FontSize = 32;\n        }\n    }\n}\n","path":null,"size_bytes":2449,"size_tokens":null},"Player/CustomControls/Pickers/CustomPicker.cs":{"content":"namespace Player.CustomControls.Pickers;\n\npublic class CustomPicker : CustomBorder\n{\n    public static readonly BindableProperty CustomPickerSelectedItemProperty =\n        BindableProperty.Create(\n            nameof(CustomPickerSelectedItem),\n            typeof(object),\n            typeof(CustomPicker),\n            null,\n            BindingMode.TwoWay\n        );\n\n    public object CustomPickerSelectedItem\n    {\n        get => (object)GetValue(CustomPickerSelectedItemProperty);\n        set => SetValue(CustomPickerSelectedItemProperty, value);\n    }\n\n    // bindable property for picker item source\n    public static readonly BindableProperty PickerItemSourceProperty = BindableProperty.Create(\n        nameof(PickerItemSource),\n        typeof(IList),\n        typeof(CustomPicker),\n        null,\n        BindingMode.TwoWay\n    );\n\n    public IList PickerItemSource\n    {\n        get => (IList)GetValue(PickerItemSourceProperty);\n        set => SetValue(PickerItemSourceProperty, value);\n    }\n\n    protected override void OnPropertyChanged([CallerMemberName] string? propertyName = null)\n    {\n        base.OnPropertyChanged(propertyName);\n\n        if (propertyName == nameof(CustomPickerSelectedItem))\n        {\n            if (picker != null)\n                picker.SelectedItem = CustomPickerSelectedItem;\n        }\n        else if (propertyName == nameof(PickerItemSource))\n        {\n            if (picker != null)\n                picker.ItemsSource = PickerItemSource;\n        }\n    }\n\n    public Picker? picker;\n\n    public CustomPicker()\n    {\n        try\n        {\n            StrokeThickness = .5;\n            StrokeShape = new RoundRectangle { CornerRadius = new CornerRadius(7) };\n            Padding = new Thickness(10);\n            Stroke = Brush.Black;\n            this.AppThemeBinding(\n                Border.BackgroundProperty,\n                Colors.White,\n                Color.FromArgb(\"#23262A\")\n            );\n\n            picker = new Picker { FontFamily = \"InterMedium\", FontSize = 16 }\n                .Bind(\n                    Picker.SelectedItemProperty,\n                    nameof(CustomPickerSelectedItem),\n                    BindingMode.TwoWay,\n                    source: this\n                )\n                .Bind(\n                    Picker.ItemsSourceProperty,\n                    nameof(PickerItemSourceProperty),\n                    BindingMode.TwoWay,\n                    source: this\n                )\n                .AppThemeBinding(Picker.TextColorProperty, Colors.Black, Colors.White)\n                .AppThemeBinding(Picker.TitleColorProperty, Colors.Black, Colors.White);\n\n            Content = picker;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":2789,"size_tokens":null},"Dome.Shared/Synced/Player/Holiday.cs":{"content":"namespace Dome.Shared.Synced.Player;\n\n[MapTo(\"canada_holidays\")]\npublic partial class Holiday: IEmbeddedObject\n{\n    private Holiday()\n    {\n        \n    }\n    public Holiday(DateTimeOffset date, string description)\n    {\n        Date=date;\n        Description=description;\n    }\n\n\n   [MapTo(\"date\")]\n    public DateTimeOffset Date {get;set;}\n\n    [MapTo(\"description\")]\n    public string Description {get; set;}\n}","path":null,"size_bytes":414,"size_tokens":null},"Player/Views/DashboardView.cs":{"content":"namespace Player.Views;\n\npublic class DashboardView : BaseView\n{\n    private readonly DashboardViewModel? viewModel;\n\n    public DashboardView(DashboardViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n\n            Style borderStyle = new Style(typeof(Border))\n            {\n                Setters =\n                {\n                    new Setter { Property = PaddingProperty, Value = 0 },\n                    new Setter { Property = Border.StrokeThicknessProperty, Value = 0 },\n                    new Setter\n                    {\n                        Property = Border.StrokeShapeProperty,\n                        Value = new RoundRectangle { CornerRadius = new CornerRadius(10) },\n                    },\n                },\n            };\n\n            Style verticalStackLayoutStyle = new Style(typeof(VerticalStackLayout))\n            {\n                Setters =\n                {\n                    new Setter { Property = VerticalStackLayout.SpacingProperty, Value = 5 },\n                    new Setter\n                    {\n                        Property = VerticalStackLayout.VerticalOptionsProperty,\n                        Value = LayoutOptions.Center,\n                    },\n                    new Setter { Property = VerticalStackLayout.WidthRequestProperty, Value = 100 },\n                },\n            };\n\n            Resources.Add(borderStyle);\n            Resources.Add(verticalStackLayoutStyle);\n\n            base.TopGrid.Children.Add(\n                new ImageButton\n                {\n                    HorizontalOptions = LayoutOptions.Start,\n                    VerticalOptions = LayoutOptions.Start,\n                }.AppThemeBinding(ImageButton.SourceProperty, \"dome_light_theme\", \"dome_dark_theme\")\n            );\n\n            base.BaseContentGrid.Add(\n                new ScrollView\n                {\n                    Padding = new Thickness(16, 10, 16, 21),\n                    Content = new Grid\n                    {\n                        RowDefinitions = Rows.Define(\n                            (BodyRow.first, Auto),\n                            (BodyRow.second, Auto),\n                            (BodyRow.third, Auto),\n                            (BodyRow.fourth, 210),\n                            (BodyRow.fifth, Auto),\n                            (BodyRow.sixth, Auto),\n                            (BodyRow.seventh, Auto),\n                            (BodyRow.eighth, Auto),\n                            (BodyRow.ninth, Auto),\n                            (BodyRow.tenth, Auto)\n                        ),\n                        ColumnDefinitions = Columns.Define(\n                            (BodyColumn.first, Star),\n                            (BodyColumn.second, Star)\n                        ),\n\n                        ColumnSpacing = 15,\n                        Children =\n                        {\n                            new ExtraBold28Label { }\n                                .Margins(16, 0, 0, 0)\n                                .Row(BodyRow.first)\n                                .ColumnSpan(2)\n                                .Bind(\n                                    Bold28Label.TextProperty,\n                                    nameof(viewModel.UserName),\n                                    stringFormat: \"Hey {0}\"\n                                ),\n                            new Border\n                            {\n                                Padding = new Thickness(17, 20),\n                                Content = new Grid\n                                {\n                                    RowDefinitions = Rows.Define(\n                                        (BodyRow.first, Auto),\n                                        (BodyRow.second, Auto),\n                                        (BodyRow.third, Auto),\n                                        (BodyRow.fourth, Auto),\n                                        (BodyRow.fifth, 2),\n                                        (BodyRow.sixth, Auto)\n                                    ),\n                                    ColumnDefinitions = Columns.Define(\n                                        (BodyColumn.first, Star),\n                                        (BodyColumn.second, Auto)\n                                    ),\n\n                                    ColumnSpacing = 5,\n                                    RowSpacing = 5,\n                                    Children =\n                                    {\n                                        new Border\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            Padding = new Thickness(10, 5),\n                                            Content = new Medium8Label\n                                            {\n                                                Text = \"PLAY NOW\",\n                                                TextColor = Colors.White,\n                                            },\n                                        }\n                                            .AppThemeBinding(\n                                                Border.BackgroundProperty,\n                                                Colors.Black,\n                                                Color.FromArgb(\"#5D5D5D\")\n                                            )\n                                            .Row(BodyRow.first)\n                                            .Column(BodyColumn.first),\n                                        new ExtraBold18Label { Text = \"Book Now to Play\" }\n                                            .Row(BodyRow.second)\n                                            .Column(BodyColumn.first),\n                                        new Medium12Label\n                                        {\n                                            Text = \"Archery | Badminton | Basketball | Golf\",\n                                        }\n                                            .Row(BodyRow.third)\n                                            .Column(BodyColumn.first),\n                                        new Image\n                                        {\n                                            Source = \"more.png\",\n                                            HorizontalOptions = LayoutOptions.Start,\n                                        }\n                                            .Row(BodyRow.fourth)\n                                            .Column(BodyColumn.first)\n                                            .Margins(0, 0, 0, 10),\n                                        new Rectangle\n                                        {\n                                            HorizontalOptions = LayoutOptions.Fill,\n                                            HeightRequest = 2,\n                                            Background = Colors.Gray,\n                                        }\n                                            .Row(BodyRow.fifth)\n                                            .ColumnSpan(2),\n                                        new MediumButton\n                                        {\n                                            Text = \"BOOK \",\n                                            VerticalOptions = LayoutOptions.Center,\n                                            FontSize = 11,\n                                            WidthRequest = 74,\n                                            Padding = new Thickness(20, 5),\n                                        }\n                                            .Row(BodyRow.second)\n                                            .Column(BodyColumn.second)\n                                            .BindCommand(nameof(viewModel.NavigateToPlayCommand)),\n                                        new Button\n                                        {\n                                            Text = \"My Bookings\",\n                                            Background = Colors.Transparent,\n                                            FontSize = 13,\n                                            FontFamily = \"InterMedium\",\n                                            HorizontalOptions = LayoutOptions.Center,\n                                            VerticalOptions = LayoutOptions.Start,\n                                            Padding = 0,\n                                        }\n                                            .AppThemeBinding(\n                                                Button.TextColorProperty,\n                                                Colors.Black,\n                                                Colors.White\n                                            )\n                                            .BindCommand(\n                                                nameof(viewModel.NavigateToMyBookingsViewCommand)\n                                            )\n                                            .Row(BodyRow.sixth)\n                                            .ColumnSpan(2)\n                                            .Margins(0, 5, 0, 0),\n                                    },\n                                },\n                            }\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.second)\n                                .ColumnSpan(2)\n                                .Margins(0, 15, 0, 0),\n                            new Border\n                            {\n                                StrokeThickness = 0,\n                                StrokeShape = new RoundRectangle\n                                {\n                                    CornerRadius = new CornerRadius(7),\n                                },\n                                Padding = new Thickness(0, 10, 0, 15),\n                                Content = new Grid\n                                {\n                                    RowDefinitions = Rows.Define(\n                                        (BodyRow.first, Auto),\n                                        (BodyRow.second, Auto)\n                                    ),\n\n                                    RowSpacing = 5,\n                                    ColumnSpacing = 10,\n                                    Children =\n                                    {\n                                        new SemiBold12Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            Text = \"Game Yard\",\n                                        }\n                                            .Row(BodyRow.first)\n                                            .Margins(15, 0, 0, 0),\n                                        new ScrollView\n                                        {\n                                            Orientation = ScrollOrientation.Horizontal,\n                                            HorizontalScrollBarVisibility =\n                                                ScrollBarVisibility.Always,\n                                            Background = Colors.Transparent,\n                                            Content = new Grid\n                                            {\n                                                RowDefinitions = Rows.Define((BodyRow.first, Auto)),\n\n                                                ColumnDefinitions = Columns.Define(\n                                                    (BodyColumn.first, Star),\n                                                    (BodyColumn.second, Star),\n                                                    (BodyColumn.third, Star)\n                                                ),\n\n                                                RowSpacing = 5,\n                                                ColumnSpacing = 10,\n                                                Children =\n                                                {\n                                                    new Border\n                                                    {\n                                                        StrokeThickness = 0,\n                                                        StrokeShape = new RoundRectangle\n                                                        {\n                                                            CornerRadius = new CornerRadius(7),\n                                                        },\n                                                        Padding = new Thickness(0),\n                                                        Background = Colors.Transparent,\n                                                        Content = new Image\n                                                        {\n                                                            Source = \"coach_banner.png\",\n\n                                                            Aspect = Aspect.AspectFill,\n                                                        },\n                                                    }\n                                                        .BindTapGesture(\n                                                            nameof(\n                                                                viewModel.NavigateToCoachViewCommand\n                                                            )\n                                                        )\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.first),\n                                                    new Border\n                                                    {\n                                                        StrokeThickness = 0,\n                                                        StrokeShape = new RoundRectangle\n                                                        {\n                                                            CornerRadius = new CornerRadius(7),\n                                                        },\n                                                        Padding = new Thickness(0),\n                                                        Background = Colors.Transparent,\n                                                        Content = new Image\n                                                        {\n                                                            Source = \"learn_banner.png\",\n\n                                                            Aspect = Aspect.AspectFit,\n                                                        }.BindTapGesture(\n                                                            nameof(\n                                                                viewModel.NavigateToLearnViewCommand\n                                                            )\n                                                        ),\n                                                    }\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.second),\n                                                    new Border\n                                                    {\n                                                        StrokeThickness = 0,\n                                                        StrokeShape = new RoundRectangle\n                                                        {\n                                                            CornerRadius = new CornerRadius(7),\n                                                        },\n                                                        Padding = new Thickness(0),\n                                                        Background = Colors.Transparent,\n                                                        Content = new Image\n                                                        {\n                                                            Source = \"connect_banner.png\",\n\n                                                            Aspect = Aspect.AspectFill,\n                                                        },\n                                                    }\n                                                        .BindTapGesture(\n                                                            nameof(\n                                                                viewModel.NavigateToConnectViewCommand\n                                                            )\n                                                        )\n                                                        .Row(BodyRow.second)\n                                                        .Column(BodyColumn.third),\n                                                },\n                                            },\n                                        }.Row(BodyRow.second),\n                                    },\n                                },\n                            }\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.third)\n                                .ColumnSpan(2)\n                                .Margins(0, 15, 0, 0),\n                            new Image { Source = \"coupon.png\" }\n                                .Row(BodyRow.fourth)\n                                .ColumnSpan(2)\n                                .Margins(0, 15, 0, 0),\n                            new Bold16Label { Text = \"Know More About Us!\" }\n                                .Row(BodyRow.fifth)\n                                .ColumnSpan(2)\n                                .Margins(0, 15, 0, 0),\n                            new Border\n                            {\n                                Padding = new Thickness(15, 10, 10, 10),\n                                Content = new Grid\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    VerticalOptions = LayoutOptions.Center,\n                                    RowDefinitions = Rows.Define(\n                                        (BodyRow.first, Auto),\n                                        (BodyRow.second, Auto)\n                                    ),\n                                    ColumnDefinitions = Columns.Define(\n                                        (BodyColumn.first, Auto),\n                                        (BodyColumn.second, Star)\n                                    ),\n\n                                    ColumnSpacing = 20,\n\n                                    Children =\n                                    {\n                                        new Image { HeightRequest = 26, WidthRequest = 28 }\n                                            .AppThemeBinding(\n                                                Image.SourceProperty,\n                                                \"connect_black.png\",\n                                                \"connect.png\"\n                                            )\n                                            .Row(BodyRow.first)\n                                            .RowSpan(2),\n                                        new ExtraBold16Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            VerticalOptions = LayoutOptions.End,\n                                            Text = \"Connect\",\n                                        }\n                                            .Row(BodyRow.first)\n                                            .Column(BodyColumn.second),\n                                        new Regular10Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            VerticalOptions = LayoutOptions.Start,\n                                            Text = \"Build Community\",\n                                        }\n                                            .Row(BodyRow.second)\n                                            .Column(BodyColumn.second),\n                                    },\n                                },\n                            }\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.first)\n                                .Margins(0, 10, 0, 0)\n                                .BindTapGesture(\n                                    nameof(viewModel.NavigateToConnectViewCommand),\n                                    commandSource: viewModel\n                                ),\n                            new Border\n                            {\n                                Padding = new Thickness(15, 10, 10, 10),\n                                Content = new Grid\n                                {\n                                    HorizontalOptions = LayoutOptions.Fill,\n                                    VerticalOptions = LayoutOptions.Center,\n                                    RowDefinitions = Rows.Define(\n                                        (BodyRow.first, Auto),\n                                        (BodyRow.second, Auto)\n                                    ),\n                                    ColumnDefinitions = Columns.Define(\n                                        (BodyColumn.first, Auto),\n                                        (BodyColumn.second, Star)\n                                    ),\n\n                                    ColumnSpacing = 20,\n                                    Children =\n                                    {\n                                        new Image\n                                        {\n                                            HorizontalOptions = LayoutOptions.Center,\n                                            HeightRequest = 23,\n                                            WidthRequest = 26,\n                                        }\n                                            .AppThemeBinding(\n                                                Image.SourceProperty,\n                                                \"learn_black.png\",\n                                                \"learn.png\"\n                                            )\n                                            .Row(BodyRow.first)\n                                            .RowSpan(2),\n                                        new ExtraBold16Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            VerticalOptions = LayoutOptions.End,\n                                            Text = \"Learn\",\n                                        }\n                                            .Row(BodyRow.first)\n                                            .Column(BodyColumn.second),\n                                        new Regular10Label\n                                        {\n                                            HorizontalOptions = LayoutOptions.Start,\n                                            VerticalOptions = LayoutOptions.Start,\n                                            Text = \"Up Your Game\",\n                                        }\n                                            .Row(BodyRow.second)\n                                            .Column(BodyColumn.second),\n                                    },\n                                },\n                            }\n                                .AppThemeBinding(\n                                    Border.BackgroundProperty,\n                                    Colors.White,\n                                    Color.FromArgb(\"#23262A\")\n                                )\n                                .Row(BodyRow.sixth)\n                                .Column(BodyColumn.second)\n                                .Margins(0, 10, 0, 0)\n                                .BindTapGesture(\n                                    nameof(viewModel.NavigateToLearnViewCommand),\n                                    commandSource: viewModel\n                                ),\n                            new Image\n                            {\n                                HorizontalOptions = LayoutOptions.Center,\n                                HeightRequest = 98,\n                                WidthRequest = 98,\n                            }\n                                .AppThemeBinding(\n                                    Image.SourceProperty,\n                                    \"dome_logo.png\",\n                                    \"dome_logo_white.png\"\n                                )\n                                .Row(BodyRow.seventh)\n                                .ColumnSpan(2)\n                                .Margins(0, 20, 0, 0),\n                            new Regular12Label\n                            {\n                                Text = \"Play Your Sport Everyday\",\n                                HorizontalOptions = LayoutOptions.Center,\n                            }\n                                .Row(BodyRow.eighth)\n                                .ColumnSpan(2),\n                            new Regular10Label { HorizontalOptions = LayoutOptions.Center }\n                                .Row(BodyRow.ninth)\n                                .ColumnSpan(2)\n                                .Bind(\n                                    Regular10Label.TextProperty,\n                                    nameof(viewModel.CurrentVersion),\n                                    stringFormat: \"V {0}\"\n                                ),\n                        },\n                    },\n                }\n                    .Row(BodyRow.second)\n                    .ColumnSpan(2)\n            );\n\n            Loaded += DashboardView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n        }\n    }\n\n    private async void DashboardView_Loaded(object? sender, EventArgs e)\n    {\n        try\n        {\n            if (viewModel != null)\n            {\n                await viewModel.OnPageLoad();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":27224,"size_tokens":null},"Admin/ViewModels/CoachViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class CoachViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        Coach coachData;\n\n        [ObservableProperty]\n        List<string> competancyTypes;\n\n        [ObservableProperty]\n        List<string> allGames;\n\n        [ObservableProperty]\n        List<Venue> allVenues;\n\n        [ObservableProperty]\n        Venue? selectedVenue;\n\n        Realm realm;\n\n        private readonly IImageService imageService;\n\n        public CoachViewModel(\n            IImageService imageService,\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity\n        )\n            : base(realmService, navigationService, connectivity)\n        {\n            try\n            {\n                this.imageService = imageService;\n\n                CompetancyTypes = new List<string>() { \"Beginner\", \"Intermediate\", \"Advanced\" };\n\n                realm = Realm.GetInstance(realmService.Config);\n\n                IEnumerable<Game> games = realm.All<Game>();\n\n                AllGames = games.Select(p => p.GameName).ToList();\n\n                // Load all venues for selection\n                AllVenues = realm.All<Venue>().Where(v => v.IsActive).ToList();\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task OnLoaded()\n        {\n            try\n            {\n                SelectedVenue = null;\n                CoachData = new Coach(\n                    id: ObjectId.GenerateNewId(),\n                    coachName: string.Empty,\n                    gameCategory: string.Empty,\n                    coachDescription: string.Empty,\n                    venue: null,\n                    competancy: string.Empty,\n                    phoneCode: \"+1\",\n                    contactNumber: string.Empty,\n                    email: string.Empty\n                );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task UploadCoach()\n        {\n            try\n            {\n                if (\n                    string.IsNullOrEmpty(CoachData.CoachName)\n                    || string.IsNullOrEmpty(CoachData.CoachDescription)\n                    || SelectedVenue == null\n                    || string.IsNullOrEmpty(CoachData.Competancy)\n                    || string.IsNullOrEmpty(CoachData.ContactNumber)\n                    || string.IsNullOrEmpty(CoachData.Email)\n                    || string.IsNullOrEmpty(CoachData.GameCategory)\n                )\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please fill all the fields\", \"OK\");\n                }\n                else\n                {\n                    // Set the selected venue before saving\n                    CoachData.Venue = SelectedVenue;\n                    \n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Add(CoachData);\n                    });\n                    await Shell.Current.DisplayAlert(\n                        \"Success\",\n                        \"Content uploaded successfully\",\n                        \"OK\"\n                    );\n                    await OnLoaded();\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task Cancel()\n        {\n            try\n            {\n                await OnLoaded();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3896,"size_tokens":null},"Admin/ViewModels/CouponViewModel.cs":{"content":"﻿namespace Admin.ViewModels\n{\n    public partial class CouponViewModel : ObservableObject\n    {\n        // properties for new coupon\n        [ObservableProperty]\n        string couponCode = string.Empty;\n\n        [ObservableProperty]\n        decimal discountPercentage;\n\n        [ObservableProperty]\n        DateTime expiryDate;\n\n        [ObservableProperty]\n        decimal couponUpperLimit;\n\n        // errors in new coupon properties\n\n        [ObservableProperty]\n        string couponCodeError = string.Empty;\n\n        [ObservableProperty]\n        string discountPercentageError = string.Empty;\n\n        [ObservableProperty]\n        string expiryDateError = string.Empty;\n\n        [ObservableProperty]\n        string couponUpperLimitError = string.Empty;\n\n        // properties for filtering existing coupons\n        [ObservableProperty]\n        List<string>? couponStatuses;\n\n        [ObservableProperty]\n        string? selectedCouponStatus;\n\n        [ObservableProperty]\n        ObservableCollection<Coupon>? allCoupons;\n\n        [ObservableProperty]\n        ObservableCollection<Coupon>? filteredCoupons;\n\n        Realm realm;\n\n        IDisposable couponToken;\n\n        private readonly IPopupNavigation? popupNavigation;\n        private readonly IRealmService? realmService;\n\n        public CouponViewModel(IPopupNavigation popupNavigation, IRealmService realmService)\n        {\n            this.popupNavigation = popupNavigation;\n            this.realmService = realmService;\n\n            AllCoupons = new ObservableCollection<Coupon>();\n            FilteredCoupons = new ObservableCollection<Coupon>();\n\n            CouponStatuses = new List<string>() { \"Expired\", \"Active\", \"Used\" };\n        }\n\n        public async Task Initialize()\n        {\n            try\n            {\n                realm = Realm.GetInstance(realmService.Config);\n                AllCoupons = new ObservableCollection<Coupon>(realm.All<Coupon>());\n                FilteredCoupons = AllCoupons\n                    .Where(c => c.CouponStatus == CouponPosition.unused.ToString())\n                    .ToObservableCollection();\n\n                SelectedCouponStatus = CouponStatuses[1];\n\n                couponToken = realm\n                    .All<Coupon>()\n                    .SubscribeForNotifications(\n                        async (sender, changes) =>\n                        {\n                            AllCoupons = new ObservableCollection<Coupon>(realm.All<Coupon>());\n                            await SelectedCouponStatusChanged();\n                        }\n                    );\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            base.OnPropertyChanged(e);\n            if (e.PropertyName == nameof(SelectedCouponStatus))\n            {\n                await SelectedCouponStatusChanged();\n            }\n        }\n\n        private async Task SelectedCouponStatusChanged()\n        {\n            try\n            {\n                if (SelectedCouponStatus == CouponStatuses[0])\n                {\n                    FilteredCoupons = AllCoupons\n                        .Where(c => c.CouponStatus == CouponPosition.expired.ToString())\n                        .ToObservableCollection();\n                }\n                else if (SelectedCouponStatus == CouponStatuses[1])\n                {\n                    FilteredCoupons = AllCoupons\n                        .Where(c => c.CouponStatus == CouponPosition.unused.ToString())\n                        .ToObservableCollection();\n                }\n                else if (SelectedCouponStatus == CouponStatuses[2])\n                {\n                    FilteredCoupons = AllCoupons\n                        .Where(c => c.CouponStatus == CouponPosition.used.ToString())\n                        .ToObservableCollection();\n                }\n            }\n            catch (Exception ex)\n            {\n                throw;\n            }\n        }\n\n        /// <summary>\n        /// delete existing coupon\n        /// </summary>\n        /// <param name=\"coupon\"></param>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task DeleteCoupon(Coupon coupon)\n        {\n            try\n            {\n                bool userResponse = await Shell.Current.DisplayAlert(\n                    \"delete the coupon\",\n                    \"the coupon will be delted permanently\",\n                    \"Yes\",\n                    \"No\"\n                );\n                if (userResponse)\n                {\n                    await realm.WriteAsync(() =>\n                    {\n                        realm.Remove(coupon);\n                    });\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        /// <summary>\n        /// mopup for adding new coupon\n        /// </summary>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task AddCoupon()\n        {\n            try\n            {\n                await popupNavigation.PushAsync(new AddCouponMopup(this));\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        /// <summary>\n        /// on Save button clicked in new coupon mopup\n        /// </summary>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task SaveCoupon()\n        {\n            try\n            {\n                bool hasErrors = FindErrors();\n                if (hasErrors)\n                {\n                    return;\n                }\n\n                DateTimeOffset dateTime = DateHelper.GetDate(ExpiryDate.Date);\n                Coupon coupon = new Coupon(\n                    CouponCode,\n                    DiscountPercentage,\n                    dateTime,\n                    CouponPosition.used.ToString(),\n                    maximumDiscount: CouponUpperLimit\n                );\n\n                await realm.WriteAsync(() =>\n                {\n                    realm.Add(coupon);\n                });\n\n                CouponCode = string.Empty;\n                DiscountPercentage = 0;\n                ExpiryDate = DateTime.Now;\n                CouponUpperLimit = 0;\n\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        /// <summary>\n        /// validate all the fields in new coupon mopup before saving new coupon\n        /// </summary>\n        /// <returns></returns>\n        bool FindErrors()\n        {\n            CouponCodeError = string.IsNullOrEmpty(CouponCode)\n                ? \"Coupon code is required\"\n                : string.Empty;\n\n            DiscountPercentageError =\n                DiscountPercentage <= 0 ? \"should be greater than 0\" : string.Empty;\n\n            ExpiryDateError =\n                ExpiryDate < DateTime.Today\n                    ? \"should be equal to or greater than today\"\n                    : string.Empty;\n\n            CouponUpperLimitError =\n                CouponUpperLimit <= 0 ? \"should be greater than 0\" : string.Empty;\n\n            List<Coupon> activeCoupons = AllCoupons\n                .Where(c => c.CouponStatus == CouponPosition.unused.ToString())\n                .ToList();\n\n            if (activeCoupons.Count > 0)\n            {\n                if (!string.IsNullOrEmpty(CouponCode))\n                {\n                    foreach (Coupon activeCoupon in activeCoupons)\n                    {\n                        if (activeCoupon.CouponCode == CouponCode)\n                        {\n                            CouponCodeError = \"Coupon code already exists\";\n                        }\n                    }\n                }\n            }\n\n            return (\n                !string.IsNullOrEmpty(CouponCodeError)\n                || !string.IsNullOrEmpty(DiscountPercentageError)\n                || !string.IsNullOrEmpty(ExpiryDateError)\n                || !string.IsNullOrEmpty(CouponUpperLimitError)\n            );\n        }\n\n        /// <summary>\n        /// close the new coupon mopup\n        /// </summary>\n        /// <returns></returns>\n        [RelayCommand]\n        async Task CancelNewCoupon()\n        {\n            try\n            {\n                await popupNavigation.PopAsync();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":8815,"size_tokens":null},"Admin/Services/Interfaces/ISettingsService.cs":{"content":"﻿namespace Admin.Services.Interfaces\n{\n    public interface ISettingsService\n    {\n        bool IsEmailVerificationPending { get; set; }\n    }\n}\n","path":null,"size_bytes":147,"size_tokens":null},"Admin/ViewModels/Account/LoginViewModel.cs":{"content":"﻿using Admin.View;\n\nnamespace Admin.ViewModels.Account\n{\n    public partial class LoginViewModel(\n        INavigationService navigationService,\n        IConnectivity connectivity,\n        ISettingsService settingsService,\n        IPopupNavigation popupNavigation\n    ) : ObservableValidator\n    {\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        [ObservableProperty]\n        string email = String.Empty;\n\n        [Required(ErrorMessage = \"Password is Empty\")]\n        [ObservableProperty]\n        string password = String.Empty;\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string passwordError = string.Empty;\n\n        private readonly INavigationService navigationService = navigationService;\n        private readonly IConnectivity connectivity = connectivity;\n        private readonly ISettingsService settingsService = settingsService;\n        private readonly IPopupNavigation popupNavigation = popupNavigation;\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName == null || e.PropertyName.Contains(\"Error\"))\n                {\n                    return;\n                }\n                ValidateAllProperties();\n                IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                if (propertyErrors.Any())\n                {\n                    string errorMessage = propertyErrors.First().ErrorMessage ?? \"error\";\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n                else\n                {\n                    string errorMessage = string.Empty;\n                    SetErrorValue(e.PropertyName, errorMessage);\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"Email\":\n                        EmailError = errorMessage;\n                        break;\n                    case \"Password\":\n                        PasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task Login()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n\n                    foreach (ValidationResult validationResult in propertyErrors)\n                    {\n                        string? errorMessage = validationResult.ErrorMessage ?? string.Empty;\n                        SetErrorValue(validationResult.MemberNames.ElementAt(0), errorMessage);\n                    }\n                    return;\n                }\n\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                await popupNavigation.PushAsync(new BusyMopup());\n                string email = Email.ToLower().Trim();\n                string password = Password.Trim();\n\n                if (App.RealmApp == null)\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", \"Please re-start the app\", \"OK\");\n                }\n                else\n                {\n                    User realmUser = await App.RealmApp.LogInAsync(\n                        Credentials.EmailPassword(Email, Password)\n                    );\n\n                    if (realmUser != null)\n                    {\n                        settingsService.IsEmailVerificationPending = true;\n                        await DownloadDataAndNavigate();\n                    }\n                    else\n                    {\n                        await popupNavigation.PopAsync();\n                        await AlertHelper.ShowSnackBar(\"Sign In fail! please try again\");\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task DownloadDataAndNavigate()\n        {\n            try\n            {\n                CancellationTokenSource cts = new();\n                CancellationToken cancellationToken = cts.Token;\n                cts.CancelAfter(TimeSpan.FromMinutes(1));\n\n                // the tester@storereview.com is store reviewer account which will not require authentication and Verification\n                if (Email == \"tester@store.com\")\n                {\n                    settingsService.IsEmailVerificationPending = false;\n                }\n\n                await navigationService.NavigateToAsync($\"///{nameof(SyncDataView)}\");\n\n                await popupNavigation.PopAsync();\n                Email = string.Empty;\n                Password = string.Empty;\n            }\n            catch (Exception ex)\n            {\n                await popupNavigation.PopAsync();\n                if (ex.Message == \"A task was canceled.\")\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Error in downloading data\",\n                        \"Try again after some time. If error persist contact the developer\",\n                        \"OK\"\n                    );\n                }\n                else\n                {\n                    await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n                }\n            }\n        }\n\n        [RelayCommand]\n        async Task ForgotPassword()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n                await navigationService.NavigateToAsync($\"/{nameof(ForgotPasswordView)}\");\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6812,"size_tokens":null},"Dome.Shared/GlobalUsingsForShared.cs":{"content":"﻿global using System.Collections.ObjectModel;\nglobal using CommunityToolkit.Maui;\nglobal using CommunityToolkit.Maui.Core;\nglobal using CommunityToolkit.Maui.Markup;\nglobal using CommunityToolkit.Mvvm.ComponentModel;\nglobal using Dome.Shared.Constants;\nglobal using Dome.Shared.Helper;\nglobal using static Dome.Shared.Local.Enums;\nglobal using Dome.Shared.Services.Interfaces;\nglobal using Dome.Shared.Services.Interfaces.Authentication;\nglobal using Dome.Shared.Synced.Player;\nglobal using Microsoft.Extensions.Configuration;\nglobal using Microsoft.Maui.Controls;\nglobal using MongoDB.Bson;\nglobal using Mopups.Pages;\nglobal using Ory.Client.Api;\nglobal using Ory.Client.Client;\nglobal using Ory.Client.Model;\nglobal using Realms;\nglobal using Twilio;\nglobal using Twilio.Rest.Verify.V2.Service;\nglobal using Stream = System.IO.Stream;\nglobal using Task = System.Threading.Tasks.Task;\n","path":null,"size_bytes":888,"size_tokens":null},"Player/ViewModels/Account/ChangePasswordViewModel.cs":{"content":"﻿namespace Player.ViewModels.Account\n{\n    public partial class ChangePasswordViewModel : AccountBaseViewModel\n    {\n        [Required(ErrorMessage = \"Email is Empty\")]\n        [EmailAddress(ErrorMessage = \"This email is not a valid email address\")]\n        [ObservableProperty]\n        string? email;\n\n        [ObservableProperty]\n        [Required]\n        [MinLength(8, ErrorMessage = \"The password should have atleast 8 characters\")]\n        [MaxLength(14, ErrorMessage = \"The password should not be more than 14 characters\")]\n        [NotifyPropertyChangedFor(nameof(ConfirmNewPassword))]\n        string newPassword = String.Empty;\n\n        string confirmNewPassword = String.Empty;\n\n        [Required]\n        [Compare(nameof(NewPassword), ErrorMessage = \"Passwords do not match\")]\n        public string ConfirmNewPassword\n        {\n            get => confirmNewPassword;\n            set => SetProperty(ref confirmNewPassword, value, true);\n        }\n\n        [ObservableProperty]\n        string emailError = string.Empty;\n\n        [ObservableProperty]\n        string newPasswordError = string.Empty;\n\n        [ObservableProperty]\n        string confirmNewPasswordError = string.Empty;\n\n        private readonly INavigationService? navigationService;\n        private readonly IRealmService? realmService;\n        private readonly IConnectivity? connectivity;\n        private readonly ISettingsService? settingsService;\n\n        public ChangePasswordViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity,\n            ISettingsService settingsService\n        )\n            : base(navigationService, connectivity, settingsService)\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.connectivity = connectivity;\n                this.navigationService = navigationService;\n                this.settingsService = settingsService;\n\n                Email = realmService.RealmUser.Profile.Email;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        protected override async void OnPropertyChanged(PropertyChangedEventArgs e)\n        {\n            try\n            {\n                base.OnPropertyChanged(e);\n                if (e.PropertyName != null)\n                {\n                    if (e.PropertyName.Contains(\"Error\") || e.PropertyName == \"VisibilityImage\")\n                    {\n                        return;\n                    }\n                    ClearErrors(e.PropertyName);\n                    ValidateAllProperties();\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors(e.PropertyName);\n                    if (propertyErrors.Any())\n                    {\n                        string? errorMessage = propertyErrors.First().ErrorMessage;\n                        if (errorMessage != null)\n                        {\n                            SetErrorValue(e.PropertyName, errorMessage);\n                        }\n                        else\n                        {\n                            SetErrorValue(e.PropertyName, \"error\");\n                        }\n                    }\n                    else\n                    {\n                        string errorMessage = string.Empty;\n                        SetErrorValue(e.PropertyName, errorMessage);\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async void SetErrorValue(string propertyName, string errorMessage)\n        {\n            try\n            {\n                switch (propertyName)\n                {\n                    case \"Email\":\n                        EmailError = errorMessage;\n                        break;\n                    case \"NewPassword\":\n                        NewPasswordError = errorMessage;\n                        break;\n                    case \"ConfirmNewPassword\":\n                        ConfirmNewPasswordError = errorMessage;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        private async Task ResetPassword()\n        {\n            try\n            {\n                ValidateAllProperties();\n                if (HasErrors)\n                {\n                    IEnumerable<ValidationResult> propertyErrors = GetErrors();\n                    if (propertyErrors.Any())\n                    {\n                        foreach (ValidationResult validationResult in propertyErrors)\n                        {\n                            if (validationResult.ErrorMessage != null)\n                            {\n                                SetErrorValue(\n                                    validationResult.MemberNames.ElementAt(0),\n                                    validationResult.ErrorMessage\n                                );\n                            }\n                            else\n                            {\n                                SetErrorValue(validationResult.MemberNames.ElementAt(0), \"error\");\n                            }\n                        }\n                        return;\n                    }\n                }\n\n                if (connectivity?.NetworkAccess != NetworkAccess.Internet)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"No Network Connection\", \"OK\");\n                    return;\n                }\n\n                if (Email != realmService.RealmUser?.Profile.Email)\n                {\n                    await Shell.Current.DisplayAlert(\"Alert\", \"Incorrect email\", \"OK\");\n                }\n\n                if (navigationService != null && Email != null)\n                {\n                    await navigationService.NavigateToAsync(\n                        nameof(VerifyEmailForPasswordResetView),\n                        new ShellNavigationQueryParameters\n                        {\n                            { \"Email\", Email },\n                            { \"NewPassword\", NewPassword },\n                        }\n                    );\n                    Email = string.Empty;\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        [RelayCommand]\n        async Task CancelPasswordReset()\n        {\n            if (navigationService != null)\n            {\n                await navigationService.PopAsync();\n                Email = string.Empty;\n            }\n        }\n    }\n}\n","path":null,"size_bytes":6929,"size_tokens":null},"Player/ViewModels/Book/BookingTimingViewModel.cs":{"content":"namespace Player.ViewModels;\n\nusing Dome.Shared.Synced.Player;\n\npublic partial class BookingTimingViewModel : BaseViewModel, IQueryAttributable\n{\n    [ObservableProperty]\n    byte[]? playerImage;\n\n    [ObservableProperty]\n    string? gameName;\n\n    // this is the venue selected by the user in VenuesList view\n    [ObservableProperty]\n    Venue? selectedVenue;\n\n    // this time is set by assigning venueOpen hour and minute to the selected date\n    [ObservableProperty]\n    DateTime venueOpenTime;\n\n    // this time is set by assigning venueClose hour and minute to the selected date\n    [ObservableProperty]\n    DateTime venueCloseTime;\n\n    [ObservableProperty]\n    VenueUser? gamer;\n\n    [ObservableProperty]\n    ObservableCollection<Field>? availableFields;\n\n    [ObservableProperty]\n    ObservableCollection<object>? selectedFields;\n\n    [ObservableProperty]\n    IEnumerable<Holiday> holidays;\n\n    [ObservableProperty]\n    List<VenueDate>? venueDates;\n\n    [ObservableProperty]\n    VenueDate? selectedDate;\n\n    [ObservableProperty]\n    AvailableGame? selectedGame;\n\n    [ObservableProperty]\n    double bookingDuration;\n\n    [ObservableProperty]\n    ObservableCollection<VenueDate>? startHoursList;\n\n    // the start time of the booking which is the combination of the selected date, selected hour and selected minute\n    [ObservableProperty]\n    VenueDate? selectedStartTime;\n\n    bool isWeekDay;\n\n    Realm? syncRealm;\n\n    // Constants\n    private const int MinBookingDurationMinutes = 60;\n    private const int MaxBookingDurationMinutes = 180;\n    private const int TimeSlotIntervalMinutes = 30;\n    private const int BookingWindowDays = 90;\n    private const int MinTimeRequiredToBookTodayMinutes = 75; // MinBookingDuration + buffer for checkout\n    private const int AllowedPastBookingMinutes = 15;\n    private const int MaxTimeSlotsFor24HourVenue = 22;\n\n    private readonly IRealmService? realmService;\n    private readonly IConnectivity? connectivity;\n    private readonly INavigationService? navigationService;\n    private readonly IAddToCartService? addToCartService;\n    private readonly IPopupNavigation popupNavigation;\n    private readonly IStripeService stripeService;\n\n    public BookingTimingViewModel(\n        IRealmService realmService,\n        IConnectivity connectivity,\n        INavigationService navigationService,\n        IAddToCartService addToCartService,\n        IPopupNavigation popupNavigation,\n        IStripeService stripeService\n    )\n        : base(navigationService, realmService, connectivity)\n    {\n        try\n        {\n            this.realmService = realmService;\n            this.connectivity = connectivity;\n            this.navigationService = navigationService;\n            this.addToCartService = addToCartService;\n            this.popupNavigation = popupNavigation;\n            this.stripeService = stripeService;\n\n            syncRealm = Realm.GetInstance(realmService.Config);\n\n            StartHoursList = new ObservableCollection<VenueDate>();\n            AvailableFields = new ObservableCollection<Field>();\n            SelectedFields = new ObservableCollection<object>();\n            Holidays= new List<Holiday>();\n            VenueDates = new List<VenueDate>();\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    #region Helper Methods\n\n    /// <summary>\n    /// Checks if the given date falls on a weekend (Saturday or Sunday)\n    /// </summary>\n    private static bool IsWeekend(DateTimeOffset date) =>\n        date.DayOfWeek == DayOfWeek.Saturday || date.DayOfWeek == DayOfWeek.Sunday;\n\n    /// <summary>\n    /// Creates a DateTime by combining a date with specific hour and minute values\n    /// </summary>\n    private static DateTime BuildDateTime(DateTime date, int hour, int minute, int addDays = 0) =>\n        new DateTime(date.Year, date.Month, date.Day, hour, minute, 0).AddDays(addDays);\n\n    /// <summary>\n    /// Creates a DateTime by combining a DateTimeOffset date with specific hour and minute values\n    /// </summary>\n    private static DateTime BuildDateTime(\n        DateTimeOffset date,\n        int hour,\n        int minute,\n        int addDays = 0\n    ) => new DateTime(date.Year, date.Month, date.Day, hour, minute, 0).AddDays(addDays);\n\n    /// <summary>\n    /// Creates a DateTime by combining a date with the time components from another DateTime\n    /// </summary>\n    private static DateTime BuildDateTime(DateTime date, DateTime time, int addDays = 0) =>\n        new DateTime(date.Year, date.Month, date.Day, time.Hour, time.Minute, time.Second).AddDays(\n            addDays\n        );\n\n    /// <summary>\n    /// Creates a DateTime by combining a DateTimeOffset date with the time components from another DateTime\n    /// </summary>\n    private static DateTime BuildDateTime(DateTimeOffset date, DateTime time, int addDays = 0) =>\n        new DateTime(date.Year, date.Month, date.Day, time.Hour, time.Minute, time.Second).AddDays(\n            addDays\n        );\n\n    /// <summary>\n    /// Gets the open and close times based on whether it's a weekday or weekend\n    /// </summary>\n    private (DateTime openTime, DateTime closeTime) GetVenueTiming(bool isWeekend)\n    {\n        if (isWeekend)\n        {\n            return (\n                SelectedGame.Timing.WeekendOpenTime.DateTime,\n                SelectedGame.Timing.WeekendCloseTime.DateTime\n            );\n        }\n        return (\n            SelectedGame.Timing.WeekdayOpenTime.DateTime,\n            SelectedGame.Timing.WeekdayCloseTime.DateTime\n        );\n    }\n\n    /// <summary>\n    /// Rounds the current time to the nearest time slot (30-minute intervals)\n    /// </summary>\n    private static DateTime RoundToNearestSlot(DateTime date)\n    {\n        int hour = date.Hour;\n        int minute = date.Minute >= 30 ? 30 : 0;\n        return BuildDateTime(date, hour, minute);\n    }\n\n    /// <summary>\n    /// Checks if the given date is a Canada holiday\n    /// </summary>\n    private bool IsCanadaHoliday(DateTimeOffset date) =>\n        Holidays?.Any(h => h.Date.Date == date.Date) == true;\n\n    #endregion\n\n    public async void ApplyQueryAttributes(IDictionary<string, object> query)\n    {\n        try\n        {\n            foreach (var item in query)\n            {\n                if (item.Key == \"gameName\")\n                {\n                    GameName = item.Value.ToString();\n                }\n                if (item.Key == \"venueId\")\n                {\n                    ObjectId? id = (ObjectId)item.Value;\n                    if (id != null)\n                    {\n                        await GetVenueFromDB(id);\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await AppShell.Current.DisplayAlert(\"error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// called when the view model gets venue id from the query string. get the venue from the database and set the selected venue and selected game. Finally calls AddDates method\n    /// </summary>\n    /// <returns></returns>\n    private async Task GetVenueFromDB(ObjectId? venueId)\n    {\n        try\n        {\n            SelectedVenue = syncRealm.Find<Venue>(venueId);\n            Holidays = SelectedVenue.Holidays;\n\n            Gamer = syncRealm\n                .All<VenueUser>()\n                .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                .FirstOrDefault();\n\n            PlayerImage = Gamer?.ProfileImage;\n\n            SelectedGame = SelectedVenue\n                ?.AvailableGames.Where(g => g.Name == GameName)\n                .FirstOrDefault();\n\n            await AddDates();\n\n            // this is to remove the reserved bookings if any because they are not valid anymore as the app don't support cart system\n            IEnumerable<Booking>? ReservedBookings = Gamer\n                ?.Bookings.Where(g => g.BookingStatus == AppConstants.Reserved)\n                .ToObservableCollection();\n\n            if (ReservedBookings != null && ReservedBookings.Any())\n            {\n                await syncRealm.WriteAsync(() =>\n                {\n                    foreach (Booking reservedBooking in ReservedBookings)\n                    {\n                        syncRealm.Remove(reservedBooking);\n                    }\n                });\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// add dates to the VenueDates list for 90 days from today. set the selected date to today which will trigger the DateSelected method\n    /// </summary>\n    /// <returns></returns>\n    async Task AddDates()\n    {\n        try\n        {\n            isWeekDay = !IsWeekend(DateTime.Today);\n            var (openTime, closeTime) = GetVenueTiming(!isWeekDay);\n\n            // if close time is equal to open time it means the venue remains open for 24 hours\n            if (closeTime.TimeOfDay == openTime.TimeOfDay)\n            {\n                for (\n                    DateTime date = DateTime.Now;\n                    date < DateTime.Now.AddDays(BookingWindowDays - 1);\n                    date = date.AddDays(1)\n                )\n                {\n                    VenueDates?.Add(new VenueDate(date: date));\n                }\n            }\n            // if venue closes on same day as it opens or closes after midnight\n            else\n            {\n                // if the close time is less than open time it means the venue closes on the next day\n                int addDays = closeTime.TimeOfDay < openTime.TimeOfDay ? 1 : 0;\n                closeTime = BuildDateTime(DateTime.Today, closeTime, addDays);\n\n                // if less than minimum required time to book today, start from tomorrow\n                if (\n                    closeTime - DateTime.Now\n                    < TimeSpan.FromMinutes(MinTimeRequiredToBookTodayMinutes)\n                )\n                {\n                    for (\n                        DateTime date = DateTime.Now.AddDays(1);\n                        date < DateTime.Now.AddDays(BookingWindowDays);\n                        date = date.AddDays(1)\n                    )\n                    {\n                        VenueDates?.Add(new VenueDate(date: date));\n                    }\n                }\n                // start the date from today\n                else\n                {\n                    for (\n                        DateTime date = DateTime.Now;\n                        date < DateTime.Now.AddDays(BookingWindowDays - 1);\n                        date = date.AddDays(1)\n                    )\n                    {\n                        VenueDates?.Add(new VenueDate(date: date));\n                    }\n                }\n            }\n\n            SelectedDate = VenueDates?.FirstOrDefault();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// Highlight the selected date and get start time and close time of the venue according to the weekday or weekend. Finally calls SetTimingLists method\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task DateSelected()\n    {\n        try\n        {\n            VenueDates.ToList().ForEach(m => m.IsSelected = false);\n            // highlight the selected date in the view\n            SelectedDate.IsSelected = true;\n\n            isWeekDay = !IsWeekend(SelectedDate.Date);\n            var (openTime, closeTime) = GetVenueTiming(!isWeekDay);\n\n            // the venue closes on the next day if close time < open time\n            int addDays = closeTime.TimeOfDay < openTime.TimeOfDay ? 1 : 0;\n            VenueCloseTime = BuildDateTime(SelectedDate.Date, closeTime, addDays);\n            VenueOpenTime = BuildDateTime(SelectedDate.Date, openTime);\n\n            await SetTimingList(VenueOpenTime, VenueCloseTime);\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// invoked when the user select the date from the date picker or when initial date is set after dates where added. save the time list in StartHoursList according to the open time and close time of the venue. calls SetStartTime method and set the booking duration to 60 minutes\n    /// </summary>\n    /// <returns></returns>\n    public async Task SetTimingList(DateTime openTime, DateTime closeTime)\n    {\n        try\n        {\n            BookingDuration = MinBookingDurationMinutes;\n            await SetSelectedStartTime();\n            StartHoursList.Clear();\n            if (openTime == closeTime)\n            {\n                // 24-hour venue: show time slots for display purposes\n                int count = 1;\n                while (count <= MaxTimeSlotsFor24HourVenue)\n                {\n                    StartHoursList.Add(new VenueDate(date: closeTime));\n                    closeTime = closeTime.AddMinutes(TimeSlotIntervalMinutes);\n                    count++;\n                }\n            }\n            else\n            {\n                while (openTime < closeTime)\n                {\n                    StartHoursList.Add(new VenueDate(date: openTime));\n                    // break when only one slot remaining to allow booking the last slot\n                    if (closeTime - openTime == TimeSpan.FromMinutes(TimeSlotIntervalMinutes))\n                    {\n                        break;\n                    }\n                    openTime = openTime.AddMinutes(TimeSlotIntervalMinutes);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// When ever new date is selected the new timing list is created in SetTimingList().\n    /// The SetTimingList() calls SetSelectedStartTime().\n    /// if the venue is open 24 hours set the selected time to current time.\n    /// if the selected date is today and the venue closes on the next day set the selected time to the open time of the venue.\n    /// if the selected date is today and the venue closes on the same day set the selected time to the open time of the venue.\n    /// if the selected date is greater than today set the selected time to the open time of the venue.\n    /// finally calls OnTimeChanged method\n    /// </summary>\n    /// <param name=\"openTime\"></param>\n    /// <param name=\"closeTime\"></param>\n    /// <returns></returns>\n    private async Task SetSelectedStartTime()\n    {\n        try\n        {\n            DateTime selectedTime = DetermineInitialStartTime();\n\n            await OnTimeChanged(selectedTime);\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// Determines the initial start time based on venue type and current time\n    /// </summary>\n    private DateTime DetermineInitialStartTime()\n    {\n        // 24-hour venue\n        if (VenueOpenTime == VenueCloseTime)\n        {\n            return SelectedDate?.Date.Date == DateTime.Today\n                ? RoundToNearestSlot(DateTime.Now)\n                : VenueOpenTime;\n        }\n\n        // Future date - use venue open time\n        if (SelectedDate?.Date.Date != DateTime.Today)\n        {\n            return VenueOpenTime;\n        }\n\n        // Today - determine based on current time relative to venue hours\n        return DetermineStartTimeForToday();\n    }\n\n    /// <summary>\n    /// Determines the start time when booking for today\n    /// </summary>\n    private DateTime DetermineStartTimeForToday()\n    {\n        var now = DateTime.Now;\n        bool venueClosesNextDay = VenueCloseTime.TimeOfDay < VenueOpenTime.TimeOfDay;\n\n        // Check if current time is within venue operating hours\n        bool isWithinOperatingHours = venueClosesNextDay\n            ? (now >= VenueOpenTime && now < VenueCloseTime)\n            : (\n                now.TimeOfDay >= VenueOpenTime.TimeOfDay && now.TimeOfDay < VenueCloseTime.TimeOfDay\n            );\n\n        if (isWithinOperatingHours)\n        {\n            return GetNextAvailableSlot();\n        }\n\n        // Before opening - use open time\n        if (now.TimeOfDay < VenueOpenTime.TimeOfDay)\n        {\n            return VenueOpenTime;\n        }\n\n        // After closing - use close time (edge case)\n        return VenueCloseTime;\n    }\n\n    /// <summary>\n    /// Gets the next available time slot rounded up from current time\n    /// </summary>\n    private DateTime GetNextAvailableSlot()\n    {\n        int hour = DateTime.Now.Hour;\n        int minute = VenueOpenTime.Minute;\n\n        if (minute == 30)\n        {\n            minute = 0;\n            hour++;\n        }\n        else\n        {\n            minute = 30;\n        }\n\n        return BuildDateTime(DateTime.Today, hour, minute);\n    }\n\n    /// <summary>\n    /// increase the booking duration by 30 minutes if the booking duration is less than 180 minutes and the end time of the booking is less than the close time of the venue. finally calls SelectFieldsWhereSlotIsFree method\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task AddTime()\n    {\n        try\n        {\n            if (BookingDuration < MaxBookingDurationMinutes)\n            {\n                double requestedBookingDuration = BookingDuration + TimeSlotIntervalMinutes;\n                if (\n                    SelectedStartTime.Date.DateTime.AddMinutes(requestedBookingDuration)\n                    <= VenueCloseTime\n                )\n                {\n                    BookingDuration += TimeSlotIntervalMinutes;\n                    await SelectFieldsWhereSlotIsFree();\n                }\n                else\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Out of Range\",\n                        \"The selected time exceeds the venue's closing time\",\n                        \"OK\"\n                    );\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// decrease the booking duration by 30 minutes if the booking duration is greater than 60 minutes. finally calls SelectFieldsWhereSlotIsFree method\n    ///\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task SubtractTime()\n    {\n        try\n        {\n            if (BookingDuration > MinBookingDurationMinutes)\n            {\n                BookingDuration -= TimeSlotIntervalMinutes;\n                await SelectFieldsWhereSlotIsFree();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task CloseMopupCommand()\n    {\n        try\n        {\n            await popupNavigation.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Okay\");\n        }\n    }\n\n    /// <summary>\n    /// this is the command which shows time popup to select the start time for the booking\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task SelectStartTime()\n    {\n        try\n        {\n            IPopupResult<VenueDate> result = await Shell.Current.ShowPopupAsync<VenueDate>(\n                new HoursPopup(StartHoursList)\n            );\n            if (result.WasDismissedByTappingOutsideOfPopup)\n            {\n                return;\n            }\n            else if (result != null)\n            {\n                VenueDate time = result.Result;\n                await OnTimeChanged(time.Date.DateTime);\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// whenever the user select time from the time picker if the booking close time is less than the close time of the venue set the selected start time to the selected time. finally calls SelectFieldsWhereSlotIsFree method\n    /// </summary>\n    /// <returns></returns>\n    async Task OnTimeChanged(DateTime selectedTime)\n    {\n        try\n        {\n            int addDays = VenueCloseTime < VenueOpenTime ? 1 : 0;\n            DateTime requestedBookingStartTime = BuildDateTime(\n                SelectedDate.Date,\n                selectedTime.Hour,\n                selectedTime.Minute,\n                addDays\n            );\n\n            // Validate booking time for today\n            if (SelectedDate.Date.Date == DateTime.Now.Date)\n            {\n                DateTime todayTime = BuildDateTime(\n                    SelectedDate.Date,\n                    DateTime.Now.Hour,\n                    DateTime.Now.Minute\n                );\n\n                if (todayTime - selectedTime > TimeSpan.FromMinutes(AllowedPastBookingMinutes))\n                {\n                    await Shell.Current.DisplayAlert(\n                        \"Out of Range\",\n                        $\"Booking is allowed only up to {AllowedPastBookingMinutes} minutes before the current time\",\n                        \"OK\"\n                    );\n                    return;\n                }\n            }\n\n            DateTime requestedBookingEndTime = requestedBookingStartTime.AddMinutes(\n                BookingDuration\n            );\n\n            if (requestedBookingEndTime <= VenueCloseTime || VenueCloseTime == VenueOpenTime)\n            {\n                SelectedStartTime = new VenueDate(date: selectedTime);\n                OnPropertyChanged(nameof(SelectedStartTime));\n                await SelectFieldsWhereSlotIsFree();\n            }\n            else\n            {\n                SelectedDate = new VenueDate(SelectedDate.Date.AddDays(1));\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// Returns the effective list of fields for the current sport flow.\n    /// For multi-sport capable sports (e.g., Pickleball), this merges the sport's own fields\n    /// with multi-sport courts (Courts 19-22) sourced from other games at the venue.\n    /// </summary>\n    private IEnumerable<Field> GetEffectiveFields()\n    {\n        IList<Field>? sportFields = SelectedGame?.Fields;\n        if (sportFields == null || SelectedVenue == null)\n            return Enumerable.Empty<Field>();\n\n        if (string.IsNullOrEmpty(GameName) || !AppConstants.MultiSportOptions.Contains(GameName))\n            return sportFields;\n\n        HashSet<int> existingFieldNumbers = new HashSet<int>(sportFields.Select(f => f.FieldNumber));\n        int[] missingMultiSportCourts = AppConstants.MultiSportCourtNumbers\n            .Where(n => !existingFieldNumbers.Contains(n))\n            .ToArray();\n\n        if (missingMultiSportCourts.Length == 0)\n            return sportFields;\n\n        List<Field> mergedFields = new List<Field>(sportFields);\n        foreach (AvailableGame otherGame in SelectedVenue.AvailableGames)\n        {\n            if (otherGame.Name == GameName)\n                continue;\n\n            foreach (Field field in otherGame.Fields)\n            {\n                if (missingMultiSportCourts.Contains(field.FieldNumber)\n                    && !mergedFields.Any(f => f.FieldNumber == field.FieldNumber))\n                {\n                    mergedFields.Add(field);\n                }\n            }\n        }\n\n        return mergedFields;\n    }\n\n    /// <summary>\n    /// each field for the selected game and selected venue is added to the AvailableFields list if the field is not booked in the selected time range. finally calls OnPropertyChanged method to update the AvailableFields collection. if there are no available fields display a message \"All fields are full in the selected date and time\".\n    /// </summary>\n    /// <returns></returns>\n    private async Task SelectFieldsWhereSlotIsFree()\n    {\n        try\n        {\n            IEnumerable<Field>? AllFields = GetEffectiveFields();\n\n            SelectedFields?.Clear();\n            AvailableFields?.Clear();\n            // this list is used to store the fields which are available in the selected time range and finally set the AvailableFields property to this list. We can't directly set the AvailableFields property because the UI on iOS does not show ordered list.\n            List<Field> tempFields = [];\n\n            if (AllFields == null || !AllFields.Any())\n            {\n                return;\n            }\n            // to check if the selected time range is already booked, reserved or saved by the user in his cart for the selected field before adding to the available fields list\n            foreach (Field field in AllFields)\n            {\n                ObjectId selectedVenueId = SelectedVenue.Id;\n                string selectedFieldName = field.FieldName;\n                DateTime selectedDate = SelectedDate.Date.Date;\n                DateTime selectedStartTime = SelectedStartTime.Date.DateTime;\n                DateTime selectedEndTime = selectedStartTime.AddMinutes(BookingDuration);\n\n                bool isSlotAvailable = await addToCartService.IsSlotAvailableAsync(\n                    selectedVenueId,\n                    selectedFieldName,\n                    selectedDate,\n                    selectedStartTime,\n                    selectedEndTime\n                );\n\n                if (isSlotAvailable)\n                {\n                    tempFields.Add(field);\n                }\n            }\n\n            if (tempFields.Count > 0)\n            {\n                AvailableFields = tempFields.OrderBy(m => m.FieldNumber).ToObservableCollection();\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// when user selects a field set IsSelected Property of all the fields in the AvailableFields to false and then set IsSelected property of all the selected fields to true\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task FieldSelected()\n    {\n        try\n        {\n            int? fieldsCount = SelectedFields?.Count;\n            AvailableFields\n                ?.ToList()\n                .ForEach(field =>\n                {\n                    field.IsSelected = false;\n                });\n            if (fieldsCount > 0)\n            {\n                foreach (Field field in SelectedFields.Cast<Field>())\n                {\n                    field.IsSelected = true;\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    /// <summary>\n    /// save the selected slot as booking in the Booking table with the booking status to saved. finally call SelectFieldsWhereSlotIsFree method and display a message \"your selection added to cart\"\n    /// </summary>\n    /// <returns></returns>\n    [RelayCommand]\n    async Task BookNow()\n    {\n        if (SelectedFields.Count == 0)\n        {\n            await Shell.Current.DisplayAlert(\n                \"No fields\",\n                \"Select minimum one field for a booking\",\n                \"OK\"\n            );\n            return;\n        }\n\n        List<NewBooking?> selectedBookings = new List<NewBooking?>();\n        try\n        {\n            decimal peakHoursRate = 0;\n            decimal peakHoursDuration = 0;\n            decimal nonPeakHoursRate = 0;\n            decimal nonPeakHoursDuration = 0;\n\n            (\n                decimal peakHoursRate,\n                decimal peakHoursDuration,\n                decimal nonPeakHoursRate,\n                decimal nonPeakHoursDuration\n            )? peakHourData = GetRateAndDuration();\n\n            int year = SelectedDate.Date.Year;\n            int month = SelectedDate.Date.Month;\n            int day = SelectedDate.Date.Day;\n            TimeOnly startTime = new TimeOnly(\n                SelectedStartTime.Date.Hour,\n                SelectedStartTime.Date.Minute\n            );\n\n            if (peakHourData != null)\n            {\n                peakHoursRate = peakHourData.Value.peakHoursRate;\n                peakHoursDuration = peakHourData.Value.peakHoursDuration / 60;\n                nonPeakHoursRate = peakHourData.Value.nonPeakHoursRate;\n                nonPeakHoursDuration = peakHourData.Value.nonPeakHoursDuration / 60;\n            }\n\n            decimal peakHoursPrice = peakHoursRate * peakHoursDuration;\n            decimal nonPeakHoursPrice = nonPeakHoursRate * nonPeakHoursDuration;\n\n            TimeOnly endTime = startTime.AddMinutes(BookingDuration);\n\n            decimal Price = peakHoursPrice + nonPeakHoursPrice;\n            Charge? charge = syncRealm?.All<Charge>().FirstOrDefault();\n            decimal ConPercent = charge?.ConvenienceFeePercent ?? 0;\n            decimal taxPercent = charge?.TaxPercent ?? 0;\n            decimal ConFee = (Price / 100) * ConPercent;\n            decimal Total = Price + ConFee;\n            decimal TaxAmount = (Total / 100) * taxPercent;\n            decimal TotalPrice = Total + TaxAmount;\n\n            foreach (Field field in SelectedFields.Cast<Field>())\n            {\n                NewBooking booking = new NewBooking(\n                    _id: ObjectId.GenerateNewId().ToString(),\n                    venue: SelectedVenue.Id.ToString(),\n                    ownerId: SelectedVenue.OwnerId,\n                    bookingStatus: AppConstants.Created,\n                    fieldName: field.FieldName,\n                    gameName: GameName,\n                    price: Price,\n                    pricePerHour: 0.0M,\n                    totalPrice: TotalPrice,\n                    convenienceFeePercentage: ConPercent,\n                    taxPercentage: taxPercent,\n                    convenienceFee: ConFee,\n                    tax: TaxAmount,\n                    priceAfterAddingConvenienceFee: Total,\n                    discountPercentage: 0.0M,\n                    discount: 0.0M,\n                    priceAfterDeductingDiscount: 0.0M,\n                    duration: 0.0M,\n                    startTime: new DateTimeOffset(\n                        new DateTime(year, month, day, startTime.Hour, startTime.Minute, 0),\n                        TimeZoneInfo.Local.GetUtcOffset(new DateTime(year, month, day, startTime.Hour, startTime.Minute, 0))\n                    ),\n                    endTime: new DateTimeOffset(\n                        new DateTime(year, month, day, endTime.Hour, endTime.Minute, 0),\n                        TimeZoneInfo.Local.GetUtcOffset(new DateTime(year, month, day, endTime.Hour, endTime.Minute, 0))\n                    ),\n                    bookingDate: DateHelper.GetDate(DateTime.Now),\n                    currency: \"cad\",\n                    paymentIntentStatus: \"\",\n                    cartId: Guid.NewGuid().ToString(),\n                    peoplePerGame: SelectedGame.PeoplePerGame,\n                    isHosted: false,\n                    numberOfPlayersRequiredForHosting: 0,\n                    isBookedByVendor: false,\n                    costShared: true,\n                    bringYourOwnEquipment: true,\n                    playerCompetancyLevel: PlayerCompetancy.Beginner,\n                    player: Gamer.Id.ToString(),\n                    customerName: Gamer.FullName,\n                    customerEmail: Gamer.Email,\n                    customerPhone: Gamer.MobileNumber,\n                    source: \"mobile\",\n                    notes: \"\",\n                    isFirstBookingCouponApplied: false,\n                    nonPeakHoursDuration: nonPeakHoursDuration,\n                    peakHoursDuration: peakHoursDuration,\n                    totalDuration: nonPeakHoursDuration + peakHoursDuration,\n                    nonPeakPricePerHour: nonPeakHoursRate,\n                    peakPricePerHour: peakHoursRate\n                );\n\n                selectedBookings.Add(booking);\n            }\n        // the server use data sent in New Booking/s to create Booking.\n            await CreateBookings(selectedBookings);\n\n            SelectedFields.Clear();\n            await FieldSelected();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private (\n        decimal peakHoursRate,\n        decimal peakHoursDuration,\n        decimal nonPeakHoursRate,\n        decimal nonPeakHoursDuration\n    )? GetRateAndDuration()\n    {\n        try\n        {\n            TimeSpan startTime = SelectedStartTime.Date.TimeOfDay;\n            TimeSpan endTime = SelectedStartTime.Date.AddMinutes(BookingDuration).TimeOfDay;\n            decimal peakHoursDuration = 0;\n            decimal peakHoursRate = 0;\n            decimal nonPeakHoursDuration = 0;\n            decimal nonPeakHoursRate = 0;\n\n            bool useWeekendRates = !isWeekDay || IsCanadaHoliday(SelectedStartTime.Date);\n\n            if (!useWeekendRates)\n            {\n                for (\n                    TimeSpan time = startTime;\n                    time < endTime;\n                    time = time.Add(TimeSpan.FromMinutes(TimeSlotIntervalMinutes))\n                )\n                {\n                    if (SelectedGame.WeekdayPeakHoursHourlyRate == 0)\n                    {\n                        nonPeakHoursDuration += TimeSlotIntervalMinutes;\n                    }\n                    else\n                    {\n                        bool isInPeakHours = IsPeakHoursInWeekday(\n                            time,\n                            time.Add(TimeSpan.FromMinutes(TimeSlotIntervalMinutes))\n                        );\n\n                        if (isInPeakHours)\n                        {\n                            peakHoursDuration += TimeSlotIntervalMinutes;\n                        }\n                        else\n                        {\n                            nonPeakHoursDuration += TimeSlotIntervalMinutes;\n                        }\n                    }\n                }\n                if (peakHoursDuration > 0)\n                {\n                    peakHoursRate = SelectedGame.WeekdayPeakHoursHourlyRate;\n                }\n                if (nonPeakHoursDuration > 0)\n                {\n                    nonPeakHoursRate = SelectedGame.WeekdayHourlyRate;\n                }\n            }\n            else\n            {\n                for (\n                    TimeSpan time = startTime;\n                    time < endTime;\n                    time = time.Add(TimeSpan.FromMinutes(TimeSlotIntervalMinutes))\n                )\n                {\n                    if (SelectedGame.WeekendPeakHoursHourlyRate == 0)\n                    {\n                        nonPeakHoursDuration += TimeSlotIntervalMinutes;\n                    }\n                    else\n                    {\n                        bool isInPeakHours = IsPeakHoursInWeekend(\n                            time,\n                            time.Add(TimeSpan.FromMinutes(TimeSlotIntervalMinutes))\n                        );\n\n                        if (isInPeakHours)\n                        {\n                            peakHoursDuration += TimeSlotIntervalMinutes;\n                        }\n                        else\n                        {\n                            nonPeakHoursDuration += TimeSlotIntervalMinutes;\n                        }\n                    }\n                }\n                if (peakHoursDuration > 0)\n                {\n                    peakHoursRate = SelectedGame.WeekendPeakHoursHourlyRate;\n                }\n                if (nonPeakHoursDuration > 0)\n                {\n                    nonPeakHoursRate = SelectedGame.WeekendHourlyRate;\n                }\n            }\n\n            return (peakHoursRate, peakHoursDuration, nonPeakHoursRate, nonPeakHoursDuration);\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n        return null;\n    }\n\n    private bool IsPeakHoursInWeekday(TimeSpan startTime, TimeSpan endTime)\n    {\n        return startTime >= SelectedGame?.Timing?.WeekdayPeakHoursStartTime.TimeOfDay\n            && endTime <= SelectedGame?.Timing?.WeekdayPeakHoursEndTime.TimeOfDay;\n    }\n\n    private bool IsPeakHoursInWeekend(TimeSpan startTime, TimeSpan endTime)\n    {\n        return startTime >= SelectedGame?.Timing?.WeekendPeakHoursStartTime.TimeOfDay\n            && endTime <= SelectedGame?.Timing?.WeekendPeakHoursEndTime.TimeOfDay;\n    }\n\n    /// <summary>\n    /// Calls AddToCart() method in order to save the SelectedFields, if any to the Cart and then navigate to CartView.\n    /// </summary>\n    /// <returns></returns>\n    async Task CreateBookings(List<NewBooking> selectedBookings)\n    {\n        try\n        {\n            // validate the selected fields and only add navigate to the paymentview if the fields are available on selected time range\n            if (selectedBookings.Count > 0)\n            {\n                await popupNavigation.PushAsync(new BusyMopup());\n                CreateBookingsRequest request = new CreateBookingsRequest(\n                    bookingData: selectedBookings,\n                    environment: AppConstants.Environment\n                );\n\n                ValidateAvailabilityResponse? apiResponse = await stripeService.CreateBooking(\n                    request\n                );\n                if (apiResponse.Available != null)\n                {\n                    Realm realm = await Realm.GetInstanceAsync(realmService.Config);\n                    Task syncTask = realm.Subscriptions.WaitForSynchronizationAsync();\n                    Task timeoutTask = Task.Delay(3000);\n                    await Task.WhenAny(syncTask, timeoutTask);\n                    await navigationService.NavigateToAsync(nameof(PaymentView));\n                    await popupNavigation.PopAsync();\n                }\n                else\n                {\n                    await popupNavigation.PopAsync();\n                    await Shell.Current.DisplayAlert(\"Error\", apiResponse.Error, \"OK\");\n                    await SelectFieldsWhereSlotIsFree();\n                }\n            }\n            else\n            {\n                await Shell.Current.DisplayAlert(\n                    \"Error\",\n                    \"All fields are full in the selected date and time\",\n                    \"OK\"\n                );\n            }\n        }\n        catch (Exception ex)\n        {\n            await popupNavigation.PopAsync();\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    [RelayCommand]\n    async Task NavigateBack()\n    {\n        try\n        {\n            await navigationService.PopAsync();\n        }\n        catch (Exception ex)\n        {\n            await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":39084,"size_tokens":null},"Player/Models/Chat/ChatParticipant.cs":{"content":"using System;\n\nnamespace Player.Models.Chat;\n\npublic class ChatParticipant\n{\n    public string UserName { get; set; }\n}\n","path":null,"size_bytes":120,"size_tokens":null},"Admin/Platforms/Android/MainActivity.cs":{"content":"﻿using Android.App;\nusing Android.Content.PM;\nusing Android.OS;\n\nnamespace Admin;\n\n[Activity(\n    Theme = \"@style/Maui.SplashTheme\",\n    MainLauncher = true,\n    LaunchMode = LaunchMode.SingleTop,\n    ConfigurationChanges = ConfigChanges.ScreenSize\n        | ConfigChanges.Orientation\n        | ConfigChanges.UiMode\n        | ConfigChanges.ScreenLayout\n        | ConfigChanges.SmallestScreenSize\n        | ConfigChanges.Density\n)]\npublic class MainActivity : MauiAppCompatActivity { }\n","path":null,"size_bytes":487,"size_tokens":null},"Player/ViewModels/Connect/ConnectViewModel.cs":{"content":"﻿using Realms;\n\nnamespace Player.ViewModels.Connect\n{\n    public partial class ConnectViewModel : BaseViewModel\n    {\n        [ObservableProperty]\n        byte[]? playerImage;\n\n        [ObservableProperty]\n        string? userName;\n\n        private readonly IRealmService realmService;\n        private readonly INavigationService navigationService;\n        private readonly IConnectivity connectivity;\n\n        public ConnectViewModel(\n            INavigationService navigationService,\n            IRealmService realmService,\n            IConnectivity connectivity\n        )\n            : base(navigationService, realmService, connectivity)\n        {\n            this.connectivity = connectivity;\n            this.realmService = realmService;\n            this.navigationService = navigationService;\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                Realm realm = Realm.GetInstance(realmService.Config);\n                VenueUser? Player = realm\n                    .All<VenueUser>()\n                    .Where(n => n.OwnerId == realmService.RealmUser.Id)\n                    .FirstOrDefault();\n                UserName = Player?.FirstName;\n                PlayerImage = Player?.ProfileImage;\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"Ok\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":1418,"size_tokens":null},"Dome.Shared/Services/Implementations/Authentication/LogoutService.cs":{"content":"using System;\n\nnamespace Dome.Shared.Services.Implementations.Authentication;\n\npublic class LogoutService : ILogoutService\n{\n    private readonly FrontendApi _frontendApi;\n    private readonly ISecureStorage _secureStorage;\n\n    public LogoutService(ISecureStorage secureStorage)\n    {\n        var configuration = new Configuration { BasePath = AppConstants.BaseUrl };\n\n        _frontendApi = new FrontendApi(configuration);\n        _secureStorage = secureStorage;\n    }\n\n    public async Task LogoutUser()\n    {\n        string? sessionToken = await _secureStorage.GetAsync(\"sessionToken\");\n\n        ClientPerformNativeLogoutBody? clientPerformNativeLogoutBody =\n            new ClientPerformNativeLogoutBody(sessionToken: sessionToken);\n        await _frontendApi.PerformNativeLogoutAsync(clientPerformNativeLogoutBody);\n    }\n}\n","path":null,"size_bytes":830,"size_tokens":null},"Player/Helpers/IAppStaticData.cs":{"content":"﻿namespace Player.Helpers\n{\n    public interface IAppStaticData\n    {\n        Task<List<FavouriteGame>> GetGamesForUser();\n\n        Task<List<AgeGroup>> GetAgeGroupsForUser();\n    }\n}\n","path":null,"size_bytes":186,"size_tokens":null},"Player/Views/Account/ChangePasswordView.cs":{"content":"namespace Player.Views.Account;\n\npublic class ChangePasswordView : AccountBaseView\n{\n    public ChangePasswordView(ChangePasswordViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            Content = new ScrollView\n            {\n                Content = new Grid\n                {\n                    RowDefinitions = Rows.Define((BodyRow.first, Auto), (BodyRow.second, Auto)),\n                    Children =\n                    {\n                        new AccountTopControl().Row(BodyRow.first),\n                        new VerticalStackLayout\n                        {\n                            Margin = new Thickness(20, 10, 20, 10),\n                            Children =\n                            {\n                                new ExtraBold28Label { Text = \"Change Password\" },\n                                new DualImageBorderedEntry { PlaceholderText = \"New Password\" }\n                                    .Bind(\n                                        DualImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.NewPassword),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 20, 0, 0),\n                                new Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(viewModel.NewPasswordError),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.NewPasswordError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    ),\n                                new DualImageBorderedEntry\n                                {\n                                    PlaceholderText = \"Confirm New Password\",\n                                }\n                                    .Bind(\n                                        DualImageBorderedEntry.EntryTextProperty,\n                                        nameof(viewModel.ConfirmNewPassword),\n                                        BindingMode.TwoWay,\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 20, 0, 0),\n                                new Label { TextColor = Colors.Red }\n                                    .Bind(\n                                        Label.TextProperty,\n                                        nameof(viewModel.ConfirmNewPasswordError),\n                                        source: viewModel\n                                    )\n                                    .Bind(\n                                        IsVisibleProperty,\n                                        nameof(viewModel.ConfirmNewPasswordError),\n                                        converter: new IsStringNotNullOrEmptyConverter(),\n                                        source: viewModel\n                                    ),\n                                new MediumButton { Text = \"SUBMIT\", WidthRequest = 200 }\n                                    .BindCommand(\n                                        nameof(viewModel.ResetPasswordCommand),\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 20, 0, 0),\n                                new MediumButton\n                                {\n                                    Text = \"CANCEL\",\n                                    WidthRequest = 200,\n                                    Background = Color.FromArgb(\"#272727\"),\n                                }\n                                    .BindCommand(\n                                        nameof(viewModel.CancelPasswordResetCommand),\n                                        source: viewModel\n                                    )\n                                    .Margins(0, 20, 0, 0),\n                            },\n                        }.Row(BodyRow.second),\n                    },\n                },\n            };\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n}\n","path":null,"size_bytes":4618,"size_tokens":null},"Player/Views/Account/VerifyRegisteredMobileNumberView.cs":{"content":"namespace Player.Views.Account;\n\npublic class VerifyRegisteredMobileNumberView : AccountBaseView\n{\n    private readonly VerifyRegisteredMobileNumberViewModel? viewModel;\n\n    public VerifyRegisteredMobileNumberView(VerifyRegisteredMobileNumberViewModel viewModel)\n        : base(viewModel)\n    {\n        try\n        {\n            this.viewModel = viewModel;\n            Content = new Grid\n            {\n                RowDefinitions = Rows.Define(\n                    (BodyRow.first, Auto),\n                    (BodyRow.second, Auto),\n                    (BodyRow.third, Auto),\n                    (BodyRow.fourth, Auto),\n                    (BodyRow.fifth, Auto),\n                    (BodyRow.sixth, Auto),\n                    (BodyRow.seventh, Auto),\n                    (BodyRow.eighth, Auto),\n                    (BodyRow.ninth, Auto),\n                    (BodyRow.tenth, Auto),\n                    (BodyRow.eleventh, Auto)\n                ),\n\n                Children =\n                {\n                    new AccountTopControl(),\n                    new Image { }\n                        .AppThemeBinding(\n                            Image.SourceProperty,\n                            \"verify_email_light_theme.png\",\n                            \"verify_email_dark_theme.png\"\n                        )\n                        .Row(BodyRow.second),\n                    new ExtraBold28Label\n                    {\n                        Text = \"Verify Mobile Number\",\n                        HorizontalOptions = LayoutOptions.Center,\n                    }\n                        .Row(BodyRow.third)\n                        .Margins(0, 10, 0, 0),\n                    new Regular12Label { HorizontalOptions = LayoutOptions.Center }\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span\n                                {\n                                    Text = \"You will get OTP via mobile to \",\n                                    FontFamily = \"InterRegular\",\n                                    FontSize = 12,\n                                }.AppThemeBinding(\n                                    Span.TextColorProperty,\n                                    Color.FromArgb(\"#626262\"),\n                                    Color.FromArgb(\"#A2A2A2\")\n                                ),\n                                new Span { FontFamily = \"InterBold\", FontSize = 12 }\n                                    .AppThemeBinding(\n                                        Span.TextColorProperty,\n                                        Colors.Black,\n                                        Color.FromArgb(\"#626262\")\n                                    )\n                                    .Bind(Span.TextProperty, nameof(viewModel.UserMobileNumber)),\n                            }\n                        )\n                        .Row(BodyRow.fourth)\n                        .Margins(0, 5, 0, 0),\n                    new Label { HorizontalOptions = LayoutOptions.Center }\n                        .AppThemeBinding(\n                            Regular12Label.TextColorProperty,\n                            Color.FromArgb(\"#626262\"),\n                            Color.FromArgb(\"#A2A2A2\")\n                        )\n                        .Margins(0, 0, 0, 0)\n                        .Row(BodyRow.sixth)\n                        .FormattedText(\n                            new[]\n                            {\n                                new Span\n                                {\n                                    Text = \"You can resend the OTP in \",\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                },\n                                new Span\n                                {\n                                    TextColor = Colors.Red,\n                                    FontFamily = \"InterBold\",\n                                    FontSize = 12,\n                                }.Bind(Span.TextProperty, nameof(viewModel.TimeLeft)),\n                            }\n                        ),\n                    new BorderedEntry { HorizontalOptions = LayoutOptions.Fill }\n                        .Row(BodyRow.seventh)\n                        .Bind(BorderedEntry.EntryTextProperty, nameof(viewModel.OneTimePasscode), BindingMode.TwoWay, source: viewModel)\n                        .Row(BodyRow.seventh)\n                        .Margins(30, 20, 30, 0),\n                    new MediumButton { Text = \"CONFIRM\", WidthRequest = 257 }\n                        .Row(BodyRow.eighth)\n                        .BindCommand(nameof(viewModel.VerifySMSOTPCommand), source: viewModel)\n                        .Margins(0, 25, 0, 0),\n                    new MediumButton\n                    {\n                        Text = \"CANCEL\",\n                        WidthRequest = 257,\n                        Background = Color.FromArgb(\"#272727\"),\n                    }\n                        .BindCommand(nameof(viewModel.CancelCommand))\n                        .Row(BodyRow.ninth)\n                        .Margins(0, 10, 0, 0),\n                    new HorizontalStackLayout\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n                        VerticalOptions = LayoutOptions.Center,\n                        Spacing = 5,\n                        Children =\n                        {\n                            new Bold14Label\n                            {\n                                Text = \"Didn't receive the OTP?\",\n                                TextColor = Color.FromArgb(\"#A2A2A2\"),\n                            },\n                            new Button\n                            {\n                                Text = \"Resend OTP\",\n                                Background = Colors.Transparent,\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                                FontFamily = \"InterBold\",\n                                FontSize = 14,\n                                Padding = 0,\n                            }.BindCommand(nameof(viewModel.SendSMSOTPCommand)),\n                        },\n                    }\n                        .Row(BodyRow.tenth)\n                        .Margins(0, 15, 0, 0),\n                    new HorizontalStackLayout\n                    {\n                        HorizontalOptions = LayoutOptions.Center,\n\n                        Spacing = 5,\n                        Children =\n                        {\n                            new Bold14Label\n                            {\n                                Text = \"Not the correct mobile number?\",\n                                TextColor = Color.FromArgb(\"#A2A2A2\"),\n                            },\n                            new Button\n                            {\n                                Text = \"Change\",\n                                Background = Colors.Transparent,\n                                TextColor = Color.FromArgb(\"#EF2F50\"),\n                                FontFamily = \"InterBold\",\n                                FontSize = 14,\n                                Padding = 0,\n                            }.BindCommand(nameof(viewModel.ChangeMobileNumberCommand)),\n                        },\n                    }\n                        .Row(BodyRow.eleventh)\n                        .Margins(0, 5, 0, 0),\n                },\n            };\n\n            Loaded += VerifyRegisteredMobileNumberView_Loaded;\n        }\n        catch (Exception ex)\n        {\n            Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n        }\n    }\n\n    private async void VerifyRegisteredMobileNumberView_Loaded(object? sender, EventArgs e)\n    {\n        if (viewModel != null)\n        {\n            await viewModel.SendSMSOTPCommand.ExecuteAsync(null);\n        }\n    }\n}\n","path":null,"size_bytes":7932,"size_tokens":null},"Admin/ViewModels/SyncDataViewModel.cs":{"content":"﻿using System.Reflection;\nusing Dome.Shared.Services.Implementations;\nusing Dome.Shared.Synced;\nusing Realms;\n\nnamespace Admin.ViewModels\n{\n    public class SyncDataViewModel : ObservableObject\n    {\n        Realm realmInstance;\n\n        IRealmService realmService;\n        INavigationService navigationService;\n        IConnectivity connectivity;\n        ISettingsService settingsService;\n\n        public SyncDataViewModel(\n            IRealmService realmService,\n            INavigationService navigationService,\n            IConnectivity connectivity,\n            ISettingsService settingsService\n        )\n        {\n            try\n            {\n                this.realmService = realmService;\n                this.navigationService = navigationService;\n                this.connectivity = connectivity;\n                this.settingsService = settingsService;\n            }\n            catch (Exception ex)\n            {\n                Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        public async Task LoadData()\n        {\n            try\n            {\n                if (connectivity.NetworkAccess != NetworkAccess.Internet)\n                {\n                    // await  StartTimer();\n                }\n                realmInstance = await Realm.GetInstanceAsync(realmService.Config);\n                await realmInstance.Subscriptions.WaitForSynchronizationAsync();\n\n                await FindNextView();\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n\n        private async Task FindNextView()\n        {\n            try\n            {\n                string? email = realmService?.RealmUser?.Profile.Email;\n                // the tester@store.com is login Id for store reviewer. It should by pass the email and sms verification.\n                if (email == \"tester@store.com\")\n                {\n                    await navigationService.NavigateToAsync(\"///VendorYard\");\n                }\n                else\n                {\n                    if (settingsService.IsEmailVerificationPending)\n                    {\n                        await navigationService.NavigateToAsync(\n                            $\"/{nameof(AuthenticateEmailForLoginView)}\"\n                        );\n                    }\n                    else\n                    {\n                        await navigationService.NavigateToAsync(\"///VendorYard\");\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                await Shell.Current.DisplayAlert(\"Error\", ex.Message, \"OK\");\n            }\n        }\n    }\n}\n","path":null,"size_bytes":2715,"size_tokens":null},"Admin/Services/Implementations/RealmService.cs":{"content":"﻿namespace Admin.Services.Implementations\n{\n    public class RealmService : IRealmService\n    {\n        public FlexibleSyncConfiguration? Config { get; }\n\n        public User? RealmUser { get; }\n\n        public RealmService(INavigationService navigationService)\n        {\n            RealmUser = App.RealmApp.CurrentUser;\n            if (\n                RealmUser == null\n                || RealmUser.State == UserState.Removed\n                || RealmUser.State == UserState.LoggedOut\n            )\n            {\n                navigationService.NavigateToAsync(nameof(LoginView));\n                return;\n            }\n            Config = new FlexibleSyncConfiguration(RealmUser)\n            {\n                CancelAsyncOperationsOnNonFatalErrors = true,\n                SchemaVersion = 0,\n                PopulateInitialSubscriptions = (realm) =>\n                {\n                    IQueryable<Venue> venues = realm.All<Venue>();\n                    IQueryable<VenueUser> players = realm.All<VenueUser>();\n                    IQueryable<Booking> bookings = realm.All<Booking>();\n                    IQueryable<Province> provinces = realm.All<Province>();\n                    IQueryable<Game> games = realm.All<Game>();\n                    IQueryable<Amenity> amenities = realm.All<Amenity>();\n                    IQueryable<LearningContent> learningContents = realm.All<LearningContent>();\n                    IQueryable<Coach> coaches = realm.All<Coach>();\n                    IQueryable<Coupon> coupons = realm.All<Coupon>();\n\n                    realm.Subscriptions.Add(venues);\n                    realm.Subscriptions.Add(players);\n                    realm.Subscriptions.Add(bookings);\n                    realm.Subscriptions.Add(provinces);\n                    realm.Subscriptions.Add(games);\n                    realm.Subscriptions.Add(amenities);\n                    realm.Subscriptions.Add(learningContents);\n                    realm.Subscriptions.Add(coaches);\n                    realm.Subscriptions.Add(coupons);\n                },\n            };\n\n            Config.OnSessionError = (session, sessionException) => {\n                // See https://www.mongodb.com/docs/realm-sdks/dotnet/latest/reference/Realms.Sync.Exceptions.ErrorCode.html for all of the error codes\n            };\n\n            Config.ClientResetHandler = new RecoverOrDiscardUnsyncedChangesHandler\n            {\n                ManualResetFallback = (err) =>\n                {\n                    if (err != null)\n                    {\n                        new ManualRecoveryHandler(HandleClientResetError);\n                    }\n                },\n            };\n        }\n\n        private void HandleClientResetError(ClientResetException clientResetException)\n        {\n            Console.WriteLine($\"Client Reset requested: {clientResetException.Message}\");\n            // Prompt user to perform a client reset immediately. If they don't,\n            // they won't receive any data from the server until they restart the app\n            // and all changes they make will be discarded when the app restarts.\n            // var didUserConfirmReset = ShowUserAConfirmationDialog();\n            //if (didUserConfirmReset)\n            //{\n            // Close the Realm before doing the reset. It must be\n            // deleted as part of the reset.\n            // fsRealm.Dispose();\n            // perform the client reset\n            var didReset = clientResetException.InitiateClientReset();\n            if (didReset)\n            {\n                // Navigate the user back to the main page or reopen the\n                // the Realm and reinitialize the current page\n            }\n            else\n            {\n                // Reset failed - notify user that they'll need to\n                // update the app\n            }\n        }\n    }\n}\n","path":null,"size_bytes":3845,"size_tokens":null}},"version":2}